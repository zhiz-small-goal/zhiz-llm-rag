---
title: Doc Inventory (Level 3 Step1)
version: v0.1
last_updated: 2026-01-23T16:27:57+0800
timezone: America/Los_Angeles
owner: zhiz
status: generated
---

# Doc Inventory (Level 3 Step1)

## 目录
- [1. Summary](#1-summary)
- [2. need_align (active docs to align)](#2-need_align-active-docs-to-align)
- [3. only_note (archive/postmortem hits)](#3-only_note-archivepostmortem-hits)
- [4. Full list](#4-full-list)

## 1. Summary

- generated_at: `2026-01-23T16:27:57+0800`
- git_head: `794c24bbfcf14cb08e6de16d8d7ec2b6aae7caf7`
- md_files_total: **146**
- keywords (Step1 fixed set): `index_state.json`, `index_state.stage.jsonl`, `resume-status`, `on-missing-state`, `writer.lock`, `strict-sync`, `sync-mode`, `collection.count`, `schema_hash`

### 1.1 Role counts
- `README`: 63
- `guide`: 32
- `postmortem`: 24
- `reference`: 16
- `archive`: 6
- `runbook`: 5

### 1.2 Action counts
- `no_action`: 121
- `need_align`: 19
- `only_note`: 6

### 1.3 Keyword coverage (docs containing keyword)
- `resume-status`: 17
- `collection.count`: 16
- `index_state.stage.jsonl`: 16
- `on-missing-state`: 15
- `index_state.json`: 14
- `schema_hash`: 12
- `strict-sync`: 8
- `sync-mode`: 7
- `writer.lock`: 7

## 2. need_align (active docs to align)

- `docs/explanation/HANDOFF.md` — **HANDOFF (SSOT) - zhiz-llm-rag** (role=guide)
  - `resume-status`: L220 (### 5.1 scope / non-goals); L241 (### 5.2 SoT artifacts); L255 (### 5.3 commands（Step1–Step3）)
  - `strict-sync`: L218 (### 5.1 scope / non-goals)
- `docs/explanation/planning_chroma_resume_20260122.md` — **Chroma 索引断点续跑（方案 B）推进计划** (role=guide)
  - `collection.count`: L151 (## 失败模式与缓解); L187 (## 替代方案)
  - `index_state.json`: L21 (# Chroma 索引断点续跑（方案 B）推进计划); L22 (# Chroma 索引断点续跑（方案 B）推进计划); L80 (### Step1（已完成）— 引入进度/WAL 的基础事件流并实现 doc 级续跑)
  - `index_state.stage.jsonl`: L21 (# Chroma 索引断点续跑（方案 B）推进计划); L22 (# Chroma 索引断点续跑（方案 B）推进计划); L51 (## 结论) (+6 more)
  - `resume-status`: L72 (## 进度记录); L73 (## 进度记录); L104 (### Step2 — 将进度/WAL 升级为“写入多少、记录就同步在” [CON]) (+4 more)
  - `schema_hash`: L58 (## 假设); L60 (## 假设); L81 (### Step1（已完成）— 引入进度/WAL 的基础事件流并实现 doc 级续跑) (+1 more)
- `docs/explanation/planning_doc_system_level3_sync_20260123.md` — **Level 3：文档体系重构与一致性收敛计划（WAL/续跑语义）** (role=guide)
  - `collection.count`: L63 (### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON])
  - `index_state.json`: L46 (## 假设（默认）); L63 (### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON])
  - `index_state.stage.jsonl`: L46 (## 假设（默认）); L63 (### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]); L106 (### Step6 — 文档门禁与回归（CI Checks + Review Checklist）[CON])
  - `on-missing-state`: L63 (### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]); L72 (### Step2 — 确立 SSOT 与术语表（Glossary + Contract）[STD][OFF])
  - `resume-status`: L63 (### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]); L75 (### Step3 — 统一 CLI/参数/日志字段表（Single Source of CLI Truth）[CON]); L83 (### Step4 — 迁移与去重：README/howto/runbook 全面收敛到 SSOT [CON]) (+3 more)
  - `schema_hash`: L63 (### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]); L69 (### Step2 — 确立 SSOT 与术语表（Glossary + Contract）[STD][OFF])
  - `strict-sync`: L55 (## 输出物（交付形态）); L63 (### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]); L69 (### Step2 — 确立 SSOT 与术语表（Glossary + Contract）[STD][OFF]) (+1 more)
  - `sync-mode`: L63 (### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]); L77 (### Step3 — 统一 CLI/参数/日志字段表（Single Source of CLI Truth）[CON])
  - `writer.lock`: L63 (### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON])
- `docs/howto/OPERATION_GUIDE.md` — **OPERATION GUIDE（运行手册）** (role=runbook)
  - `collection.count`: L259 (### Step 6：check（强校验）——以 plan 为准做 PASS/FAIL 判定)
  - `index_state.json`: L206 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch); L240 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch)
  - `index_state.stage.jsonl`: L205 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch)
  - `on-missing-state`: L53 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）); L54 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）); L214 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch) (+2 more)
  - `resume-status`: L210 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch); L219 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch); L227 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch) (+1 more)
  - `schema_hash`: L205 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch); L240 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch)
  - `strict-sync`: L231 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch)
  - `sync-mode`: L221 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch)
  - `writer.lock`: L197 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch); L205 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch); L219 (### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch)
- `docs/reference/DOC_SYSTEM_SSOT.md` — **文档体系 SSOT（Level 3：WAL/断点续跑语义）** (role=reference)
  - `collection.count`: L59 (## 3. 术语口径（必须统一的关键词）); L61 (## 3. 术语口径（必须统一的关键词）)
  - `index_state.json`: L42 (## 2. SSOT 清单（哪些文档是“定义”，哪些是“用法”）); L57 (## 3. 术语口径（必须统一的关键词）)
  - `index_state.stage.jsonl`: L42 (## 2. SSOT 清单（哪些文档是“定义”，哪些是“用法”）); L58 (## 3. 术语口径（必须统一的关键词）)
  - `on-missing-state`: L59 (## 3. 术语口径（必须统一的关键词）)
  - `resume-status`: L29 (## 1. 裁决优先级（出现冲突时以谁为准）); L41 (## 2. SSOT 清单（哪些文档是“定义”，哪些是“用法”）); L46 (## 2. SSOT 清单（哪些文档是“定义”，哪些是“用法”）) (+3 more)
  - `schema_hash`: L43 (## 2. SSOT 清单（哪些文档是“定义”，哪些是“用法”）)
  - `strict-sync`: L12 (# 文档体系 SSOT（Level 3：WAL/断点续跑语义）); L61 (## 3. 术语口径（必须统一的关键词）); L96 (## 6. 变更触发器（何时必须同步更新文档）)
  - `writer.lock`: L42 (## 2. SSOT 清单（哪些文档是“定义”，哪些是“用法”）)
- `docs/reference/GLOSSARY_WAL_RESUME.md` — **术语表（WAL/断点续跑/State）** (role=reference)
  - `collection.count`: L20 (## 目录); L58 (## 5. strict-sync / expected_chunks / collection.count); L61 (## 5. strict-sync / expected_chunks / collection.count) (+1 more)
  - `index_state.json`: L27 (## 1. State / WAL / Stamps)
  - `index_state.stage.jsonl`: L28 (## 1. State / WAL / Stamps)
  - `resume-status`: L70 (## 6. writer.lock（单写入者互斥）)
  - `schema_hash`: L18 (## 目录); L27 (## 1. State / WAL / Stamps); L43 (## 3. schema_hash / run_id) (+1 more)
  - `strict-sync`: L20 (## 目录); L58 (## 5. strict-sync / expected_chunks / collection.count); L62 (## 5. strict-sync / expected_chunks / collection.count)
  - `writer.lock`: L21 (## 目录); L66 (## 6. writer.lock（单写入者互斥）); L68 (## 6. writer.lock（单写入者互斥）)
- `docs/reference/REFERENCE.md` — **参考与契约（REFERENCE）** (role=reference)
  - `collection.count`: L185 (#### 4.7.1 硬验收（必须 PASS）)
- `docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md` — **报告输出契约（v2）与工程规则（SSOT）** (role=reference)
  - `index_state.json`: L68 (## 2. 适用范围); L301 (### 9.1 统一原则)
  - `index_state.stage.jsonl`: L271 (### 8.2 items-only 事件流（`*.events.jsonl`）)
- `docs/reference/build_chroma_cli_and_logs.md` — **build_chroma_index_flagembedding CLI 与日志真相表（SSOT）** (role=reference)
  - `collection.count`: L74 (## 2. 组合语义（关键因果规则）); L85 (## 3. `--resume-status` 输出字段（只读预检）); L103 (### 4.1 State 缺失但库非空（默认评估）)
  - `index_state.json`: L54 (### Sync/State); L86 (## 3. `--resume-status` 输出字段（只读预检）)
  - `on-missing-state`: L50 (### Sync/State); L70 (## 2. 组合语义（关键因果规则）); L71 (## 2. 组合语义（关键因果规则）) (+2 more)
  - `resume-status`: L11 (# build_chroma_index_flagembedding CLI 与日志真相表（SSOT）); L18 (## 目录); L59 (### WAL/Resume/Lock) (+4 more)
  - `schema_hash`: L84 (## 3. `--resume-status` 输出字段（只读预检）)
  - `strict-sync`: L53 (### Sync/State); L74 (## 2. 组合语义（关键因果规则）)
  - `sync-mode`: L48 (### Sync/State); L125 (## 5. 最小用法（Windows CMD）)
  - `writer.lock`: L63 (### WAL/Resume/Lock); L111 (### 4.3 writer lock exists（互斥保护）)
- `docs/reference/index_state_and_stamps.md` — **Index State 与 Stamps 契约** (role=reference)
  - `collection.count`: L166 (### 3.4 断点续跑 WAL（`index_state.stage.jsonl`）); L178 (### 4.1 rag-check（强校验）)
  - `index_state.json`: L56 (## 1) 产物清单与职责边界); L137 (### 3.1 位置（path）); L146 (### 3.3 字段（最小集合）) (+2 more)
  - `index_state.stage.jsonl`: L159 (### 3.4 断点续跑 WAL（`index_state.stage.jsonl`）); L160 (### 3.4 断点续跑 WAL（`index_state.stage.jsonl`）)
  - `on-missing-state`: L26 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）); L27 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）)
  - `resume-status`: L211 (### writer lock 的处置顺序（以只读预检为第一步）)
  - `schema_hash`: L56 (## 1) 产物清单与职责边界); L98 (### 2.3 字段（schema 最小集合）); L106 (### 2.3 字段（schema 最小集合）) (+6 more)
  - `writer.lock`: L168 (### 3.5 单写入者锁（`writer.lock`）); L169 (### 3.5 单写入者锁（`writer.lock`）); L213 (### writer lock 的处置顺序（以只读预检为第一步）)
- `tools/build_chroma_index_flagembedding_README.md` — **build_chroma_index_flagembedding.py 使用说明（FlagEmbedding 构建 Chroma 索引）** (role=README)
  - `collection.count`: L31 (# build_chroma_index_flagembedding.py 使用说明); L68 (## 目的); L276 (## 自动生成参考（README↔源码对齐）)
  - `index_state.json`: L67 (## 目的); L130 (### 位置); L200 (### 1.5) 断点续跑：写入过程中中断后如何恢复) (+2 more)
  - `index_state.stage.jsonl`: L131 (### 位置); L200 (### 1.5) 断点续跑：写入过程中中断后如何恢复); L280 (## 自动生成参考（README↔源码对齐）)
  - `on-missing-state`: L44 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）); L45 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）); L114 (## 参数说明) (+2 more)
  - `resume-status`: L112 (## 参数说明); L271 (## 自动生成参考（README↔源码对齐）)
  - `schema_hash`: L69 (## 目的); L130 (### 位置); L131 (### 位置) (+7 more)
  - `strict-sync`: L116 (## 参数说明); L158 (## 退出码); L159 (## 退出码) (+1 more)
  - `sync-mode`: L94 (### 1) 首次构建（增量模式）); L277 (## 自动生成参考（README↔源码对齐）)
- `tools/check_chroma_coverage_vs_units_README.md` — **check_chroma_coverage_vs_units.py 使用说明（检查 Chroma 覆盖率）** (role=README)
  - `index_state.json`: L180 (# 查看构建时的参数（从 build 命令历史或 index_state.json）); L181 (# 查看构建时的参数（从 build 命令历史或 index_state.json）)
  - `on-missing-state`: L44 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）); L45 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）); L201 (### 3) 覆盖率很低（<50%），是否需要重跑？)
  - `resume-status`: L78 (## 与断点续跑（WAL）的分工); L83 (## 与断点续跑（WAL）的分工)
  - `sync-mode`: L200 (### 3) 覆盖率很低（<50%），是否需要重跑？)
- `tools/check_chroma_embeddings_sample_README.md` — **check_chroma_embeddings_sample.py 使用说明（检查 Chroma 嵌入向量质量）** (role=README)
  - `index_state.stage.jsonl`: L30 (# check_chroma_embeddings_sample.py 使用说明)
  - `on-missing-state`: L30 (# check_chroma_embeddings_sample.py 使用说明); L46 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）); L47 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）)
  - `resume-status`: L30 (# check_chroma_embeddings_sample.py 使用说明)
- `tools/check_doc_system_gate_README.md` — **check_doc_system_gate 使用说明** (role=README)
  - `index_state.stage.jsonl`: L53 (## 规则与严重度)
  - `on-missing-state`: L54 (## 规则与严重度)
- `tools/index_state_README.md` — **index_state.py 使用说明（索引状态管理模块）** (role=README)
  - `index_state.json`: L77 (## 运行入口（entrypoints）说明（非稳定 CLI）); L84 (## 与断点续跑（WAL）的关系); L186 (## 目录布局) (+1 more)
  - `index_state.stage.jsonl`: L85 (## 与断点续跑（WAL）的关系)
  - `resume-status`: L88 (## 与断点续跑（WAL）的关系)
  - `schema_hash`: L40 (## 目录); L76 (## 运行入口（entrypoints）说明（非稳定 CLI）); L78 (## 运行入口（entrypoints）说明（非稳定 CLI）) (+7 more)
  - `writer.lock`: L85 (## 与断点续跑（WAL）的关系)
- `tools/run_build_profile_README.md` — **run_build_profile.py 使用说明（运行构建性能分析）** (role=README)
  - `index_state.stage.jsonl`: L41 (## 目录)
  - `on-missing-state`: L41 (## 目录); L57 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）); L58 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）)
  - `resume-status`: L41 (## 目录)
- `tools/smoke_test_pipeline_README.md` — **smoke_test_pipeline.py 使用说明（烟雾测试管道）** (role=README)
  - `index_state.stage.jsonl`: L40 (## 目录)
  - `on-missing-state`: L40 (## 目录); L56 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）); L57 (### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）)
  - `resume-status`: L40 (## 目录)
- `tools/verify_stage1_pipeline_README.md` — **`verify_stage1_pipeline.py` 使用说明（Stage-1 一键验收/回归）** (role=README)
  - `collection.count`: L56 (## 目录); L113 (### 2.1 做什么（Checks）); L114 (### 2.1 做什么（Checks）) (+1 more)
- `tools/write_db_build_stamp_README.md` — **write_db_build_stamp.py 使用说明（写入数据库构建戳）** (role=README)
  - `collection.count`: L107 (## 自动生成区块（AUTO）)
  - `schema_hash`: L92 (## 输出)

## 3. only_note (archive/postmortem hits)

- `docs/archive/PACKAGED_USAGE_GUIDE.md` — **PACKAGED_USAGE_GUIDE（Deprecated）** (role=archive)
  - `collection.count`: L215 (#### Step 3.5：生成 chunk_plan（把 expected 变成可计算、可复现的计划）); L261 (#### Step 4.5：增量构建入库（rag-build）)
  - `on-missing-state`: L228 (#### Step 3.6：build 入库（建议首次用 reset，跑通后再用 incremental）); L264 (#### Step 4.5：增量构建入库（rag-build）); L333 (### Step 9：失败模式与处置)
  - `strict-sync`: L167 (# 查某个参数/开关); L224 (#### Step 3.6：build 入库（建议首次用 reset，跑通后再用 incremental）); L266 (#### Step 4.5：增量构建入库（rag-build）) (+2 more)
  - `sync-mode`: L224 (#### Step 3.6：build 入库（建议首次用 reset，跑通后再用 incremental）); L227 (#### Step 3.6：build 入库（建议首次用 reset，跑通后再用 incremental）); L262 (#### Step 4.5：增量构建入库（rag-build）) (+4 more)
- `docs/archive/README_LEGACY_FULL.md` — **README目录：** (role=archive)
  - `collection.count`: L121 (#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）)
  - `index_state.json`: L132 (#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）)
  - `on-missing-state`: L128 (#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）)
  - `schema_hash`: L129 (#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）); L132 (#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）); L133 (#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）)
  - `sync-mode`: L116 (#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）); L124 (#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）)
- `docs/archive/planned/REPORT_OUTPUT_V2_PLANNING.md` — **Report Output v2 后续落地规划（Planning）** (role=archive)
  - `index_state.json`: L29 (## 1. 目标与范围)
- `docs/archive/planned/planning_chroma_resume_20260122.md` — **Chroma 索引断点续跑（方案 B）推进计划** (role=archive)
  - `collection.count`: L142 (## 失败模式与缓解); L178 (## 替代方案)
  - `index_state.json`: L21 (# Chroma 索引断点续跑（方案 B）推进计划); L22 (# Chroma 索引断点续跑（方案 B）推进计划); L71 (### Step1（已完成）— 引入进度/WAL 的基础事件流并实现 doc 级续跑)
  - `index_state.stage.jsonl`: L21 (# Chroma 索引断点续跑（方案 B）推进计划); L22 (# Chroma 索引断点续跑（方案 B）推进计划); L42 (## 结论) (+6 more)
  - `resume-status`: L63 (## 进度记录); L64 (## 进度记录); L95 (### Step2 — 将进度/WAL 升级为“写入多少、记录就同步在” [CON]) (+4 more)
  - `schema_hash`: L49 (## 假设); L51 (## 假设); L72 (### Step1（已完成）— 引入进度/WAL 的基础事件流并实现 doc 级续跑) (+1 more)
- `docs/postmortems/2025-12-26_chroma_build_postmortem.md` — **本次 Chroma 构建数量异常排查总结（705 vs 694）** (role=postmortem)
  - `collection.count`: L164 (### 6.2 把“expected”从手填常数改为可追溯（建议）); L171 (## 7. 本次新增/使用的脚本清单（都放在同一目录下可直接运行）)
  - `index_state.stage.jsonl`: L22 (# 本次 Chroma 构建数量异常排查总结（705 vs 694）)
  - `on-missing-state`: L22 (# 本次 Chroma 构建数量异常排查总结（705 vs 694）)
  - `resume-status`: L22 (# 本次 Chroma 构建数量异常排查总结（705 vs 694）)
- `docs/postmortems/2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md` — **2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md目录：** (role=postmortem)
  - `collection.count`: L42 (# 2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md目录：); L77 (## 2. 问题定义); L97 (### 3.2 实际库内条目数（got=4433）) (+3 more)
  - `index_state.stage.jsonl`: L10 (# 2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md目录：)
  - `on-missing-state`: L10 (# 2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md目录：)
  - `resume-status`: L10 (# 2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md目录：)

## 4. Full list

- `.github/pull_request_template.md` — **(no title)** (role=guide, action=no_action)
- `CHANGELOG.md` — **Changelog** (role=guide, action=no_action)
- `CODE_OF_CONDUCT.md` — **Contributor Covenant Code of Conduct** (role=guide, action=no_action)
- `CONTRIBUTING.md` — **Contributing** (role=guide, action=no_action)
- `README.md` — **(no title)** (role=README, action=no_action)
- `SECURITY.md` — **Security Policy** (role=guide, action=no_action)
- `SUPPORT.md` — **Support Policy** (role=guide, action=no_action)
- `TROUBLESHOOTING.md` — **TROUBLESHOOTING（已迁移）** (role=runbook, action=no_action)
- `docs/INDEX.md` — **文档导航（Diátaxis）** (role=guide, action=no_action)
- `docs/OPERATION_GUIDE.md` — **OPERATION_GUIDE（已迁移）** (role=runbook, action=no_action)
- `docs/PACKAGED_USAGE_GUIDE.md` — **PACKAGED_USAGE_GUIDE（已退役并归档）** (role=guide, action=no_action)
- `docs/README.md` — **Docs** (role=README, action=no_action)
- `docs/REFERENCE.md` — **REFERENCE（已迁移）** (role=guide, action=no_action)
- `docs/TROUBLESHOOTING.md` — **TROUBLESHOOTING（已迁移）** (role=runbook, action=no_action)
- `docs/archive/PACKAGED_USAGE_GUIDE.md` — **PACKAGED_USAGE_GUIDE（Deprecated）** (role=archive, action=only_note)
- `docs/archive/README_LEGACY_FULL.md` — **README目录：** (role=archive, action=only_note)
- `docs/archive/planned/REPORT_OUTPUT_V2_PLANNING.md` — **Report Output v2 后续落地规划（Planning）** (role=archive, action=only_note)
- `docs/archive/planned/planning_chroma_resume_20260122.md` — **Chroma 索引断点续跑（方案 B）推进计划** (role=archive, action=only_note)
- `docs/archive/planned/readme_code_alignment_plan.md` — **README 与源码对齐：实施计划（面向本项目）** (role=archive, action=no_action)
- `docs/archive/planned/report_output_upgrade_progress.md` — **全局一致报告输出改造 - 进度清单（截至 2026-01-16 口径）** (role=archive, action=no_action)
- `docs/explanation/2026-01-04_retrieval_evolution_summary.md` — **2026-01-04_retrieval_evolution_summary.md（最终版：口语 vs 官方术语断桥 → 可演进检索体系）** (role=guide, action=no_action)
- `docs/explanation/HANDOFF.md` — **HANDOFF (SSOT) - zhiz-llm-rag** (role=guide, action=need_align)
- `docs/explanation/LESSONS.md` — **Lessons / 经验库（可迁移）** (role=guide, action=no_action)
- `docs/explanation/documentation_principles.md` — **文档体系第一性原理与写作规范（可复用）** (role=guide, action=no_action)
- `docs/explanation/handoffs/HANDOFF_2026-01-05.md` — **HANDOFF snapshot (archived) - 2026-01-05** (role=guide, action=no_action)
- `docs/explanation/planning_chroma_resume_20260122.md` — **Chroma 索引断点续跑（方案 B）推进计划** (role=guide, action=need_align)
- `docs/explanation/planning_doc_system_level3_sync_20260123.md` — **Level 3：文档体系重构与一致性收敛计划（WAL/续跑语义）** (role=guide, action=need_align)
- `docs/howto/OBSERVE_LONG_RUNS.md` — **观测长任务（进度与 items 事件流）** (role=guide, action=no_action)
- `docs/howto/OPERATION_GUIDE.md` — **OPERATION GUIDE（运行手册）** (role=runbook, action=need_align)
- `docs/howto/ORAL_OFFICIAL_RETRIEVAL_REGRESSION.md` — **How-to：建立“口语 vs 官方术语”检索回归（防止 topK 漏召回）** (role=guide, action=no_action)
- `docs/howto/POSTMORTEM_WORKFLOW.md` — **Postmortem Workflow（复盘动作说明书：模板 → LESSONS → PREFLIGHT → HANDOFF）** (role=guide, action=no_action)
- `docs/howto/PREFLIGHT_CHECKLIST.md` — **Preflight Checklist（重构/换机/换环境后必跑）** (role=guide, action=no_action)
- `docs/howto/TROUBLESHOOTING.md` — **排障手册（Runbook）** (role=runbook, action=no_action)
- `docs/howto/ci_pr_gates.md` — **How-to：PR/CI Lite 门禁（快速回归）** (role=guide, action=no_action)
- `docs/howto/offline_conftest.md` — **完全离线运行 Policy Gate（Vendoring conftest / 内部镜像源）** (role=guide, action=no_action)
- `docs/howto/pre_commit.md` — **How-to：本地 pre-commit 使用指南** (role=guide, action=no_action)
- `docs/howto/rag_accept.md` — **rag-accept 使用说明** (role=guide, action=no_action)
- `docs/howto/rag_status.md` — **rag-status 使用说明** (role=guide, action=no_action)
- `docs/howto/review_workflow.md` — **How-to：在本项目执行审查（Review Workflow）** (role=guide, action=no_action)
- `docs/old_postmortem_prompt_template.md` — **Postmortem 提示词模板（已迁移）** (role=guide, action=no_action)
- `docs/postmortems/2025-12-26_chroma_build_postmortem.md` — **本次 Chroma 构建数量异常排查总结（705 vs 694）** (role=postmortem, action=only_note)
- `docs/postmortems/2025-12-27_postmortem_llm_timeout_lmstudio.md` — **Postmortem: RAG 闭环问答阶段 LLM Read Timeout（LM Studio）— 2025-12-27** (role=postmortem, action=no_action)
- `docs/postmortems/2025-12-28_postmortem_llm_proxy_timeout_7890.md` — **Postmortem: LLM 请求被环境代理劫持到 127.0.0.1:7890 导致 ReadTimeout（LM Studio）— 2025-12-28** (role=postmortem, action=no_action)
- `docs/postmortems/2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md` — **2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md目录：** (role=postmortem, action=only_note)
- `docs/postmortems/2025-12-29_units_pipeline_postmortem_inventory_units_mismatch_and_extract_units_typeerror.md` — **2025-12-29_units_pipeline_postmortem_inventory_units_mismatch_and_extract_units_typeerror.md目录：** (role=postmortem, action=no_action)
- `docs/postmortems/2025-12-30_postmortem_ci_optional_dependency_chromadb.md` — **2025-12-30_postmortem_ci_optional_dependency_chromadb.md目录：** (role=postmortem, action=no_action)
- `docs/postmortems/2025-12-30_postmortem_pip_embed_py314_numpy_meson_fail.md` — **2025-12-30_postmortem_pip_embed_py314_numpy_meson_fail.md目录：** (role=postmortem, action=no_action)
- `docs/postmortems/2025-12-30_units_pipeline_postmortem_import_contract_cli_entrypoints_rg.md` — **2025-12-30_units_pipeline_postmortem_import_contract_cli_entrypoints_rg.md目录：** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-02-18h_status_step6_check_json_stale_false_positive.md` — **2026-01-02-18h_status_step6_check_json_stale_false_positive.md目录：** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-03-21h_rag_accept_cli_missing_and_doc_encoding_mismatch.md` — **2026-01-03-21h_rag_accept_cli_missing_and_doc_encoding_mismatch.md目录：** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-03_issue1_postmortem.md` — **2026-01-03 pyproject 门禁与环境安装异常复盘（Issue1）** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-05_postmortem_llm_http_observability_and_model_identity.md` — **E2E 回归中 LLM HTTP POST 错误取证缺失与模型身份不准确** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-07_postmortem_docs_code_alignment_and_doc_gates.md` — **2026-01-07｜docs↔code 对齐 + 缺失脚本补齐 + 文档门禁增强 + 输出可读性优化｜Postmortem** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-08_postmortem_public_release_preflight.md` — **Postmortem｜公开项目的前置检查（Public Release Preflight）** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md` — **Postmortem: tools/分层与全量 wrapper 生成门禁自举失败 + 退出码契约对齐** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-09_postmortem_open_source_repo_health_files.md` — **Postmortem：开源项目补齐仓库健康文件（CHANGELOG/CITATION/.editorconfig + CoC 联系方式）** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-11_postmortem_public_release_hygiene_rc2_and_report_written_signal.md` — **Postmortem｜check_public_release_hygiene：rc=2（FAIL）与 report_written 信号误读** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-11_postmortem_ssot_gate_schema_policy_single_entrypoint.md` — **Postmortem｜门禁治理架构：SSOT → Gate 单入口 → JSON Schema →（可选）Conftest Policy** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-13_postmortem_review_spec_priority_coverage_gate_and_handoff.md` — **Postmortem｜审查规范（Review Spec）优先级覆盖门禁 + 写回 HANDOFF（SSOT）** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-15_postmortem_file_report_ordering.md` — **Postmortem｜落盘报告顺序契约：汇总置顶 + 严重度排序（FAIL/ERROR 优先）** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-15_postmortem_report_output_contract_paths.md` — **Postmortem｜报告输出契约：VS Code 可点击定位（vscode://file）与路径分隔符归一化** (role=postmortem, action=no_action)
- `docs/postmortems/2026-01-15_postmortem_vscode_clickable_loc_uri.md` — **2026-01-15_postmortem_vscode_clickable_loc_uri.md目录：** (role=postmortem, action=no_action)
- `docs/postmortems/25-12-27_CPU-only_chroma-build_postmoretm.md` — **Postmortem: Torch not compiled with CUDA enabled, chroma_db 不一致 - 2025.12.27** (role=postmortem, action=no_action)
- `docs/postmortems/INDEX.md` — **Postmortems Index** (role=postmortem, action=no_action)
- `docs/reference/2026-01-04_retrieval_evolution_summary.md` — **2026-01-04_retrieval_evolution_summary.md（最终版：口语 vs 官方术语断桥 → 可演进检索体系）** (role=reference, action=no_action)
- `docs/reference/DOC_SYSTEM_SSOT.md` — **文档体系 SSOT（Level 3：WAL/断点续跑语义）** (role=reference, action=need_align)
- `docs/reference/EVAL_CASES_SCHEMA.md` — **Stage-2 评测契约：eval_cases.jsonl 与 eval_retrieval_report.json** (role=reference, action=no_action)
- `docs/reference/EVAL_REPORTS_STREAM_SCHEMA.md` — **Eval 报告 items 事件流（events.jsonl）schema** (role=reference, action=no_action)
- `docs/reference/GLOSSARY_WAL_RESUME.md` — **术语表（WAL/断点续跑/State）** (role=reference, action=need_align)
- `docs/reference/REFERENCE.md` — **参考与契约（REFERENCE）** (role=reference, action=need_align)
- `docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md` — **报告输出契约（v2）与工程规则（SSOT）** (role=reference, action=need_align)
- `docs/reference/TOOLS_README_CODE_ALIGNMENT_CONTRACT.md` — **tools/ README ↔ 源码对齐契约（Reference）** (role=reference, action=no_action)
- `docs/reference/TOOLS_README_CODE_SYNC_INDEX.md` — **tools/ README ↔ 入口脚本映射索引（Reference）** (role=reference, action=no_action)
- `docs/reference/build_chroma_cli_and_logs.md` — **build_chroma_index_flagembedding CLI 与日志真相表（SSOT）** (role=reference, action=need_align)
- `docs/reference/deps_policy.md` — **依赖策略（Dependency Policy）** (role=reference, action=no_action)
- `docs/reference/index_state_and_stamps.md` — **Index State 与 Stamps 契约** (role=reference, action=need_align)
- `docs/reference/postmortem_prompt_template.md` — **Postmortem Prompt Template** (role=reference, action=no_action)
- `docs/reference/review/README.md` — **审查规范（Review Spec）入口** (role=reference, action=no_action)
- `docs/reference/review/REVIEW_SPEC.md` — **项目审查规范（Review Spec）** (role=reference, action=no_action)
- `docs/reference/review/review_report_template.md` — **审查报告模板（Review Report Template）** (role=reference, action=no_action)
- `docs/tutorials/01_getting_started.md` — **Getting Started（教程）：跑通 Stage-1 + PR/CI Lite 回归** (role=guide, action=no_action)
- `policy/README.md` — **Policy（Conftest / Rego）使用说明（流程与配置不变量）** (role=README, action=no_action)
- `third_party/conftest/README.md` — **third_party/conftest（离线 vendoring 目录）** (role=README, action=no_action)
- `tools/CHECK_CLI_ENTRYPOINTS.md` — **check_cli_entrypoints 使用说明** (role=guide, action=no_action)
- `tools/README.md` — **tools/ 目录说明（入口层 / 治理脚本）** (role=README, action=no_action)
- `tools/USAGE_public_release_audit.md` — **Public Release Hygiene Audit (v3) - 使用说明（索引）** (role=guide, action=no_action)
- `tools/audit_baseline_tools_README.md` — **`audit_baseline_tools.py` 使用说明（全仓静态审计：查找基线/快照/哈希/报告工具，避免冗余）** (role=README, action=no_action)
- `tools/build_chroma_index_flagembedding_README.md` — **build_chroma_index_flagembedding.py 使用说明（FlagEmbedding 构建 Chroma 索引）** (role=README, action=need_align)
- `tools/capture_rag_env_README.md` — **capture_rag_env.py 使用说明（捕获 RAG 环境信息报告）** (role=README, action=no_action)
- `tools/check_all_README.md` — **check_all.py 使用说明（一键自检/工程门禁脚本）** (role=README, action=no_action)
- `tools/check_chroma_coverage_vs_units_README.md` — **check_chroma_coverage_vs_units.py 使用说明（检查 Chroma 覆盖率）** (role=README, action=need_align)
- `tools/check_chroma_embeddings_sample_README.md` — **check_chroma_embeddings_sample.py 使用说明（检查 Chroma 嵌入向量质量）** (role=README, action=need_align)
- `tools/check_doc_system_gate_README.md` — **check_doc_system_gate 使用说明** (role=README, action=need_align)
- `tools/check_docs_conventions_README.md` — **`check_docs_conventions.py` 使用说明（docs Markdown 工程约定门禁）** (role=README, action=no_action)
- `tools/check_exit_code_contract_README.md` — **check_exit_code_contract.py 使用说明（检查退出码契约）** (role=README, action=no_action)
- `tools/check_inventory_build_README.md` — **check_inventory_build_README** (role=README, action=no_action)
- `tools/check_md_refs_contract_README.md` — **check_md_refs_contract.py 使用说明（检查 Markdown 引用契约）** (role=README, action=no_action)
- `tools/check_mypy_README.md` — **check_mypy.py 使用说明** (role=README, action=no_action)
- `tools/check_public_release_hygiene_README.md` — **check_public_release_hygiene.py 使用说明（Public Release Hygiene Audit v3）** (role=README, action=no_action)
- `tools/check_pyproject_preflight_README.md` — **check_pyproject_preflight.py 使用说明（pyproject.toml 预检）** (role=README, action=no_action)
- `tools/check_readme_code_sync_README.md` — **check_readme_code_sync.py 使用说明（tools/ README ↔ 源码对齐门禁）** (role=README, action=no_action)
- `tools/check_repo_health_files_README.md` — **check_repo_health_files.py 使用说明（Public Release Repo Health）** (role=README, action=no_action)
- `tools/check_report_tools_contract_README.md` — **check_report_tools_contract.py 使用说明（report tools registry 合规性）** (role=README, action=no_action)
- `tools/check_ruff_README.md` — **check_ruff.py 使用说明** (role=README, action=no_action)
- `tools/check_tools_layout_README.md` — **check_tools_layout_README** (role=README, action=no_action)
- `tools/compare_stage1_baseline_snapshots_README.md` — **`compare_stage1_baseline_snapshots.py` 使用说明（对比两份 Stage-1 基线快照）** (role=README, action=no_action)
- `tools/diff_units_sources_vs_chroma_sources_README.md` — **diff_units_sources_vs_chroma_sources.py 使用说明（对比文本单元与 Chroma 源）** (role=README, action=no_action)
- `tools/fix_public_release_hygiene_README.md` — **fix_public_release_hygiene.py 使用说明（Public Release Hygiene Fix）** (role=README, action=no_action)
- `tools/gate_README.md` — **gate.py / rag-gate 使用说明（单入口 Gate：Schema + Policy + 可审计报告）** (role=README, action=no_action)
- `tools/gen_doc_inventory_README.md` — **gen_doc_inventory.py 使用说明** (role=README, action=no_action)
- `tools/gen_tools_wrappers.md` — **tools/gen_tools_wrappers.py 使用说明** (role=guide, action=no_action)
- `tools/generate_review_spec_docs_README.md` — **generate_review_spec_docs 使用说明** (role=README, action=no_action)
- `tools/index_state_README.md` — **index_state.py 使用说明（索引状态管理模块）** (role=README, action=need_align)
- `tools/init_eval_cases_README.md` — **`init_eval_cases.py` 使用说明（Stage-2：初始化评测用例集 JSONL）** (role=README, action=no_action)
- `tools/list_chroma_collections_README.md` — **list_chroma_collections.py 使用说明（列出 Chroma 集合）** (role=README, action=no_action)
- `tools/llm_http_client_README.md` — **tools/llm_http_client.py 使用说明（替代方案 B：统一 LLM HTTP Client）** (role=README, action=no_action)
- `tools/plan_chunks_from_units_README.md` — **plan_chunks_from_units.py 使用说明（从文本单元规划分块）** (role=README, action=no_action)
- `tools/probe_llm_server_README.md` — **probe_llm_server.py 使用说明（探测 LLM 服务器可用性）** (role=README, action=no_action)
- `tools/rag_accept_README.md` — **rag_accept.py 使用说明（RAG 一键验收工具）** (role=README, action=no_action)
- `tools/rag_python.md` — **rag_python.py 作为 pre-commit 入口中转** (role=guide, action=no_action)
- `tools/rag_status_README.md` — **rag_status.py 使用说明（RAG 状态/新鲜度检查）** (role=README, action=no_action)
- `tools/reporting_README.md` — **reporting.py 使用说明（报告生成工具模块）** (role=README, action=no_action)
- `tools/reset_chroma_db_README.md` — **reset_chroma_db.py 使用说明（重置 Chroma 数据库）** (role=README, action=no_action)
- `tools/run_build_profile_README.md` — **run_build_profile.py 使用说明（运行构建性能分析）** (role=README, action=need_align)
- `tools/run_ci_gates_README.md` — **run_ci_gates.cmd 使用说明** (role=README, action=no_action)
- `tools/run_eval_rag_README.md` — **`run_eval_rag.py` 使用说明（Stage-2：端到端 RAG 回归 must_include 断言）** (role=README, action=no_action)
- `tools/run_eval_retrieval_README.md` — **`run_eval_retrieval.py` 使用说明（Stage-2：检索侧回归 hit@k + 分桶回归）** (role=README, action=no_action)
- `tools/run_profile_with_timing_README.md` — **run_profile_with_timing.py 使用说明（带时间统计的性能分析）** (role=README, action=no_action)
- `tools/run_rag_eval_batch_README.md` — **run_rag_eval_batch.py 使用说明（批量 RAG 评估）** (role=README, action=no_action)
- `tools/schema_validate_README.md` — **schema_validate.py / rag-schema-validate 使用说明（JSON Schema 校验工具）** (role=README, action=no_action)
- `tools/smoke_test_pipeline_README.md` — **smoke_test_pipeline.py 使用说明（烟雾测试管道）** (role=README, action=need_align)
- `tools/snapshot_stage1_baseline_README.md` — **`snapshot_stage1_baseline.py` 使用说明（Stage-1 基线快照：产物指纹 + Chroma 落盘状态）** (role=README, action=no_action)
- `tools/suggest_eval_case_README.md` — **`suggest_eval_case.py` 使用说明（半自动生成 eval case：expected_sources + must_include + bucket/pair_id）** (role=README, action=no_action)
- `tools/suggest_expected_sources_README_v2.md` — **`suggest_expected_sources.py` 使用说明（expected_sources 取证与推荐：基于 Chroma topK）** (role=README, action=no_action)
- `tools/update_postmortems_index_README.md` — **update_postmortems_index_README** (role=README, action=no_action)
- `tools/validate_eval_cases_README.md` — **`validate_eval_cases.py` 使用说明（校验 eval_cases.jsonl：结构 + 可执行性 + 分桶字段）** (role=README, action=no_action)
- `tools/validate_review_spec_README.md` — **validate_review_spec 使用说明** (role=README, action=no_action)
- `tools/verify_postmortems_and_troubleshooting_README.md` — **verify_postmortems_and_troubleshooting 使用说明** (role=README, action=no_action)
- `tools/verify_reports_schema_README.md` — **verify_reports_schema.py 使用说明** (role=README, action=no_action)
- `tools/verify_sentence_transformer_cuda_README.md` — **verify_sentence_transformer_cuda.py 使用说明** (role=README, action=no_action)
- `tools/verify_single_report_output_README.md` — **verify_single_report_output.py 使用说明** (role=README, action=no_action)
- `tools/verify_stage1_pipeline_README.md` — **`verify_stage1_pipeline.py` 使用说明（Stage-1 一键验收/回归）** (role=README, action=need_align)
- `tools/verify_torch_cuda_README.md` — **verify_torch_cuda.py 使用说明** (role=README, action=no_action)
- `tools/view_gate_report_README.md` — **view_gate_report.py 使用说明** (role=README, action=no_action)
- `tools/view_stage2_reports_README.md` — **`view_stage2_reports.py` 使用说明（Stage-2 输出文件一键解读）** (role=README, action=no_action)
- `tools/write_db_build_stamp_README.md` — **write_db_build_stamp.py 使用说明（写入数据库构建戳）** (role=README, action=need_align)

---
## Notes
- This file is generated. Edit the generator instead: `tools/gen_doc_inventory.py`.
- The machine-readable graph is `docs/explanation/doc_map.json`.
