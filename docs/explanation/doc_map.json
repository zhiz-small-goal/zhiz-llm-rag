{
  "docs": [
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-09",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": ".github/pull_request_template.md",
      "role": "guide",
      "role_hint": "default",
      "title": null
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-09",
        "title": "Changelog",
        "version": 0.1
      },
      "git_last_commit_date": "2026-01-18",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "CHANGELOG.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Changelog"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-09",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "CODE_OF_CONDUCT.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Contributor Covenant Code of Conduct"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-09",
        "title": "Contributing",
        "version": 0.1
      },
      "git_last_commit_date": "2026-01-11",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "CONTRIBUTING.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Contributing"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:17-17",
            "hint": "",
            "raw": "docs/INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/INDEX.md"
          },
          {
            "from_locator": "line:18-18",
            "hint": "",
            "raw": "tools/README.md",
            "ref_type": "md",
            "target_uri": "tools/README.md"
          },
          {
            "from_locator": "line:19-19",
            "hint": "",
            "raw": "docs/reference/review/README.md",
            "ref_type": "md",
            "target_uri": "docs/reference/review/README.md"
          },
          {
            "from_locator": "line:20-20",
            "hint": "",
            "raw": "docs/howto/review_workflow.md",
            "ref_type": "md",
            "target_uri": "docs/howto/review_workflow.md"
          },
          {
            "from_locator": "line:49-49",
            "hint": "#step-0环境与依赖安装core-vs-embed避免在-python-313-及以上误装-stage-2",
            "raw": "docs/howto/OPERATION_GUIDE.md",
            "ref_type": "md",
            "target_uri": "docs/howto/OPERATION_GUIDE.md"
          },
          {
            "from_locator": "line:80-80",
            "hint": "",
            "raw": "docs/archive/README_LEGACY_FULL.md",
            "ref_type": "md",
            "target_uri": "docs/archive/README_LEGACY_FULL.md"
          }
        ]
      },
      "path": "README.md",
      "role": "README",
      "role_hint": "name",
      "title": null
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-09",
        "title": "Security Policy",
        "version": 0.1
      },
      "git_last_commit_date": "2026-01-09",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "SECURITY.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Security Policy"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-09",
        "title": "Support Policy",
        "version": 0.1
      },
      "git_last_commit_date": "2026-01-09",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "SUPPORT.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Support Policy"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-08",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:5-5",
            "hint": "",
            "raw": "docs/howto/TROUBLESHOOTING.md",
            "ref_type": "md",
            "target_uri": "docs/howto/TROUBLESHOOTING.md"
          },
          {
            "from_locator": "line:6-6",
            "hint": "",
            "raw": "docs/INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/INDEX.md"
          }
        ]
      },
      "path": "TROUBLESHOOTING.md",
      "role": "runbook",
      "role_hint": "name",
      "title": "TROUBLESHOOTING（已迁移）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-20",
        "title": "文档导航（Diátaxis）",
        "version": "v1.2"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:22-22",
            "hint": "",
            "raw": "tutorials/01_getting_started.md",
            "ref_type": "md",
            "target_uri": "docs/tutorials/01_getting_started.md"
          },
          {
            "from_locator": "line:25-25",
            "hint": "",
            "raw": "howto/OPERATION_GUIDE.md",
            "ref_type": "md",
            "target_uri": "docs/howto/OPERATION_GUIDE.md"
          },
          {
            "from_locator": "line:26-26",
            "hint": "",
            "raw": "howto/rag_status.md",
            "ref_type": "md",
            "target_uri": "docs/howto/rag_status.md"
          },
          {
            "from_locator": "line:27-27",
            "hint": "",
            "raw": "howto/rag_accept.md",
            "ref_type": "md",
            "target_uri": "docs/howto/rag_accept.md"
          },
          {
            "from_locator": "line:28-28",
            "hint": "",
            "raw": "howto/ORAL_OFFICIAL_RETRIEVAL_REGRESSION.md",
            "ref_type": "md",
            "target_uri": "docs/howto/ORAL_OFFICIAL_RETRIEVAL_REGRESSION.md"
          },
          {
            "from_locator": "line:29-29",
            "hint": "",
            "raw": "howto/ci_pr_gates.md",
            "ref_type": "md",
            "target_uri": "docs/howto/ci_pr_gates.md"
          },
          {
            "from_locator": "line:30-30",
            "hint": "",
            "raw": "howto/pre_commit.md",
            "ref_type": "md",
            "target_uri": "docs/howto/pre_commit.md"
          },
          {
            "from_locator": "line:31-31",
            "hint": "",
            "raw": "howto/review_workflow.md",
            "ref_type": "md",
            "target_uri": "docs/howto/review_workflow.md"
          },
          {
            "from_locator": "line:32-32",
            "hint": "",
            "raw": "howto/offline_conftest.md",
            "ref_type": "md",
            "target_uri": "docs/howto/offline_conftest.md"
          },
          {
            "from_locator": "line:33-33",
            "hint": "",
            "raw": "howto/PREFLIGHT_CHECKLIST.md",
            "ref_type": "md",
            "target_uri": "docs/howto/PREFLIGHT_CHECKLIST.md"
          },
          {
            "from_locator": "line:34-34",
            "hint": "",
            "raw": "howto/POSTMORTEM_WORKFLOW.md",
            "ref_type": "md",
            "target_uri": "docs/howto/POSTMORTEM_WORKFLOW.md"
          },
          {
            "from_locator": "line:35-35",
            "hint": "",
            "raw": "howto/TROUBLESHOOTING.md",
            "ref_type": "md",
            "target_uri": "docs/howto/TROUBLESHOOTING.md"
          },
          {
            "from_locator": "line:38-38",
            "hint": "",
            "raw": "reference/REFERENCE.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REFERENCE.md"
          },
          {
            "from_locator": "line:39-39",
            "hint": "",
            "raw": "reference/REPORT_OUTPUT_ENGINEERING_RULES.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
          },
          {
            "from_locator": "line:40-40",
            "hint": "",
            "raw": "reference/TOOLS_README_CODE_ALIGNMENT_CONTRACT.md",
            "ref_type": "md",
            "target_uri": "docs/reference/TOOLS_README_CODE_ALIGNMENT_CONTRACT.md"
          },
          {
            "from_locator": "line:41-41",
            "hint": "",
            "raw": "reference/TOOLS_README_CODE_SYNC_INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/reference/TOOLS_README_CODE_SYNC_INDEX.md"
          },
          {
            "from_locator": "line:42-42",
            "hint": "",
            "raw": "reference/review/README.md",
            "ref_type": "md",
            "target_uri": "docs/reference/review/README.md"
          },
          {
            "from_locator": "line:43-43",
            "hint": "",
            "raw": "../tools/README.md",
            "ref_type": "md",
            "target_uri": "tools/README.md"
          },
          {
            "from_locator": "line:44-44",
            "hint": "",
            "raw": "../policy/README.md",
            "ref_type": "md",
            "target_uri": "policy/README.md"
          },
          {
            "from_locator": "line:45-45",
            "hint": "",
            "raw": "reference/EVAL_CASES_SCHEMA.md",
            "ref_type": "md",
            "target_uri": "docs/reference/EVAL_CASES_SCHEMA.md"
          },
          {
            "from_locator": "line:46-46",
            "hint": "",
            "raw": "reference/index_state_and_stamps.md",
            "ref_type": "md",
            "target_uri": "docs/reference/index_state_and_stamps.md"
          },
          {
            "from_locator": "line:47-47",
            "hint": "",
            "raw": "reference/postmortem_prompt_template.md",
            "ref_type": "md",
            "target_uri": "docs/reference/postmortem_prompt_template.md"
          },
          {
            "from_locator": "line:50-50",
            "hint": "",
            "raw": "explanation/documentation_principles.md",
            "ref_type": "md",
            "target_uri": "docs/explanation/documentation_principles.md"
          },
          {
            "from_locator": "line:51-51",
            "hint": "",
            "raw": "explanation/2026-01-04_retrieval_evolution_summary.md",
            "ref_type": "md",
            "target_uri": "docs/explanation/2026-01-04_retrieval_evolution_summary.md"
          },
          {
            "from_locator": "line:53-53",
            "hint": "",
            "raw": "explanation/LESSONS.md",
            "ref_type": "md",
            "target_uri": "docs/explanation/LESSONS.md"
          },
          {
            "from_locator": "line:57-57",
            "hint": "",
            "raw": "../CHANGELOG.md",
            "ref_type": "md",
            "target_uri": "CHANGELOG.md"
          },
          {
            "from_locator": "line:59-59",
            "hint": "",
            "raw": "../CODE_OF_CONDUCT.md",
            "ref_type": "md",
            "target_uri": "CODE_OF_CONDUCT.md"
          },
          {
            "from_locator": "line:60-60",
            "hint": "",
            "raw": "../CONTRIBUTING.md",
            "ref_type": "md",
            "target_uri": "CONTRIBUTING.md"
          },
          {
            "from_locator": "line:61-61",
            "hint": "",
            "raw": "../SECURITY.md",
            "ref_type": "md",
            "target_uri": "SECURITY.md"
          },
          {
            "from_locator": "line:62-62",
            "hint": "",
            "raw": "../SUPPORT.md",
            "ref_type": "md",
            "target_uri": "SUPPORT.md"
          },
          {
            "from_locator": "line:66-66",
            "hint": "",
            "raw": "postmortems/INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/INDEX.md"
          },
          {
            "from_locator": "line:69-69",
            "hint": "",
            "raw": "archive/PACKAGED_USAGE_GUIDE.md",
            "ref_type": "md",
            "target_uri": "docs/archive/PACKAGED_USAGE_GUIDE.md"
          }
        ]
      },
      "path": "docs/INDEX.md",
      "role": "guide",
      "role_hint": "default",
      "title": "文档导航（Diátaxis）"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:6-6",
            "hint": "",
            "raw": "howto/OPERATION_GUIDE.md",
            "ref_type": "md",
            "target_uri": "docs/howto/OPERATION_GUIDE.md"
          },
          {
            "from_locator": "line:7-7",
            "hint": "",
            "raw": "INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/INDEX.md"
          }
        ]
      },
      "path": "docs/OPERATION_GUIDE.md",
      "role": "runbook",
      "role_hint": "name",
      "title": "OPERATION_GUIDE（已迁移）"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:6-6",
            "hint": "",
            "raw": "archive/PACKAGED_USAGE_GUIDE.md",
            "ref_type": "md",
            "target_uri": "docs/archive/PACKAGED_USAGE_GUIDE.md"
          },
          {
            "from_locator": "line:7-7",
            "hint": "",
            "raw": "INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/INDEX.md"
          }
        ]
      },
      "path": "docs/PACKAGED_USAGE_GUIDE.md",
      "role": "guide",
      "role_hint": "default",
      "title": "PACKAGED_USAGE_GUIDE（已退役并归档）"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:6-6",
            "hint": "",
            "raw": "INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/INDEX.md"
          }
        ]
      },
      "path": "docs/README.md",
      "role": "README",
      "role_hint": "name",
      "title": "Docs"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:6-6",
            "hint": "",
            "raw": "reference/REFERENCE.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REFERENCE.md"
          },
          {
            "from_locator": "line:7-7",
            "hint": "",
            "raw": "INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/INDEX.md"
          }
        ]
      },
      "path": "docs/REFERENCE.md",
      "role": "guide",
      "role_hint": "default",
      "title": "REFERENCE（已迁移）"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:6-6",
            "hint": "",
            "raw": "howto/TROUBLESHOOTING.md",
            "ref_type": "md",
            "target_uri": "docs/howto/TROUBLESHOOTING.md"
          },
          {
            "from_locator": "line:7-7",
            "hint": "",
            "raw": "INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/INDEX.md"
          }
        ]
      },
      "path": "docs/TROUBLESHOOTING.md",
      "role": "runbook",
      "role_hint": "name",
      "title": "TROUBLESHOOTING（已迁移）"
    },
    {
      "action": "only_note",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "#### Step 3.5：生成 chunk_plan（把 expected 变成可计算、可复现的计划）",
            "line": 215,
            "snippet": "为何：plan 的产物 `chunk_plan.json` 是你的“验收口径来源”。新手最常犯的错误是手填 expected 或凭感觉判断“应该差不多”，但只要你启用媒体 stub 或调整 chunk 参数，expected 就会变化。用 plan 把 expected 固化下来后，你后续只需要问一件事：build 后 collection.count..."
          },
          {
            "heading": "#### Step 4.5：增量构建入库（rag-build）",
            "line": 261,
            "snippet": "做什么：把 plan 口径下生成的 chunks 进行 embedding 并写入 Chroma collection，同时维护 `data_processed/index_state/` 用于增量同步与残留清理。为何：仅用 upsert（追加/更新）并不能处理“删除或缩短导致 chunk 减少”的情况，这就是你之前遇到 `count mismatch..."
          }
        ],
        "on-missing-state": [
          {
            "heading": "#### Step 3.6：build 入库（建议首次用 reset，跑通后再用 incremental）",
            "line": 228,
            "snippet": "- `--on-missing-state reset`：当发现库不为空但 state 缺失时自动重置（避免陷入不可定位删除）"
          },
          {
            "heading": "#### Step 4.5：增量构建入库（rag-build）",
            "line": 264,
            "snippet": "- `--on-missing-state reset`：当发现库不为空但 state 缺失时自动重置（避免“不知道该删哪些旧条目”的死局）"
          },
          {
            "heading": "### Step 9：失败模式与处置",
            "line": 333,
            "snippet": "3) 触发/现象：增量模式下 `got > expected` 反复出现。原因：index_state 缺失或不同口径混写导致无法定位删除旧条目；或你更换了 embed_model/chunk_conf 但未触发 schema reset。缓解：启用 `--on-missing-state reset` 与 `--schema-change reset..."
          }
        ],
        "strict-sync": [
          {
            "heading": "# 查某个参数/开关",
            "line": 167,
            "snippet": "rg \"strict-sync\" -n ."
          },
          {
            "heading": "#### Step 3.6：build 入库（建议首次用 reset，跑通后再用 incremental）",
            "line": 224,
            "snippet": "--sync-mode reset --state-root data_processed/index_state --strict-sync true"
          },
          {
            "heading": "#### Step 4.5：增量构建入库（rag-build）",
            "line": 266,
            "snippet": "- `--strict-sync true`：构建结束立即做强一致断言，尽早发现 mismatch（避免把问题带入下一阶段）"
          },
          {
            "heading": "### Step 10：最小可复现（MRE）",
            "line": 357,
            "snippet": "--sync-mode reset --state-root data_processed/index_state --strict-sync true"
          },
          {
            "heading": "### Step 10：最小可复现（MRE）",
            "line": 361,
            "snippet": "期望：最后 `rag-check` 输出 PASS，并且 build 日志中 `strict-sync` 不触发 mismatch。"
          }
        ],
        "sync-mode": [
          {
            "heading": "#### Step 3.6：build 入库（建议首次用 reset，跑通后再用 incremental）",
            "line": 224,
            "snippet": "--sync-mode reset --state-root data_processed/index_state --strict-sync true"
          },
          {
            "heading": "#### Step 3.6：build 入库（建议首次用 reset，跑通后再用 incremental）",
            "line": 227,
            "snippet": "- `--sync-mode incremental`"
          },
          {
            "heading": "#### Step 4.5：增量构建入库（rag-build）",
            "line": 262,
            "snippet": "- `--sync-mode reset`：最稳；每次都重建，不依赖 state（成本高，但最容易跑通）"
          },
          {
            "heading": "#### Step 4.5：增量构建入库（rag-build）",
            "line": 263,
            "snippet": "- `--sync-mode incremental`：成本低；依赖 index_state 做差量删除与 upsert（推荐长期）"
          },
          {
            "heading": "#### Step 7.3：check FAIL：expected != got",
            "line": 306,
            "snippet": "- `got > expected`：更常见，通常是旧残留未清（历史写入的 chunk 仍在 collection 里）。稳妥修复：先用 `rag-build --sync-mode reset` 重建，确保 PASS；然后再回到 incremental 并确认 index_state 写入正常。"
          },
          {
            "heading": "### Step 9：失败模式与处置",
            "line": 333,
            "snippet": "3) 触发/现象：增量模式下 `got > expected` 反复出现。原因：index_state 缺失或不同口径混写导致无法定位删除旧条目；或你更换了 embed_model/chunk_conf 但未触发 schema reset。缓解：启用 `--on-missing-state reset` 与 `--schema-change reset..."
          },
          {
            "heading": "### Step 10：最小可复现（MRE）",
            "line": 357,
            "snippet": "--sync-mode reset --state-root data_processed/index_state --strict-sync true"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:14-14",
            "hint": "",
            "raw": "../INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/INDEX.md"
          },
          {
            "from_locator": "line:15-15",
            "hint": "",
            "raw": "../tutorials/01_getting_started.md",
            "ref_type": "md",
            "target_uri": "docs/tutorials/01_getting_started.md"
          },
          {
            "from_locator": "line:16-16",
            "hint": "",
            "raw": "../howto/OPERATION_GUIDE.md",
            "ref_type": "md",
            "target_uri": "docs/howto/OPERATION_GUIDE.md"
          },
          {
            "from_locator": "line:17-17",
            "hint": "",
            "raw": "../howto/TROUBLESHOOTING.md",
            "ref_type": "md",
            "target_uri": "docs/howto/TROUBLESHOOTING.md"
          },
          {
            "from_locator": "line:18-18",
            "hint": "",
            "raw": "../reference/REFERENCE.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REFERENCE.md"
          }
        ]
      },
      "path": "docs/archive/PACKAGED_USAGE_GUIDE.md",
      "role": "archive",
      "role_hint": "path",
      "title": "PACKAGED_USAGE_GUIDE（Deprecated）"
    },
    {
      "action": "only_note",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）",
            "line": 121,
            "snippet": "**为何（因果）**：你当前的验收门槛是 `check_chroma_build.py` 的“强一致”（`collection.count == expected_chunks`）。单纯 `upsert` 不会删除旧条目，资料集合发生删除/缩短时就会出现 `count > expected`。引入 `index_state` 后，build 具备“同步..."
          }
        ],
        "index_state.json": [
          {
            "heading": "#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）",
            "line": 132,
            "snippet": "- `data_processed/index_state/<collection>/<schema_hash>/index_state.json`"
          }
        ],
        "on-missing-state": [
          {
            "heading": "#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）",
            "line": 128,
            "snippet": "- `--on-missing-state reset`：若状态缺失但库非空，自动重置 collection 后全量重建（避免“无法定位残留 ids”）。"
          }
        ],
        "schema_hash": [
          {
            "heading": "#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）",
            "line": 129,
            "snippet": "- `--schema-change reset`：当 embed_model/chunk_conf/include_media_stub 变化时视为“新索引口径”，自动重置 collection 并写入新 schema_hash 的状态目录。"
          },
          {
            "heading": "#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）",
            "line": 132,
            "snippet": "- `data_processed/index_state/<collection>/<schema_hash>/index_state.json`"
          },
          {
            "heading": "#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）",
            "line": 133,
            "snippet": "- `data_processed/index_state/<collection>/LATEST`（指向当前 schema_hash）"
          }
        ],
        "sync-mode": [
          {
            "heading": "#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）",
            "line": 116,
            "snippet": "**做什么**：`tools/build_chroma_index_flagembedding.py` 现默认启用 `--sync-mode incremental`（增量同步），会在本地生成并维护索引状态文件（manifest）："
          },
          {
            "heading": "#### 3.1) 增量构建（index_state/manifest，同步语义，推荐）",
            "line": 124,
            "snippet": "- `--sync-mode incremental|delete-stale|none`"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:169-169",
            "hint": "",
            "raw": "../../tools/verify_stage1_pipeline_README.md",
            "ref_type": "md",
            "target_uri": "tools/verify_stage1_pipeline_README.md"
          },
          {
            "from_locator": "line:177-177",
            "hint": "",
            "raw": "../../tools/snapshot_stage1_baseline_README.md",
            "ref_type": "md",
            "target_uri": "tools/snapshot_stage1_baseline_README.md"
          },
          {
            "from_locator": "line:178-178",
            "hint": "",
            "raw": "../../tools/compare_stage1_baseline_snapshots_README.md",
            "ref_type": "md",
            "target_uri": "tools/compare_stage1_baseline_snapshots_README.md"
          },
          {
            "from_locator": "line:186-186",
            "hint": "",
            "raw": "../../tools/init_eval_cases_README.md",
            "ref_type": "md",
            "target_uri": "tools/init_eval_cases_README.md"
          },
          {
            "from_locator": "line:187-187",
            "hint": "",
            "raw": "../../tools/suggest_expected_sources_README_v2.md",
            "ref_type": "md",
            "target_uri": "tools/suggest_expected_sources_README_v2.md"
          },
          {
            "from_locator": "line:188-188",
            "hint": "",
            "raw": "../../tools/validate_eval_cases_README.md",
            "ref_type": "md",
            "target_uri": "tools/validate_eval_cases_README.md"
          },
          {
            "from_locator": "line:189-189",
            "hint": "",
            "raw": "../../tools/run_eval_retrieval_README.md",
            "ref_type": "md",
            "target_uri": "tools/run_eval_retrieval_README.md"
          },
          {
            "from_locator": "line:190-190",
            "hint": "",
            "raw": "../../tools/run_eval_rag_README.md",
            "ref_type": "md",
            "target_uri": "tools/run_eval_rag_README.md"
          },
          {
            "from_locator": "line:191-191",
            "hint": "",
            "raw": "../../tools/view_stage2_reports_README.md",
            "ref_type": "md",
            "target_uri": "tools/view_stage2_reports_README.md"
          },
          {
            "from_locator": "line:208-208",
            "hint": "",
            "raw": "../../tools/check_docs_conventions_README.md",
            "ref_type": "md",
            "target_uri": "tools/check_docs_conventions_README.md"
          }
        ]
      },
      "path": "docs/archive/README_LEGACY_FULL.md",
      "role": "archive",
      "role_hint": "path",
      "title": "README目录："
    },
    {
      "action": "only_note",
      "front_matter": {
        "last_updated": "2026-01-18",
        "scope": "report-output-v2",
        "status": "draft",
        "title": "Report Output v2 后续落地规划（Planning）",
        "version": "1.0.0"
      },
      "git_last_commit_date": "2026-01-19",
      "has_front_matter": true,
      "keyword_hits": {
        "index_state.json": [
          {
            "heading": "## 1. 目标与范围",
            "line": 29,
            "snippet": "- 状态元数据（index_state.json、db_build_stamp.json）"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/archive/planned/REPORT_OUTPUT_V2_PLANNING.md",
      "role": "archive",
      "role_hint": "path",
      "title": "Report Output v2 后续落地规划（Planning）"
    },
    {
      "action": "only_note",
      "front_matter": {
        "last_updated": "2026-01-23",
        "owner": "zhiz",
        "status": "draft",
        "timezone": "America/Los_Angeles",
        "title": "Chroma 索引断点续跑（方案 B）推进计划",
        "version": "v0.3"
      },
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": true,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "## 失败模式与缓解",
            "line": 142,
            "snippet": "1. **现象**：恢复后 `skipped_docs` 很大但最终 `collection.count()` 低于期望。"
          },
          {
            "heading": "## 替代方案",
            "line": 178,
            "snippet": "2. **仅 count snapshot（不写 WAL）**：定期读 `collection.count()` 输出日志；代价是中断后缺少可恢复证据，且 count 不是完整进度映射。"
          }
        ],
        "index_state.json": [
          {
            "heading": "# Chroma 索引断点续跑（方案 B）推进计划",
            "line": 21,
            "snippet": "> 适用范围：`tools/build_chroma_index_flagembedding.py build` 及其生成的 `index_state.json` / `index_state.stage.jsonl`。"
          },
          {
            "heading": "# Chroma 索引断点续跑（方案 B）推进计划",
            "line": 22,
            "snippet": "> 约定：对外“完成态口径”以 `index_state.json` 为准；`index_state.stage.jsonl` 用作构建过程旁路 **进度/WAL**（用于恢复与审计），成功结束后可清理或归档。"
          },
          {
            "heading": "### Step1（已完成）— 引入进度/WAL 的基础事件流并实现 doc 级续跑",
            "line": 71,
            "snippet": "【为何】`index_state.json` 采用原子写并仅在成功结束写出，中断时缺乏可持久化的“已完成集合”；引入旁路进度/WAL 可以把“已完成”的证据在构建过程中持续落盘，从而支持中断恢复与审计。"
          }
        ],
        "index_state.stage.jsonl": [
          {
            "heading": "# Chroma 索引断点续跑（方案 B）推进计划",
            "line": 21,
            "snippet": "> 适用范围：`tools/build_chroma_index_flagembedding.py build` 及其生成的 `index_state.json` / `index_state.stage.jsonl`。"
          },
          {
            "heading": "# Chroma 索引断点续跑（方案 B）推进计划",
            "line": 22,
            "snippet": "> 约定：对外“完成态口径”以 `index_state.json` 为准；`index_state.stage.jsonl` 用作构建过程旁路 **进度/WAL**（用于恢复与审计），成功结束后可清理或归档。"
          },
          {
            "heading": "## 结论",
            "line": 42,
            "snippet": "采用“`index_state.stage.jsonl` 作为 append-only 进度/WAL + 以已提交事件为依据做恢复决策”的方案，可实现："
          },
          {
            "heading": "### Step1（已完成）— 引入进度/WAL 的基础事件流并实现 doc 级续跑",
            "line": 70,
            "snippet": "【做什么】引入 `index_state.stage.jsonl`（append-only），记录 `RUN_START/RUN_RESUME/DOC_DONE/RUN_FINISH` 事件；重启时基于 `content_sha256` 构造 `done_docs` 集合并跳过已完成文档；同时在“缺 state 但 collection 非空”与“sc..."
          },
          {
            "heading": "### Step2 — 将进度/WAL 升级为“写入多少、记录就同步在” [CON]",
            "line": 77,
            "snippet": "【做什么】在现有 `index_state.stage.jsonl` 事件流基础上新增两类“提交计数”事件，并明确它们的写入边界与恢复使用方式："
          },
          {
            "heading": "### Step2 — 将进度/WAL 升级为“写入多少、记录就同步在” [CON]",
            "line": 94,
            "snippet": "- 已在 `index_state.stage.jsonl` 追加 `UPSERT_BATCH_COMMITTED` / `DOC_COMMITTED` 事件并记录 `chunks_upserted_total`，旧的 `DOC_DONE` 兼容保留；"
          },
          {
            "heading": "### Step3 — changed/deleted 的可重入顺序与幂等 [DONE]",
            "line": 114,
            "snippet": "- 已删除文档在 `index_state.stage.jsonl` 中留下 `DELETE_STALE_DONE`，且 `DELETE_OLD_DONE` 只出现一次，不重复删除相同 `doc_id`。"
          },
          {
            "heading": "## MRE",
            "line": 172,
            "snippet": "dir /b /s data_processed\\index_state\\toy\\*\\index_state.stage.jsonl"
          },
          {
            "heading": "## MRE",
            "line": 173,
            "snippet": "type data_processed\\index_state\\toy\\*\\index_state.stage.jsonl | findstr /i \"UPSERT_BATCH_COMMITTED DOC_COMMITTED\""
          }
        ],
        "resume-status": [
          {
            "heading": "## 进度记录",
            "line": 63,
            "snippet": "| 2026-01-22 | 4 | DONE | 代码 + 文档 | strict mismatch 现带 reason/delta 并写入 RUN_FINISH；新增 `--resume-status` 只读输出 WAL 综述，RUN_FINISH 成功/失败都保留 WAL。 |"
          },
          {
            "heading": "## 进度记录",
            "line": 64,
            "snippet": "| 2026-01-22 | 5 | DONE | 基础测试 | 新增 WAL/stage 解析与 resume-status 无副作用输出的单测，覆盖尾部截断容错与 doc 事件采样。 |"
          },
          {
            "heading": "### Step2 — 将进度/WAL 升级为“写入多少、记录就同步在” [CON]",
            "line": 95,
            "snippet": "- 启动时或通过 `--resume-status` 输出 resume/WAL 概览（run_id/done_docs/committed_batches/wal_upsert_rows_committed_total/wal_truncated_tail_ignored/wal_last_event），方便复盘与调度；"
          },
          {
            "heading": "### Step4 — 一致性校验与故障可复盘 [DONE]",
            "line": 119,
            "snippet": "【做什么】strict_sync 失败时输出期望/实际/差值并在 `RUN_FINISH` 写入 `reason=strict_mismatch` + 关键字段；成功时 `RUN_FINISH` 写入 `reason=ok`，继续沿用“仅 ok 且已写 state 后清理 WAL”策略。新增 `--resume-status`：只读加载 WAL，输出 ..."
          },
          {
            "heading": "### Step4 — 一致性校验与故障可复盘 [DONE]",
            "line": 120,
            "snippet": "【为何】固定化失败输出使运维可据此决定继续续跑或 reset；`--resume-status` 提供无副作用的核验入口，便于排障与 CI。"
          },
          {
            "heading": "### Step4 — 一致性校验与故障可复盘 [DONE]",
            "line": 121,
            "snippet": "【关键参数/注意】`--resume-status` 不要求 units/模型/Chroma 可用，只读取 stage 文件；strict mismatch 时 WAL 保留且带 reason，便于后续清理决策。"
          },
          {
            "heading": "## 失败模式与缓解",
            "line": 152,
            "snippet": "**缓解**：通过 `--resume-status` 获取原因；确认参数一致；若仅尾部截断，按容错规则继续；若版本不兼容，按建议清理 WAL 或走 reset。"
          }
        ],
        "schema_hash": [
          {
            "heading": "## 假设",
            "line": 49,
            "snippet": "1. **默认假设：单写入者**。同一 `db_path + collection + schema_hash` 同时只有一个 writer 进程；若无法保证，需要显式加锁或用 `run_id` 协议拒绝并发写入。"
          },
          {
            "heading": "## 假设",
            "line": 51,
            "snippet": "3. **默认假设：续跑只在严格匹配时启用**。仅当 `db_path + collection + schema_hash` 完全一致且 collection 非空时才使用 stage/WAL 的跳过集合；否则降级为不续跑，并输出原因。"
          },
          {
            "heading": "### Step1（已完成）— 引入进度/WAL 的基础事件流并实现 doc 级续跑",
            "line": 72,
            "snippet": "【关键参数/注意】续跑仅在 `db_path + collection + schema_hash` 严格匹配且 collection 非空时启用；失败或 strict mismatch 时保留 WAL 以便复盘与再次续跑；成功结束后 best-effort 清理 WAL（仅清理旁路文件，不改变完成态 state 的语义）。"
          },
          {
            "heading": "## 失败模式与缓解",
            "line": 151,
            "snippet": "**原因**：schema_hash 或 wal_version 不匹配；或 WAL 尾部损坏超过容忍范围。"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/archive/planned/planning_chroma_resume_20260122.md",
      "role": "archive",
      "role_hint": "path",
      "title": "Chroma 索引断点续跑（方案 B）推进计划"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/archive/planned/readme_code_alignment_plan.md",
      "role": "archive",
      "role_hint": "path",
      "title": "README 与源码对齐：实施计划（面向本项目）"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-19",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/archive/planned/report_output_upgrade_progress.md",
      "role": "archive",
      "role_hint": "path",
      "title": "全局一致报告输出改造 - 进度清单（截至 2026-01-16 口径）"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/explanation/2026-01-04_retrieval_evolution_summary.md",
      "role": "guide",
      "role_hint": "default",
      "title": "2026-01-04_retrieval_evolution_summary.md（最终版：口语 vs 官方术语断桥 → 可演进检索体系）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "last_updated": "2026-01-23",
        "ssot": true,
        "timezone": "America/Los_Angeles",
        "title": "HANDOFF (SSOT) - zhiz-llm-rag",
        "version": 10
      },
      "git_last_commit_date": "2026-01-21",
      "has_front_matter": true,
      "keyword_hits": {
        "resume-status": [
          {
            "heading": "### 5.1 scope / non-goals",
            "line": 220,
            "snippet": "- `--resume-status` 的字段含义与决策入口"
          },
          {
            "heading": "### 5.2 SoT artifacts",
            "line": 241,
            "snippet": "- `build_chroma_index_flagembedding` 参数/默认值/组合语义 + `--resume-status` 字段与关键日志：`docs/reference/build_chroma_cli_and_logs.md`"
          },
          {
            "heading": "### 5.3 commands（Step1–Step3）",
            "line": 255,
            "snippet": "python tools\\build_chroma_index_flagembedding.py build --collection rag_chunks --resume-status"
          }
        ],
        "strict-sync": [
          {
            "heading": "### 5.1 scope / non-goals",
            "line": 218,
            "snippet": "- 全仓 `*.md` 的 Level 3 重构：统一术语、统一“reset/resume/WAL/state/锁/strict-sync”解释、去重、修复链接与 TOC/front-matter。"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:33-33",
            "hint": "",
            "raw": "../reference/REFERENCE.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REFERENCE.md"
          }
        ]
      },
      "path": "docs/explanation/HANDOFF.md",
      "role": "guide",
      "role_hint": "default",
      "title": "HANDOFF (SSOT) - zhiz-llm-rag"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-15",
        "owner": "zhiz",
        "scope": "跨 postmortem 的失败模式、控制点、门禁与清单",
        "title": "Lessons / 经验库（可迁移）",
        "version": 0.7
      },
      "git_last_commit_date": "2026-01-15",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:71-71",
            "hint": "",
            "raw": "../howto/PREFLIGHT_CHECKLIST.md",
            "ref_type": "md",
            "target_uri": "docs/howto/PREFLIGHT_CHECKLIST.md"
          },
          {
            "from_locator": "line:72-72",
            "hint": "",
            "raw": "../howto/ci_pr_gates.md",
            "ref_type": "md",
            "target_uri": "docs/howto/ci_pr_gates.md"
          },
          {
            "from_locator": "line:73-73",
            "hint": "",
            "raw": "../postmortems/INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/INDEX.md"
          },
          {
            "from_locator": "line:239-239",
            "hint": "",
            "raw": "../postmortems/2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md"
          },
          {
            "from_locator": "line:257-257",
            "hint": "",
            "raw": "../postmortems/2026-01-07_postmortem_docs_code_alignment_and_doc_gates.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-07_postmortem_docs_code_alignment_and_doc_gates.md"
          }
        ]
      },
      "path": "docs/explanation/LESSONS.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Lessons / 经验库（可迁移）"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/explanation/documentation_principles.md",
      "role": "guide",
      "role_hint": "default",
      "title": "文档体系第一性原理与写作规范（可复用）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-06",
        "status": "archived",
        "superseded_by": "../HANDOFF.md",
        "title": "HANDOFF snapshot (archived) - 2026-01-05",
        "version": 1.0
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/explanation/handoffs/HANDOFF_2026-01-05.md",
      "role": "guide",
      "role_hint": "default",
      "title": "HANDOFF snapshot (archived) - 2026-01-05"
    },
    {
      "action": "need_align",
      "front_matter": {
        "last_updated": "2026-01-23",
        "owner": "zhiz",
        "status": "draft",
        "timezone": "America/Los_Angeles",
        "title": "Chroma 索引断点续跑（方案 B）推进计划",
        "version": "v0.3"
      },
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": true,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "## 失败模式与缓解",
            "line": 151,
            "snippet": "1. **现象**：恢复后 `skipped_docs` 很大但最终 `collection.count()` 低于期望。"
          },
          {
            "heading": "## 替代方案",
            "line": 187,
            "snippet": "2. **仅 count snapshot（不写 WAL）**：定期读 `collection.count()` 输出日志；代价是中断后缺少可恢复证据，且 count 不是完整进度映射。"
          }
        ],
        "index_state.json": [
          {
            "heading": "# Chroma 索引断点续跑（方案 B）推进计划",
            "line": 21,
            "snippet": "> 适用范围：`tools/build_chroma_index_flagembedding.py build` 及其生成的 `index_state.json` / `index_state.stage.jsonl`。"
          },
          {
            "heading": "# Chroma 索引断点续跑（方案 B）推进计划",
            "line": 22,
            "snippet": "> 约定：对外“完成态口径”以 `index_state.json` 为准；`index_state.stage.jsonl` 用作构建过程旁路 **进度/WAL**（用于恢复与审计），成功结束后可清理或归档。"
          },
          {
            "heading": "### Step1（已完成）— 引入进度/WAL 的基础事件流并实现 doc 级续跑",
            "line": 80,
            "snippet": "【为何】`index_state.json` 采用原子写并仅在成功结束写出，中断时缺乏可持久化的“已完成集合”；引入旁路进度/WAL 可以把“已完成”的证据在构建过程中持续落盘，从而支持中断恢复与审计。"
          }
        ],
        "index_state.stage.jsonl": [
          {
            "heading": "# Chroma 索引断点续跑（方案 B）推进计划",
            "line": 21,
            "snippet": "> 适用范围：`tools/build_chroma_index_flagembedding.py build` 及其生成的 `index_state.json` / `index_state.stage.jsonl`。"
          },
          {
            "heading": "# Chroma 索引断点续跑（方案 B）推进计划",
            "line": 22,
            "snippet": "> 约定：对外“完成态口径”以 `index_state.json` 为准；`index_state.stage.jsonl` 用作构建过程旁路 **进度/WAL**（用于恢复与审计），成功结束后可清理或归档。"
          },
          {
            "heading": "## 结论",
            "line": 51,
            "snippet": "采用“`index_state.stage.jsonl` 作为 append-only 进度/WAL + 以已提交事件为依据做恢复决策”的方案，可实现："
          },
          {
            "heading": "### Step1（已完成）— 引入进度/WAL 的基础事件流并实现 doc 级续跑",
            "line": 79,
            "snippet": "【做什么】引入 `index_state.stage.jsonl`（append-only），记录 `RUN_START/RUN_RESUME/DOC_DONE/RUN_FINISH` 事件；重启时基于 `content_sha256` 构造 `done_docs` 集合并跳过已完成文档；同时在“缺 state 但 collection 非空”与“sc..."
          },
          {
            "heading": "### Step2 — 将进度/WAL 升级为“写入多少、记录就同步在” [CON]",
            "line": 86,
            "snippet": "【做什么】在现有 `index_state.stage.jsonl` 事件流基础上新增两类“提交计数”事件，并明确它们的写入边界与恢复使用方式："
          },
          {
            "heading": "### Step2 — 将进度/WAL 升级为“写入多少、记录就同步在” [CON]",
            "line": 103,
            "snippet": "- 已在 `index_state.stage.jsonl` 追加 `UPSERT_BATCH_COMMITTED` / `DOC_COMMITTED` 事件并记录 `chunks_upserted_total`，旧的 `DOC_DONE` 兼容保留；"
          },
          {
            "heading": "### Step3 — changed/deleted 的可重入顺序与幂等 [DONE]",
            "line": 123,
            "snippet": "- 已删除文档在 `index_state.stage.jsonl` 中留下 `DELETE_STALE_DONE`，且 `DELETE_OLD_DONE` 只出现一次，不重复删除相同 `doc_id`。"
          },
          {
            "heading": "## MRE",
            "line": 181,
            "snippet": "dir /b /s data_processed\\index_state\\toy\\*\\index_state.stage.jsonl"
          },
          {
            "heading": "## MRE",
            "line": 182,
            "snippet": "type data_processed\\index_state\\toy\\*\\index_state.stage.jsonl | findstr /i \"UPSERT_BATCH_COMMITTED DOC_COMMITTED\""
          }
        ],
        "resume-status": [
          {
            "heading": "## 进度记录",
            "line": 72,
            "snippet": "| 2026-01-22 | 4 | DONE | 代码 + 文档 | strict mismatch 现带 reason/delta 并写入 RUN_FINISH；新增 `--resume-status` 只读输出 WAL 综述，RUN_FINISH 成功/失败都保留 WAL。 |"
          },
          {
            "heading": "## 进度记录",
            "line": 73,
            "snippet": "| 2026-01-22 | 5 | DONE | 基础测试 | 新增 WAL/stage 解析与 resume-status 无副作用输出的单测，覆盖尾部截断容错与 doc 事件采样。 |"
          },
          {
            "heading": "### Step2 — 将进度/WAL 升级为“写入多少、记录就同步在” [CON]",
            "line": 104,
            "snippet": "- 启动时或通过 `--resume-status` 输出 resume/WAL 概览（run_id/done_docs/committed_batches/wal_upsert_rows_committed_total/wal_truncated_tail_ignored/wal_last_event），方便复盘与调度；"
          },
          {
            "heading": "### Step4 — 一致性校验与故障可复盘 [DONE]",
            "line": 128,
            "snippet": "【做什么】strict_sync 失败时输出期望/实际/差值并在 `RUN_FINISH` 写入 `reason=strict_mismatch` + 关键字段；成功时 `RUN_FINISH` 写入 `reason=ok`，继续沿用“仅 ok 且已写 state 后清理 WAL”策略。新增 `--resume-status`：只读加载 WAL，输出 ..."
          },
          {
            "heading": "### Step4 — 一致性校验与故障可复盘 [DONE]",
            "line": 129,
            "snippet": "【为何】固定化失败输出使运维可据此决定继续续跑或 reset；`--resume-status` 提供无副作用的核验入口，便于排障与 CI。"
          },
          {
            "heading": "### Step4 — 一致性校验与故障可复盘 [DONE]",
            "line": 130,
            "snippet": "【关键参数/注意】`--resume-status` 不要求 units/模型/Chroma 可用，只读取 stage 文件；strict mismatch 时 WAL 保留且带 reason，便于后续清理决策。"
          },
          {
            "heading": "## 失败模式与缓解",
            "line": 161,
            "snippet": "**缓解**：通过 `--resume-status` 获取原因；确认参数一致；若仅尾部截断，按容错规则继续；若版本不兼容，按建议清理 WAL 或走 reset。"
          }
        ],
        "schema_hash": [
          {
            "heading": "## 假设",
            "line": 58,
            "snippet": "1. **默认假设：单写入者**。同一 `db_path + collection + schema_hash` 同时只有一个 writer 进程；若无法保证，需要显式加锁或用 `run_id` 协议拒绝并发写入。"
          },
          {
            "heading": "## 假设",
            "line": 60,
            "snippet": "3. **默认假设：续跑只在严格匹配时启用**。仅当 `db_path + collection + schema_hash` 完全一致且 collection 非空时才使用 stage/WAL 的跳过集合；否则降级为不续跑，并输出原因。"
          },
          {
            "heading": "### Step1（已完成）— 引入进度/WAL 的基础事件流并实现 doc 级续跑",
            "line": 81,
            "snippet": "【关键参数/注意】续跑仅在 `db_path + collection + schema_hash` 严格匹配且 collection 非空时启用；失败或 strict mismatch 时保留 WAL 以便复盘与再次续跑；成功结束后 best-effort 清理 WAL（仅清理旁路文件，不改变完成态 state 的语义）。"
          },
          {
            "heading": "## 失败模式与缓解",
            "line": 160,
            "snippet": "**原因**：schema_hash 或 wal_version 不匹配；或 WAL 尾部损坏超过容忍范围。"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/explanation/planning_chroma_resume_20260122.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Chroma 索引断点续跑（方案 B）推进计划"
    },
    {
      "action": "need_align",
      "front_matter": {
        "last_updated": "2026-01-23",
        "owner": "zhiz",
        "status": "draft",
        "timezone": "America/Los_Angeles",
        "title": "Level 3：文档体系重构与一致性收敛计划（WAL/续跑语义）",
        "version": "v0.1"
      },
      "git_last_commit_date": null,
      "has_front_matter": true,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]",
            "line": 63,
            "snippet": "【做什么】对仓库内所有 `*.md` 建立清单（路径、标题、front-matter、最后更新时间、包含关键字的段落位置），并输出一张“文档图谱”：每份文档标注其角色（reference/guide/runbook/README/archive/postmortem）、引用关系（links）、以及是否包含与 WAL/续跑/锁/strict-sync 相..."
          }
        ],
        "index_state.json": [
          {
            "heading": "## 假设（默认）",
            "line": 46,
            "snippet": "3) 术语固定：`index_state.json` 为完成态快照（success-only）、`index_state.stage.jsonll` 为 WAL/进度（append-only），两者边界在文档中明确且一致。"
          },
          {
            "heading": "### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]",
            "line": 63,
            "snippet": "【做什么】对仓库内所有 `*.md` 建立清单（路径、标题、front-matter、最后更新时间、包含关键字的段落位置），并输出一张“文档图谱”：每份文档标注其角色（reference/guide/runbook/README/archive/postmortem）、引用关系（links）、以及是否包含与 WAL/续跑/锁/strict-sync 相..."
          }
        ],
        "index_state.stage.jsonl": [
          {
            "heading": "## 假设（默认）",
            "line": 46,
            "snippet": "3) 术语固定：`index_state.json` 为完成态快照（success-only）、`index_state.stage.jsonll` 为 WAL/进度（append-only），两者边界在文档中明确且一致。"
          },
          {
            "heading": "### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]",
            "line": 63,
            "snippet": "【做什么】对仓库内所有 `*.md` 建立清单（路径、标题、front-matter、最后更新时间、包含关键字的段落位置），并输出一张“文档图谱”：每份文档标注其角色（reference/guide/runbook/README/archive/postmortem）、引用关系（links）、以及是否包含与 WAL/续跑/锁/strict-sync 相..."
          },
          {
            "heading": "### Step6 — 文档门禁与回归（CI Checks + Review Checklist）[CON]",
            "line": 106,
            "snippet": "2) 关键术语一致性检查（例如不再出现 `index_state.stage.jsonll` 误写；`policy=reset` 段落必须同时出现“默认评估/最终生效”措辞）；"
          }
        ],
        "on-missing-state": [
          {
            "heading": "### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]",
            "line": 63,
            "snippet": "【做什么】对仓库内所有 `*.md` 建立清单（路径、标题、front-matter、最后更新时间、包含关键字的段落位置），并输出一张“文档图谱”：每份文档标注其角色（reference/guide/runbook/README/archive/postmortem）、引用关系（links）、以及是否包含与 WAL/续跑/锁/strict-sync 相..."
          },
          {
            "heading": "### Step2 — 确立 SSOT 与术语表（Glossary + Contract）[STD][OFF]",
            "line": 72,
            "snippet": "【验收】SSOT 页能回答：输出字段含义、WAL 与 state 的职责边界、何时会覆盖 `on-missing-state=reset`、writer lock 的目的与处置；术语表每条均有“定义+示例+反例/误读”。"
          }
        ],
        "resume-status": [
          {
            "heading": "### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]",
            "line": 63,
            "snippet": "【做什么】对仓库内所有 `*.md` 建立清单（路径、标题、front-matter、最后更新时间、包含关键字的段落位置），并输出一张“文档图谱”：每份文档标注其角色（reference/guide/runbook/README/archive/postmortem）、引用关系（links）、以及是否包含与 WAL/续跑/锁/strict-sync 相..."
          },
          {
            "heading": "### Step3 — 统一 CLI/参数/日志字段表（Single Source of CLI Truth）[CON]",
            "line": 75,
            "snippet": "【做什么】新增一份“CLI 与日志字段表”（建议 `docs/reference/build_chroma_cli_and_logs.md`）：以 `python tools/build_chroma_index_flagembedding.py -h` 与 `--resume-status` 输出为基准，列出所有参数、默认值、互斥关系、组合语义，以及..."
          },
          {
            "heading": "### Step4 — 迁移与去重：README/howto/runbook 全面收敛到 SSOT [CON]",
            "line": 83,
            "snippet": "- OPERATION_GUIDE：升级为 runbook 风格，加入“决策树”（例如遇到 `writer lock exists`、遇到 `policy=reset`+WAL 覆盖、遇到 strict mismatch）与“低成本预检”（优先 `--resume-status`）。"
          },
          {
            "heading": "### Step4 — 迁移与去重：README/howto/runbook 全面收敛到 SSOT [CON]",
            "line": 87,
            "snippet": "【验收】关键主题（WAL 覆盖 reset、writer lock、resume-status 字段）在所有入口文档中表述一致；README 中不再出现对同一字段的重复但不同解释。"
          },
          {
            "heading": "## 自检（快速验证点）",
            "line": 118,
            "snippet": "3) 可操作性自检：在高成本机器上仅运行 `--resume-status` 就能回答“是否会 resume、是否需要删锁、是否会 reset”；runbook 的决策树能把你贴出的两类日志映射到具体动作。"
          },
          {
            "heading": "## MRE（最小可复现：用于验证文档与现实现一致）",
            "line": 129,
            "snippet": "python tools\\build_chroma_index_flagembedding.py build --collection chrome_db --resume-status"
          }
        ],
        "schema_hash": [
          {
            "heading": "### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]",
            "line": 63,
            "snippet": "【做什么】对仓库内所有 `*.md` 建立清单（路径、标题、front-matter、最后更新时间、包含关键字的段落位置），并输出一张“文档图谱”：每份文档标注其角色（reference/guide/runbook/README/archive/postmortem）、引用关系（links）、以及是否包含与 WAL/续跑/锁/strict-sync 相..."
          },
          {
            "heading": "### Step2 — 确立 SSOT 与术语表（Glossary + Contract）[STD][OFF]",
            "line": 69,
            "snippet": "【做什么】在 `docs/reference/` 建立或强化一份“SSOT 导航页”，明确：哪些文档是规范（contract），哪些是说明（guide），哪些是历史（postmortem/archive）。同时新增术语表（glossary）：对 `state`、`WAL`、`run_id`、`schema_hash`、`committed`、`atte..."
          }
        ],
        "strict-sync": [
          {
            "heading": "## 输出物（交付形态）",
            "line": 55,
            "snippet": "- 修改：所有相关 README/howto/reference/archive 中与 WAL/续跑/锁/strict-sync 相关的段落、参数表、示例命令与故障处理。"
          },
          {
            "heading": "### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]",
            "line": 63,
            "snippet": "【做什么】对仓库内所有 `*.md` 建立清单（路径、标题、front-matter、最后更新时间、包含关键字的段落位置），并输出一张“文档图谱”：每份文档标注其角色（reference/guide/runbook/README/archive/postmortem）、引用关系（links）、以及是否包含与 WAL/续跑/锁/strict-sync 相..."
          },
          {
            "heading": "### Step2 — 确立 SSOT 与术语表（Glossary + Contract）[STD][OFF]",
            "line": 69,
            "snippet": "【做什么】在 `docs/reference/` 建立或强化一份“SSOT 导航页”，明确：哪些文档是规范（contract），哪些是说明（guide），哪些是历史（postmortem/archive）。同时新增术语表（glossary）：对 `state`、`WAL`、`run_id`、`schema_hash`、`committed`、`atte..."
          },
          {
            "heading": "### Step3 — 统一 CLI/参数/日志字段表（Single Source of CLI Truth）[CON]",
            "line": 77,
            "snippet": "【关键参数/注意】对组合语义做显式规则：例如 `sync-mode=none + strict-sync=true` 的行为应在表中写明，并给出建议（关闭 strict 或换 sync-mode）；对 `--resume off` 的效果写成“强制不走 WAL 恢复”。"
          }
        ],
        "sync-mode": [
          {
            "heading": "### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]",
            "line": 63,
            "snippet": "【做什么】对仓库内所有 `*.md` 建立清单（路径、标题、front-matter、最后更新时间、包含关键字的段落位置），并输出一张“文档图谱”：每份文档标注其角色（reference/guide/runbook/README/archive/postmortem）、引用关系（links）、以及是否包含与 WAL/续跑/锁/strict-sync 相..."
          },
          {
            "heading": "### Step3 — 统一 CLI/参数/日志字段表（Single Source of CLI Truth）[CON]",
            "line": 77,
            "snippet": "【关键参数/注意】对组合语义做显式规则：例如 `sync-mode=none + strict-sync=true` 的行为应在表中写明，并给出建议（关闭 strict 或换 sync-mode）；对 `--resume off` 的效果写成“强制不走 WAL 恢复”。"
          }
        ],
        "writer.lock": [
          {
            "heading": "### Step1 — 全量清点与建立“文档图谱”（Inventory + Map）[CON]",
            "line": 63,
            "snippet": "【做什么】对仓库内所有 `*.md` 建立清单（路径、标题、front-matter、最后更新时间、包含关键字的段落位置），并输出一张“文档图谱”：每份文档标注其角色（reference/guide/runbook/README/archive/postmortem）、引用关系（links）、以及是否包含与 WAL/续跑/锁/strict-sync 相..."
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/explanation/planning_doc_system_level3_sync_20260123.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Level 3：文档体系重构与一致性收敛计划（WAL/续跑语义）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-21",
        "timezone": "America/Los_Angeles",
        "title": "观测长任务（进度与 items 事件流）",
        "version": 2
      },
      "git_last_commit_date": "2026-01-21",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/howto/OBSERVE_LONG_RUNS.md",
      "role": "guide",
      "role_hint": "default",
      "title": "观测长任务（进度与 items 事件流）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "last_updated": "2026-01-23",
        "owner": "zhiz",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "OPERATION GUIDE（运行手册）",
        "version": "v1.2"
      },
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": true,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "### Step 6：check（强校验）——以 plan 为准做 PASS/FAIL 判定",
            "line": 259,
            "snippet": "**做什么**：执行 `check_chroma_build.py --db chroma_db --collection rag_chunks --plan data_processed/chunk_plan.json`。该检查的核心判据是：`collection.count == planned_chunks`。"
          }
        ],
        "index_state.json": [
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 206,
            "snippet": "**为何（因果）**：`index_state.json` 是 only-on-success 的完成态 manifest，中断时通常缺失；如果仅依赖 manifest，会把“已写入但未完成”的状态误判为需要 reset。WAL 的职责是把“写入进度”在运行期同步落盘，从而让恢复语义具备可核验依据。"
          },
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 240,
            "snippet": "**产物**：`data_processed/index_state/<collection>/<schema_hash>/index_state.json` + `LATEST` 指针文件。"
          }
        ],
        "index_state.stage.jsonl": [
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 205,
            "snippet": "**做什么**：build 过程会在 `data_processed/index_state/<collection>/<schema_hash>/` 下追加写入 `index_state.stage.jsonl`（WAL）。当进程被中断或异常退出时，下一次启动会优先读取 WAL 来恢复进度：**跳过已 `DOC_COMMITTED` 的 doc，仅处..."
          }
        ],
        "on-missing-state": [
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 53,
            "snippet": "当你看到类似 `index_state missing ... policy=reset` 的 WARN 时，它表达的是对 `--on-missing-state=reset` 的**默认评估**分支，并不等价于“已经执行 reset”。"
          },
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 54,
            "snippet": "若同一轮启动还出现 `WAL indicates resumable progress; ignore on-missing-state=reset and continue with resume.`，则代表 WAL 判定可续跑，进入 resume 路径为**最终生效**决策，此时不会执行 reset（避免重复写入与无谓重置）。"
          },
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 214,
            "snippet": "- `WAL indicates resumable progress; ignore on-missing-state=reset ...`：WAL 匹配且可续跑，最终生效为 resume（不会执行 reset）。"
          },
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 217,
            "snippet": "python tools\\build_chroma_index_flagembedding.py build --collection rag_chunks --resume off --on-missing-state reset"
          },
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 229,
            "snippet": "- `--on-missing-state reset|fail|full-upsert`：state 缺失且库非空时的默认分支评估；若 WAL 可续跑会被覆盖进入 resume。"
          }
        ],
        "resume-status": [
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 210,
            "snippet": "python tools\\build_chroma_index_flagembedding.py build --collection rag_chunks --resume-status"
          },
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 219,
            "snippet": "- 若遇到 `writer lock exists`：先执行 `--resume-status` 读取 wal/state；确认当前无并发 build 进程后，再按决策树处理：优先选择“继续续跑”或“显式禁用 resume 并重建”；仅在确认锁为遗留且无并发时才删除 `writer.lock`。如需临时绕过锁，可用 `--writer-lock fal..."
          },
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 227,
            "snippet": "- `--resume-status`：只读预检（优先执行）。"
          },
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 236,
            "snippet": "- `--resume-status`：只读打印 RESUME STATUS 并退出。"
          }
        ],
        "schema_hash": [
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 205,
            "snippet": "**做什么**：build 过程会在 `data_processed/index_state/<collection>/<schema_hash>/` 下追加写入 `index_state.stage.jsonl`（WAL）。当进程被中断或异常退出时，下一次启动会优先读取 WAL 来恢复进度：**跳过已 `DOC_COMMITTED` 的 doc，仅处..."
          },
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 240,
            "snippet": "**产物**：`data_processed/index_state/<collection>/<schema_hash>/index_state.json` + `LATEST` 指针文件。"
          }
        ],
        "strict-sync": [
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 231,
            "snippet": "- `--strict-sync true|false`：构建后强一致验收开关。"
          }
        ],
        "sync-mode": [
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 221,
            "snippet": "**做什么**：build 脚本默认启用 `--sync-mode incremental`，会在 `data_processed/index_state/` 下写入索引状态；后续重复运行时："
          }
        ],
        "writer.lock": [
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 197,
            "snippet": "**新增（2026-01-23）：断点续跑（WAL）+ 单写入者锁（writer.lock）**"
          },
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 205,
            "snippet": "**做什么**：build 过程会在 `data_processed/index_state/<collection>/<schema_hash>/` 下追加写入 `index_state.stage.jsonl`（WAL）。当进程被中断或异常退出时，下一次启动会优先读取 WAL 来恢复进度：**跳过已 `DOC_COMMITTED` 的 doc，仅处..."
          },
          {
            "heading": "### Step 5：build（向量化 + upsert 入库）——建议用 profile 固化参数并可调 batch",
            "line": 219,
            "snippet": "- 若遇到 `writer lock exists`：先执行 `--resume-status` 读取 wal/state；确认当前无并发 build 进程后，再按决策树处理：优先选择“继续续跑”或“显式禁用 resume 并重建”；仅在确认锁为遗留且无并发时才删除 `writer.lock`。如需临时绕过锁，可用 `--writer-lock fal..."
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:66-67",
            "hint": "",
            "raw": "../postmortems/2025-12-30_postmortem_pip_embed_py314_numpy_meson_fail.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2025-12-30_postmortem_pip_embed_py314_numpy_meson_fail.md"
          },
          {
            "from_locator": "line:200-200",
            "hint": "",
            "raw": "../reference/build_chroma_cli_and_logs.md",
            "ref_type": "md",
            "target_uri": "docs/reference/build_chroma_cli_and_logs.md"
          },
          {
            "from_locator": "line:201-201",
            "hint": "",
            "raw": "../reference/index_state_and_stamps.md",
            "ref_type": "md",
            "target_uri": "docs/reference/index_state_and_stamps.md"
          },
          {
            "from_locator": "line:202-202",
            "hint": "",
            "raw": "../reference/GLOSSARY_WAL_RESUME.md",
            "ref_type": "md",
            "target_uri": "docs/reference/GLOSSARY_WAL_RESUME.md"
          },
          {
            "from_locator": "line:203-203",
            "hint": "",
            "raw": "../reference/DOC_SYSTEM_SSOT.md",
            "ref_type": "md",
            "target_uri": "docs/reference/DOC_SYSTEM_SSOT.md"
          },
          {
            "from_locator": "line:334-334",
            "hint": "",
            "raw": "../../tools/verify_stage1_pipeline_README.md",
            "ref_type": "md",
            "target_uri": "tools/verify_stage1_pipeline_README.md"
          },
          {
            "from_locator": "line:352-352",
            "hint": "",
            "raw": "../../tools/snapshot_stage1_baseline_README.md",
            "ref_type": "md",
            "target_uri": "tools/snapshot_stage1_baseline_README.md"
          },
          {
            "from_locator": "line:352-352",
            "hint": "",
            "raw": "../../tools/compare_stage1_baseline_snapshots_README.md",
            "ref_type": "md",
            "target_uri": "tools/compare_stage1_baseline_snapshots_README.md"
          },
          {
            "from_locator": "line:354-356",
            "hint": "",
            "raw": "rag_accept.md",
            "ref_type": "md",
            "target_uri": "docs/howto/rag_accept.md"
          },
          {
            "from_locator": "line:390-390",
            "hint": "",
            "raw": "../../tools/init_eval_cases_README.md",
            "ref_type": "md",
            "target_uri": "tools/init_eval_cases_README.md"
          },
          {
            "from_locator": "line:391-391",
            "hint": "",
            "raw": "../../tools/suggest_expected_sources_README_v2.md",
            "ref_type": "md",
            "target_uri": "tools/suggest_expected_sources_README_v2.md"
          },
          {
            "from_locator": "line:392-392",
            "hint": "",
            "raw": "../../tools/validate_eval_cases_README.md",
            "ref_type": "md",
            "target_uri": "tools/validate_eval_cases_README.md"
          },
          {
            "from_locator": "line:393-393",
            "hint": "",
            "raw": "../../tools/run_eval_retrieval_README.md",
            "ref_type": "md",
            "target_uri": "tools/run_eval_retrieval_README.md"
          },
          {
            "from_locator": "line:394-394",
            "hint": "",
            "raw": "../../tools/run_eval_rag_README.md",
            "ref_type": "md",
            "target_uri": "tools/run_eval_rag_README.md"
          },
          {
            "from_locator": "line:395-395",
            "hint": "",
            "raw": "../../tools/view_stage2_reports_README.md",
            "ref_type": "md",
            "target_uri": "tools/view_stage2_reports_README.md"
          },
          {
            "from_locator": "line:429-429",
            "hint": "",
            "raw": "../reference/REPORT_OUTPUT_ENGINEERING_RULES.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
          }
        ]
      },
      "path": "docs/howto/OPERATION_GUIDE.md",
      "role": "runbook",
      "role_hint": "name",
      "title": "OPERATION GUIDE（运行手册）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-13",
        "title": "How-to：建立“口语 vs 官方术语”检索回归（防止 topK 漏召回）",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-16",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:39-40",
            "hint": "",
            "raw": "../../tools/suggest_eval_case_README.md",
            "ref_type": "md",
            "target_uri": "tools/suggest_eval_case_README.md"
          },
          {
            "from_locator": "line:59-59",
            "hint": "",
            "raw": "../../tools/validate_eval_cases_README.md",
            "ref_type": "md",
            "target_uri": "tools/validate_eval_cases_README.md"
          },
          {
            "from_locator": "line:73-73",
            "hint": "",
            "raw": "../../tools/run_eval_retrieval_README.md",
            "ref_type": "md",
            "target_uri": "tools/run_eval_retrieval_README.md"
          }
        ]
      },
      "path": "docs/howto/ORAL_OFFICIAL_RETRIEVAL_REGRESSION.md",
      "role": "guide",
      "role_hint": "default",
      "title": "How-to：建立“口语 vs 官方术语”检索回归（防止 topK 漏召回）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-07",
        "owner": "zhiz",
        "status": "draft",
        "title": "Postmortem Workflow（复盘动作说明书：模板 → LESSONS → PREFLIGHT → HANDOFF）",
        "version": 0.1
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/howto/POSTMORTEM_WORKFLOW.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Postmortem Workflow（复盘动作说明书：模板 → LESSONS → PREFLIGHT → HANDOFF）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-15",
        "owner": "zhiz",
        "scope": "本地门禁序列：在变更入口/依赖/环境后，快速确认系统仍可用；并覆盖公开发布前的最小检查",
        "title": "Preflight Checklist（重构/换机/换环境后必跑）",
        "version": 0.6
      },
      "git_last_commit_date": "2026-01-16",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:156-156",
            "hint": "",
            "raw": "pre_commit.md",
            "ref_type": "md",
            "target_uri": "docs/howto/pre_commit.md"
          },
          {
            "from_locator": "line:293-293",
            "hint": "",
            "raw": "../../CHANGELOG.md",
            "ref_type": "md",
            "target_uri": "CHANGELOG.md"
          },
          {
            "from_locator": "line:296-296",
            "hint": "",
            "raw": "../../CODE_OF_CONDUCT.md",
            "ref_type": "md",
            "target_uri": "CODE_OF_CONDUCT.md"
          },
          {
            "from_locator": "line:302-302",
            "hint": "",
            "raw": "ci_pr_gates.md",
            "ref_type": "md",
            "target_uri": "docs/howto/ci_pr_gates.md"
          },
          {
            "from_locator": "line:302-302",
            "hint": "",
            "raw": "TROUBLESHOOTING.md",
            "ref_type": "md",
            "target_uri": "docs/howto/TROUBLESHOOTING.md"
          },
          {
            "from_locator": "line:304-304",
            "hint": "",
            "raw": "../postmortems/2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md"
          }
        ]
      },
      "path": "docs/howto/PREFLIGHT_CHECKLIST.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Preflight Checklist（重构/换机/换环境后必跑）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-13",
        "title": "排障手册（Runbook）",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:115-115",
            "hint": "",
            "raw": "../postmortems/2025-12-26_chroma_build_postmortem.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2025-12-26_chroma_build_postmortem.md"
          }
        ]
      },
      "path": "docs/howto/TROUBLESHOOTING.md",
      "role": "runbook",
      "role_hint": "name",
      "title": "排障手册（Runbook）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-14",
        "title": "How-to：PR/CI Lite 门禁（快速回归）",
        "version": "v1.3"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:52-52",
            "hint": "",
            "raw": "../../tools/gate_README.md",
            "ref_type": "md",
            "target_uri": "tools/gate_README.md"
          },
          {
            "from_locator": "line:53-53",
            "hint": "",
            "raw": "../../tools/view_gate_report_README.md",
            "ref_type": "md",
            "target_uri": "tools/view_gate_report_README.md"
          },
          {
            "from_locator": "line:55-55",
            "hint": "",
            "raw": "../../policy/README.md",
            "ref_type": "md",
            "target_uri": "policy/README.md"
          },
          {
            "from_locator": "line:116-116",
            "hint": "",
            "raw": "pre_commit.md",
            "ref_type": "md",
            "target_uri": "docs/howto/pre_commit.md"
          }
        ]
      },
      "path": "docs/howto/ci_pr_gates.md",
      "role": "guide",
      "role_hint": "default",
      "title": "How-to：PR/CI Lite 门禁（快速回归）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-13",
        "title": "完全离线运行 Policy Gate（Vendoring conftest / 内部镜像源）",
        "version": "v1.2"
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/howto/offline_conftest.md",
      "role": "guide",
      "role_hint": "default",
      "title": "完全离线运行 Policy Gate（Vendoring conftest / 内部镜像源）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-14",
        "title": "How-to：本地 pre-commit 使用指南",
        "version": "v1.2"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:158-158",
            "hint": "",
            "raw": "ci_pr_gates.md",
            "ref_type": "md",
            "target_uri": "docs/howto/ci_pr_gates.md"
          },
          {
            "from_locator": "line:159-159",
            "hint": "",
            "raw": "PREFLIGHT_CHECKLIST.md",
            "ref_type": "md",
            "target_uri": "docs/howto/PREFLIGHT_CHECKLIST.md"
          },
          {
            "from_locator": "line:160-160",
            "hint": "",
            "raw": "../../tools/rag_python.md",
            "ref_type": "md",
            "target_uri": "tools/rag_python.md"
          }
        ]
      },
      "path": "docs/howto/pre_commit.md",
      "role": "guide",
      "role_hint": "default",
      "title": "How-to：本地 pre-commit 使用指南"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-12",
        "title": "rag-accept 使用说明",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/howto/rag_accept.md",
      "role": "guide",
      "role_hint": "default",
      "title": "rag-accept 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-13",
        "title": "rag-status 使用说明",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:25-25",
            "hint": "",
            "raw": "OPERATION_GUIDE.md",
            "ref_type": "md",
            "target_uri": "docs/howto/OPERATION_GUIDE.md"
          },
          {
            "from_locator": "line:26-26",
            "hint": "",
            "raw": "rag_accept.md",
            "ref_type": "md",
            "target_uri": "docs/howto/rag_accept.md"
          },
          {
            "from_locator": "line:27-27",
            "hint": "",
            "raw": "../reference/index_state_and_stamps.md",
            "ref_type": "md",
            "target_uri": "docs/reference/index_state_and_stamps.md"
          },
          {
            "from_locator": "line:28-28",
            "hint": "",
            "raw": "TROUBLESHOOTING.md",
            "ref_type": "md",
            "target_uri": "docs/howto/TROUBLESHOOTING.md"
          }
        ]
      },
      "path": "docs/howto/rag_status.md",
      "role": "guide",
      "role_hint": "default",
      "title": "rag-status 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-12",
        "title": "How-to：在本项目执行审查（Review Workflow）",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/howto/review_workflow.md",
      "role": "guide",
      "role_hint": "default",
      "title": "How-to：在本项目执行审查（Review Workflow）"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:6-6",
            "hint": "",
            "raw": "reference/postmortem_prompt_template.md",
            "ref_type": "md",
            "target_uri": "docs/reference/postmortem_prompt_template.md"
          },
          {
            "from_locator": "line:7-7",
            "hint": "",
            "raw": "INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/INDEX.md"
          }
        ]
      },
      "path": "docs/old_postmortem_prompt_template.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Postmortem 提示词模板（已迁移）"
    },
    {
      "action": "only_note",
      "front_matter": {},
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": false,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "### 6.2 把“expected”从手填常数改为可追溯（建议）",
            "line": 164,
            "snippet": "- check 时对比 planned_chunks 与 `collection.count()`，口径可复现"
          },
          {
            "heading": "## 7. 本次新增/使用的脚本清单（都放在同一目录下可直接运行）",
            "line": 171,
            "snippet": "- `dump_chroma_collection_stats.py`：统计 collection.count / source 分布 / doc_id gap"
          }
        ],
        "index_state.stage.jsonl": [
          {
            "heading": "# 本次 Chroma 构建数量异常排查总结（705 vs 694）",
            "line": 22,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          }
        ],
        "on-missing-state": [
          {
            "heading": "# 本次 Chroma 构建数量异常排查总结（705 vs 694）",
            "line": 22,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          }
        ],
        "resume-status": [
          {
            "heading": "# 本次 Chroma 构建数量异常排查总结（705 vs 694）",
            "line": 22,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2025-12-26_chroma_build_postmortem.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "本次 Chroma 构建数量异常排查总结（705 vs 694）"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2025-12-27_postmortem_llm_timeout_lmstudio.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "Postmortem: RAG 闭环问答阶段 LLM Read Timeout（LM Studio）— 2025-12-27"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2025-12-28_postmortem_llm_proxy_timeout_7890.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "Postmortem: LLM 请求被环境代理劫持到 127.0.0.1:7890 导致 ReadTimeout（LM Studio）— 2025-12-28"
    },
    {
      "action": "only_note",
      "front_matter": {},
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": false,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "# 2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md目录：",
            "line": 42,
            "snippet": "[验收] python check_chroma_build.py --db chroma_db --collection rag_chunks --plan data_processed/chunk_plan.json（expected_chunks==collection.count）"
          },
          {
            "heading": "## 2. 问题定义",
            "line": 77,
            "snippet": "- 12-29 的核心是：已经是 **plan-driven expected**，但 collection.count 仍然大于 expected，说明问题不再是“expected 来源不可靠”，而是“库里混入了计划外数据”。"
          },
          {
            "heading": "### 3.2 实际库内条目数（got=4433）",
            "line": 97,
            "snippet": "该值来自对 `chroma_db/rag_chunks` 的实际读取（collection.count 或等价统计），属于“事实层”。"
          },
          {
            "heading": "### 3.3 计数大于期望的含义：存在“计划外残留”",
            "line": 100,
            "snippet": "当 `collection.count > expected_chunks` 时，意味着至少存在以下一种情况："
          },
          {
            "heading": "## 6. 预防与回归测试",
            "line": 170,
            "snippet": "1) **preflight**：若 `collection.count>0 且 count!=expected`，明确提示“可能存在残留”，并给出两条动作：重置/隔离后重建。"
          },
          {
            "heading": "## 6. 预防与回归测试",
            "line": 171,
            "snippet": "2) **strict check（build 内部）**：build 完成后立即断言 `collection.count == expected_chunks`，失败即返回非 0。"
          }
        ],
        "index_state.stage.jsonl": [
          {
            "heading": "# 2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md目录：",
            "line": 10,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          }
        ],
        "on-missing-state": [
          {
            "heading": "# 2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md目录：",
            "line": 10,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          }
        ],
        "resume-status": [
          {
            "heading": "# 2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md目录：",
            "line": 10,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md目录："
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2025-12-29_units_pipeline_postmortem_inventory_units_mismatch_and_extract_units_typeerror.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "2025-12-29_units_pipeline_postmortem_inventory_units_mismatch_and_extract_units_typeerror.md目录："
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2025-12-30_postmortem_ci_optional_dependency_chromadb.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "2025-12-30_postmortem_ci_optional_dependency_chromadb.md目录："
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2025-12-30_postmortem_pip_embed_py314_numpy_meson_fail.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "2025-12-30_postmortem_pip_embed_py314_numpy_meson_fail.md目录："
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2025-12-30_units_pipeline_postmortem_import_contract_cli_entrypoints_rg.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "2025-12-30_units_pipeline_postmortem_import_contract_cli_entrypoints_rg.md目录："
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-02-18h_status_step6_check_json_stale_false_positive.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "2026-01-02-18h_status_step6_check_json_stale_false_positive.md目录："
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-03-21h_rag_accept_cli_missing_and_doc_encoding_mismatch.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "2026-01-03-21h_rag_accept_cli_missing_and_doc_encoding_mismatch.md目录："
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-03_issue1_postmortem.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "2026-01-03 pyproject 门禁与环境安装异常复盘（Issue1）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "incident_id": "INC-20260105-LLM-OBS-MODEL",
        "last_updated": "2026-01-05",
        "style": "pagerduty_atlassian_plus_project_contracts",
        "template": "incident_postmortem",
        "title": "E2E 回归中 LLM HTTP POST 错误取证缺失与模型身份不准确",
        "version": "v2.0"
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-05_postmortem_llm_http_observability_and_model_identity.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "E2E 回归中 LLM HTTP POST 错误取证缺失与模型身份不准确"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-07",
        "owner": "zhiz",
        "scope": "docs↔code 对齐 / 缺失脚本补齐 / 文档门禁（verify_*）增强 / 控制台可读性",
        "status": "done",
        "title": "2026-01-07｜docs↔code 对齐 + 缺失脚本补齐 + 文档门禁增强 + 输出可读性优化｜Postmortem",
        "version": 1.0
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-07_postmortem_docs_code_alignment_and_doc_gates.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "2026-01-07｜docs↔code 对齐 + 缺失脚本补齐 + 文档门禁增强 + 输出可读性优化｜Postmortem"
    },
    {
      "action": "no_action",
      "front_matter": {
        "language": "zh-CN",
        "last_updated": "2026-01-08",
        "mode": "solo_debug",
        "scope": {
          "component": "公开发布前置检查（数据面隔离 + 文档脱敏 + 门禁）",
          "repo": "zhiz-llm-rag",
          "severity": "P2"
        },
        "title": "Postmortem｜公开项目的前置检查（Public Release Preflight）",
        "version": 1.0
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-08_postmortem_public_release_preflight.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "Postmortem｜公开项目的前置检查（Public Release Preflight）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "date": "2026-01-08",
        "last_updated": "2026-01-08",
        "mode": "solo_debug",
        "repo": "zhiz-llm-rag (public)",
        "scope": [
          "tools/ 与 src/ 的工具分层（SSOT / wrapper / repo-only）",
          "全量 wrapper 生成器（gen_tools_wrappers.py）一致性门禁",
          "退出码契约（PASS/FAIL/ERROR = 0/2/3）"
        ],
        "severity": "P2",
        "status": "done (复盘文档完成；代码落地以仓库 commit 为准)",
        "title": "Postmortem: tools/分层与全量 wrapper 生成门禁自举失败 + 退出码契约对齐",
        "version": 1.0
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "Postmortem: tools/分层与全量 wrapper 生成门禁自举失败 + 退出码契约对齐"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-09",
        "owner": "zhiz",
        "scope": "public release readiness / repo health files",
        "status": "done",
        "title": "Postmortem：开源项目补齐仓库健康文件（CHANGELOG/CITATION/.editorconfig + CoC 联系方式）",
        "version": 0.1
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-09_postmortem_open_source_repo_health_files.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "Postmortem：开源项目补齐仓库健康文件（CHANGELOG/CITATION/.editorconfig + CoC 联系方式）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "language": "zh-CN",
        "last_updated": "2026-01-11",
        "mode": "solo_debug",
        "scope": {
          "component": "gate / check_public_release_hygiene（public release hygiene）",
          "repo": "zhiz-llm-rag",
          "severity": "P3"
        },
        "title": "Postmortem｜check_public_release_hygiene：rc=2（FAIL）与 report_written 信号误读",
        "version": 1.0
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-11_postmortem_public_release_hygiene_rc2_and_report_written_signal.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "Postmortem｜check_public_release_hygiene：rc=2（FAIL）与 report_written 信号误读"
    },
    {
      "action": "no_action",
      "front_matter": {
        "language": "zh-CN",
        "last_updated": "2026-01-11",
        "mode": "solo_debug",
        "scope": {
          "component": "gate 架构（SSOT / schema / policy / CI 单入口）",
          "repo": "zhiz-llm-rag",
          "severity": "P2"
        },
        "title": "Postmortem｜门禁治理架构：SSOT → Gate 单入口 → JSON Schema →（可选）Conftest Policy",
        "version": 1.0
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-11_postmortem_ssot_gate_schema_policy_single_entrypoint.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "Postmortem｜门禁治理架构：SSOT → Gate 单入口 → JSON Schema →（可选）Conftest Policy"
    },
    {
      "action": "no_action",
      "front_matter": {
        "language": "zh-CN",
        "last_updated": "2026-01-13",
        "mode": "solo_debug",
        "scope": {
          "component": "Review Spec（SSOT/生成/校验）+ priority_order 覆盖门禁 + SSOT(HANDOFF) 写回",
          "repo": "zhiz-llm-rag",
          "severity": "P2"
        },
        "title": "Postmortem｜审查规范（Review Spec）优先级覆盖门禁 + 写回 HANDOFF（SSOT）",
        "version": 1.0
      },
      "git_last_commit_date": "2026-01-14",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-13_postmortem_review_spec_priority_coverage_gate_and_handoff.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "Postmortem｜审查规范（Review Spec）优先级覆盖门禁 + 写回 HANDOFF（SSOT）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "language": "zh-CN",
        "last_updated": "2026-01-15",
        "mode": "solo_debug",
        "scope": {
          "component": "tools.reporting / report_order（file report ordering）",
          "repo": "zhiz-llm-rag",
          "severity": "P3"
        },
        "title": "Postmortem｜落盘报告顺序契约：汇总置顶 + 严重度排序（FAIL/ERROR 优先）",
        "version": 1.0
      },
      "git_last_commit_date": "2026-01-15",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-15_postmortem_file_report_ordering.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "Postmortem｜落盘报告顺序契约：汇总置顶 + 严重度排序（FAIL/ERROR 优先）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "language": "zh-CN",
        "last_updated": "2026-01-15",
        "mode": "solo_debug",
        "scope": {
          "component": "reports（JSON/Markdown）人类消费契约：可点击定位（vscode://file）+ 路径分隔符归一化",
          "repo": "zhiz-llm-rag",
          "severity": "P3"
        },
        "title": "Postmortem｜报告输出契约：VS Code 可点击定位（vscode://file）与路径分隔符归一化",
        "version": 1.1
      },
      "git_last_commit_date": "2026-01-15",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-15_postmortem_report_output_contract_paths.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "Postmortem｜报告输出契约：VS Code 可点击定位（vscode://file）与路径分隔符归一化"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-15",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/2026-01-15_postmortem_vscode_clickable_loc_uri.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "2026-01-15_postmortem_vscode_clickable_loc_uri.md目录："
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-16",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/postmortems/25-12-27_CPU-only_chroma-build_postmoretm.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "Postmortem: Torch not compiled with CUDA enabled, chroma_db 不一致 - 2025.12.27"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-15",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:8-8",
            "hint": "",
            "raw": "../reference/postmortem_prompt_template.md",
            "ref_type": "md",
            "target_uri": "docs/reference/postmortem_prompt_template.md"
          },
          {
            "from_locator": "line:9-9",
            "hint": "",
            "raw": "../explanation/LESSONS.md",
            "ref_type": "md",
            "target_uri": "docs/explanation/LESSONS.md"
          },
          {
            "from_locator": "line:10-10",
            "hint": "",
            "raw": "../howto/PREFLIGHT_CHECKLIST.md",
            "ref_type": "md",
            "target_uri": "docs/howto/PREFLIGHT_CHECKLIST.md"
          },
          {
            "from_locator": "line:15-15",
            "hint": "",
            "raw": "2026-01-15_postmortem_file_report_ordering.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-15_postmortem_file_report_ordering.md"
          },
          {
            "from_locator": "line:19-19",
            "hint": "",
            "raw": "2026-01-15_postmortem_report_output_contract_paths.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-15_postmortem_report_output_contract_paths.md"
          },
          {
            "from_locator": "line:23-23",
            "hint": "",
            "raw": "2026-01-15_postmortem_vscode_clickable_loc_uri.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-15_postmortem_vscode_clickable_loc_uri.md"
          },
          {
            "from_locator": "line:27-27",
            "hint": "",
            "raw": "2026-01-13_postmortem_review_spec_priority_coverage_gate_and_handoff.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-13_postmortem_review_spec_priority_coverage_gate_and_handoff.md"
          },
          {
            "from_locator": "line:32-32",
            "hint": "",
            "raw": "2026-01-11_postmortem_public_release_hygiene_rc2_and_report_written_signal.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-11_postmortem_public_release_hygiene_rc2_and_report_written_signal.md"
          },
          {
            "from_locator": "line:35-35",
            "hint": "",
            "raw": "2026-01-11_postmortem_ssot_gate_schema_policy_single_entrypoint.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-11_postmortem_ssot_gate_schema_policy_single_entrypoint.md"
          },
          {
            "from_locator": "line:40-40",
            "hint": "",
            "raw": "2026-01-09_postmortem_open_source_repo_health_files.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-09_postmortem_open_source_repo_health_files.md"
          },
          {
            "from_locator": "line:45-45",
            "hint": "",
            "raw": "2026-01-08_postmortem_public_release_preflight.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-08_postmortem_public_release_preflight.md"
          },
          {
            "from_locator": "line:48-48",
            "hint": "",
            "raw": "2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md"
          },
          {
            "from_locator": "line:53-53",
            "hint": "",
            "raw": "2026-01-07_postmortem_docs_code_alignment_and_doc_gates.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-07_postmortem_docs_code_alignment_and_doc_gates.md"
          },
          {
            "from_locator": "line:58-58",
            "hint": "",
            "raw": "2026-01-05_postmortem_llm_http_observability_and_model_identity.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-05_postmortem_llm_http_observability_and_model_identity.md"
          },
          {
            "from_locator": "line:63-63",
            "hint": "",
            "raw": "2026-01-03-21h_rag_accept_cli_missing_and_doc_encoding_mismatch.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-03-21h_rag_accept_cli_missing_and_doc_encoding_mismatch.md"
          },
          {
            "from_locator": "line:66-66",
            "hint": "",
            "raw": "2026-01-03_issue1_postmortem.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-03_issue1_postmortem.md"
          },
          {
            "from_locator": "line:71-71",
            "hint": "",
            "raw": "2026-01-02-18h_status_step6_check_json_stale_false_positive.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2026-01-02-18h_status_step6_check_json_stale_false_positive.md"
          },
          {
            "from_locator": "line:76-76",
            "hint": "",
            "raw": "2025-12-30_postmortem_ci_optional_dependency_chromadb.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2025-12-30_postmortem_ci_optional_dependency_chromadb.md"
          },
          {
            "from_locator": "line:79-79",
            "hint": "",
            "raw": "2025-12-30_postmortem_pip_embed_py314_numpy_meson_fail.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2025-12-30_postmortem_pip_embed_py314_numpy_meson_fail.md"
          },
          {
            "from_locator": "line:82-82",
            "hint": "",
            "raw": "2025-12-30_units_pipeline_postmortem_import_contract_cli_entrypoints_rg.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2025-12-30_units_pipeline_postmortem_import_contract_cli_entrypoints_rg.md"
          },
          {
            "from_locator": "line:87-87",
            "hint": "",
            "raw": "2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md"
          },
          {
            "from_locator": "line:90-90",
            "hint": "",
            "raw": "2025-12-29_units_pipeline_postmortem_inventory_units_mismatch_and_extract_units_typeerror.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2025-12-29_units_pipeline_postmortem_inventory_units_mismatch_and_extract_units_typeerror.md"
          },
          {
            "from_locator": "line:95-95",
            "hint": "",
            "raw": "2025-12-28_postmortem_llm_proxy_timeout_7890.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2025-12-28_postmortem_llm_proxy_timeout_7890.md"
          },
          {
            "from_locator": "line:100-100",
            "hint": "",
            "raw": "2025-12-27_postmortem_llm_timeout_lmstudio.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2025-12-27_postmortem_llm_timeout_lmstudio.md"
          },
          {
            "from_locator": "line:103-103",
            "hint": "",
            "raw": "25-12-27_CPU-only_chroma-build_postmoretm.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/25-12-27_CPU-only_chroma-build_postmoretm.md"
          },
          {
            "from_locator": "line:108-108",
            "hint": "",
            "raw": "2025-12-26_chroma_build_postmortem.md",
            "ref_type": "md",
            "target_uri": "docs/postmortems/2025-12-26_chroma_build_postmortem.md"
          }
        ]
      },
      "path": "docs/postmortems/INDEX.md",
      "role": "postmortem",
      "role_hint": "path",
      "title": "Postmortems Index"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/reference/2026-01-04_retrieval_evolution_summary.md",
      "role": "reference",
      "role_hint": "path",
      "title": "2026-01-04_retrieval_evolution_summary.md（最终版：口语 vs 官方术语断桥 → 可演进检索体系）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "last_updated": "2026-01-23",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "文档体系 SSOT（Level 3：WAL/断点续跑语义）",
        "version": "v1.0"
      },
      "git_last_commit_date": null,
      "has_front_matter": true,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "## 3. 术语口径（必须统一的关键词）",
            "line": 59,
            "snippet": "- `policy=reset` / `--on-missing-state=reset`：当 `state` 缺失且 `collection.count>0` 时的**默认评估分支**；若 WAL 可续跑，最终决策可被 resume 覆盖（详见 CLI&日志真相表）"
          },
          {
            "heading": "## 3. 术语口径（必须统一的关键词）",
            "line": 61,
            "snippet": "- `strict-sync`：验收开关；`true` 时要求 build 后 `collection.count == expected_chunks`"
          }
        ],
        "index_state.json": [
          {
            "heading": "## 2. SSOT 清单（哪些文档是“定义”，哪些是“用法”）",
            "line": 42,
            "snippet": "- `docs/reference/index_state_and_stamps.md`：`index_state.json`（success-only）与 `index_state.stage.jsonl`（WAL）以及 `writer.lock` 的文件语义与并发约束"
          },
          {
            "heading": "## 3. 术语口径（必须统一的关键词）",
            "line": 57,
            "snippet": "- `index_state.json`：**完成态快照**，仅在成功完成后写入（success-only），缺失不代表“未写入任何数据”"
          }
        ],
        "index_state.stage.jsonl": [
          {
            "heading": "## 2. SSOT 清单（哪些文档是“定义”，哪些是“用法”）",
            "line": 42,
            "snippet": "- `docs/reference/index_state_and_stamps.md`：`index_state.json`（success-only）与 `index_state.stage.jsonl`（WAL）以及 `writer.lock` 的文件语义与并发约束"
          },
          {
            "heading": "## 3. 术语口径（必须统一的关键词）",
            "line": 58,
            "snippet": "- `index_state.stage.jsonl`：**WAL/进度事件流**，append-only，用于中断恢复与审计"
          }
        ],
        "on-missing-state": [
          {
            "heading": "## 3. 术语口径（必须统一的关键词）",
            "line": 59,
            "snippet": "- `policy=reset` / `--on-missing-state=reset`：当 `state` 缺失且 `collection.count>0` 时的**默认评估分支**；若 WAL 可续跑，最终决策可被 resume 覆盖（详见 CLI&日志真相表）"
          }
        ],
        "resume-status": [
          {
            "heading": "## 1. 裁决优先级（出现冲突时以谁为准）",
            "line": 29,
            "snippet": "1) **源码行为与 CLI 输出**（`python tools/build_chroma_index_flagembedding.py -h`、`--resume-status` 的字段与日志）"
          },
          {
            "heading": "## 2. SSOT 清单（哪些文档是“定义”，哪些是“用法”）",
            "line": 41,
            "snippet": "- `docs/reference/build_chroma_cli_and_logs.md`：CLI 参数/默认值/组合语义 + `--resume-status` 字段与关键日志解释（单一真相表）"
          },
          {
            "heading": "## 2. SSOT 清单（哪些文档是“定义”，哪些是“用法”）",
            "line": 46,
            "snippet": "- `docs/howto/OPERATION_GUIDE.md`：以 runbook 形式给出决策树，第一步必须是 `--resume-status`"
          },
          {
            "heading": "## 4. 允许复制的内容与禁止复制的内容",
            "line": 69,
            "snippet": "- 1 个最小故障定位流程：`--resume-status` → 依据字段选择动作"
          },
          {
            "heading": "## 4. 允许复制的内容与禁止复制的内容",
            "line": 74,
            "snippet": "- `--resume-status` 全字段解释表"
          },
          {
            "heading": "## 6. 变更触发器（何时必须同步更新文档）",
            "line": 93,
            "snippet": "- `--resume-status` 输出字段新增/改名"
          }
        ],
        "schema_hash": [
          {
            "heading": "## 2. SSOT 清单（哪些文档是“定义”，哪些是“用法”）",
            "line": 43,
            "snippet": "- `docs/reference/GLOSSARY_WAL_RESUME.md`：术语表（state/WAL/committed/attempted/run_id/schema_hash/resume_active 等）"
          }
        ],
        "strict-sync": [
          {
            "heading": "# 文档体系 SSOT（Level 3：WAL/断点续跑语义）",
            "line": 12,
            "snippet": "> 范围：仅覆盖 Chroma build（`build_chroma_index_flagembedding.py`）与其 state/WAL/锁/strict-sync 相关解释。"
          },
          {
            "heading": "## 3. 术语口径（必须统一的关键词）",
            "line": 61,
            "snippet": "- `strict-sync`：验收开关；`true` 时要求 build 后 `collection.count == expected_chunks`"
          },
          {
            "heading": "## 6. 变更触发器（何时必须同步更新文档）",
            "line": 96,
            "snippet": "- strict-sync 相关默认值或验收规则改变"
          }
        ],
        "writer.lock": [
          {
            "heading": "## 2. SSOT 清单（哪些文档是“定义”，哪些是“用法”）",
            "line": 42,
            "snippet": "- `docs/reference/index_state_and_stamps.md`：`index_state.json`（success-only）与 `index_state.stage.jsonl`（WAL）以及 `writer.lock` 的文件语义与并发约束"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/reference/DOC_SYSTEM_SSOT.md",
      "role": "reference",
      "role_hint": "path",
      "title": "文档体系 SSOT（Level 3：WAL/断点续跑语义）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-13",
        "title": "Stage-2 评测契约：eval_cases.jsonl 与 eval_retrieval_report.json",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-18",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:21-21",
            "hint": "",
            "raw": "REPORT_OUTPUT_ENGINEERING_RULES.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
          }
        ]
      },
      "path": "docs/reference/EVAL_CASES_SCHEMA.md",
      "role": "reference",
      "role_hint": "path",
      "title": "Stage-2 评测契约：eval_cases.jsonl 与 eval_retrieval_report.json"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-21",
        "timezone": "America/Los_Angeles",
        "title": "Eval 报告 items 事件流（events.jsonl）schema",
        "version": 2
      },
      "git_last_commit_date": "2026-01-21",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/reference/EVAL_REPORTS_STREAM_SCHEMA.md",
      "role": "reference",
      "role_hint": "path",
      "title": "Eval 报告 items 事件流（events.jsonl）schema"
    },
    {
      "action": "need_align",
      "front_matter": {
        "last_updated": "2026-01-23",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "术语表（WAL/断点续跑/State）",
        "version": "v1.0"
      },
      "git_last_commit_date": null,
      "has_front_matter": true,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "## 目录",
            "line": 20,
            "snippet": "- [5. strict-sync / expected_chunks / collection.count](#5-strict-sync--expected_chunks--collectioncount)"
          },
          {
            "heading": "## 5. strict-sync / expected_chunks / collection.count",
            "line": 58,
            "snippet": "## 5. strict-sync / expected_chunks / collection.count"
          },
          {
            "heading": "## 5. strict-sync / expected_chunks / collection.count",
            "line": 61,
            "snippet": "- **collection.count**：Chroma collection 当前条目数。"
          },
          {
            "heading": "## 5. strict-sync / expected_chunks / collection.count",
            "line": 62,
            "snippet": "- **strict-sync=true**：build 完成后强一致验收：要求 `collection.count == expected_chunks`，否则以 FAIL 退出（用于阻止 silent drift）。"
          }
        ],
        "index_state.json": [
          {
            "heading": "## 1. State / WAL / Stamps",
            "line": 27,
            "snippet": "- **State（index_state.json）**：成功完成后写入的完成态快照（success-only）。用于下次增量判断（added/changed/deleted）以及校验上次写入的语义输入（schema_hash、docs manifest）。"
          }
        ],
        "index_state.stage.jsonl": [
          {
            "heading": "## 1. State / WAL / Stamps",
            "line": 28,
            "snippet": "- **WAL（index_state.stage.jsonl）**：append-only 的进度事件流，用于 build 中断后的恢复与审计；WAL 的存在不等价于“本次 build 已成功”。"
          }
        ],
        "resume-status": [
          {
            "heading": "## 6. writer.lock（单写入者互斥）",
            "line": 70,
            "snippet": "- 推荐处置：先运行 `--resume-status` 读取状态，再依据 runbook 选择“继续续跑/人工清理锁/禁用 resume”等动作（详见 `docs/howto/OPERATION_GUIDE.md`）。"
          }
        ],
        "schema_hash": [
          {
            "heading": "## 目录",
            "line": 18,
            "snippet": "- [3. schema_hash / run_id](#3-schema_hash--run_id)"
          },
          {
            "heading": "## 1. State / WAL / Stamps",
            "line": 27,
            "snippet": "- **State（index_state.json）**：成功完成后写入的完成态快照（success-only）。用于下次增量判断（added/changed/deleted）以及校验上次写入的语义输入（schema_hash、docs manifest）。"
          },
          {
            "heading": "## 3. schema_hash / run_id",
            "line": 43,
            "snippet": "## 3. schema_hash / run_id"
          },
          {
            "heading": "## 3. schema_hash / run_id",
            "line": 45,
            "snippet": "- **schema_hash**：当前构建口径的稳定指纹（chunk_conf + embedding_model + hnsw_space 等关键参数组合）。用于区分不同口径生成的 state/WAL 目录，防止交叉污染。"
          }
        ],
        "strict-sync": [
          {
            "heading": "## 目录",
            "line": 20,
            "snippet": "- [5. strict-sync / expected_chunks / collection.count](#5-strict-sync--expected_chunks--collectioncount)"
          },
          {
            "heading": "## 5. strict-sync / expected_chunks / collection.count",
            "line": 58,
            "snippet": "## 5. strict-sync / expected_chunks / collection.count"
          },
          {
            "heading": "## 5. strict-sync / expected_chunks / collection.count",
            "line": 62,
            "snippet": "- **strict-sync=true**：build 完成后强一致验收：要求 `collection.count == expected_chunks`，否则以 FAIL 退出（用于阻止 silent drift）。"
          }
        ],
        "writer.lock": [
          {
            "heading": "## 目录",
            "line": 21,
            "snippet": "- [6. writer.lock（单写入者互斥）](#6-writerlock单写入者互斥)"
          },
          {
            "heading": "## 6. writer.lock（单写入者互斥）",
            "line": 66,
            "snippet": "## 6. writer.lock（单写入者互斥）"
          },
          {
            "heading": "## 6. writer.lock（单写入者互斥）",
            "line": 68,
            "snippet": "- **writer.lock**：写入互斥保护文件，用于阻止同一 state_dir 上并发 build 导致 WAL/manifest 交叉污染。"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/reference/GLOSSARY_WAL_RESUME.md",
      "role": "reference",
      "role_hint": "path",
      "title": "术语表（WAL/断点续跑/State）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "last_updated": "2026-01-23",
        "owner": "zhiz",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "参考与契约（REFERENCE）",
        "version": "v1.4"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "#### 4.7.1 硬验收（必须 PASS）",
            "line": 185,
            "snippet": "- 核心判据：`collection.count == planned_chunks`"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:47-47",
            "hint": "",
            "raw": "REPORT_OUTPUT_ENGINEERING_RULES.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
          },
          {
            "from_locator": "line:48-48",
            "hint": "",
            "raw": "REPORT_OUTPUT_CONTRACT.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REPORT_OUTPUT_CONTRACT.md"
          },
          {
            "from_locator": "line:49-49",
            "hint": "",
            "raw": "TOOLS_README_CODE_ALIGNMENT_CONTRACT.md",
            "ref_type": "md",
            "target_uri": "docs/reference/TOOLS_README_CODE_ALIGNMENT_CONTRACT.md"
          },
          {
            "from_locator": "line:50-50",
            "hint": "",
            "raw": "TOOLS_README_CODE_SYNC_INDEX.md",
            "ref_type": "md",
            "target_uri": "docs/reference/TOOLS_README_CODE_SYNC_INDEX.md"
          },
          {
            "from_locator": "line:52-52",
            "hint": "",
            "raw": "deps_policy.md",
            "ref_type": "md",
            "target_uri": "docs/reference/deps_policy.md"
          },
          {
            "from_locator": "line:53-53",
            "hint": "",
            "raw": "index_state_and_stamps.md",
            "ref_type": "md",
            "target_uri": "docs/reference/index_state_and_stamps.md"
          },
          {
            "from_locator": "line:54-54",
            "hint": "",
            "raw": "EVAL_CASES_SCHEMA.md",
            "ref_type": "md",
            "target_uri": "docs/reference/EVAL_CASES_SCHEMA.md"
          },
          {
            "from_locator": "line:55-55",
            "hint": "",
            "raw": "postmortem_prompt_template.md",
            "ref_type": "md",
            "target_uri": "docs/reference/postmortem_prompt_template.md"
          },
          {
            "from_locator": "line:56-56",
            "hint": "",
            "raw": "review/README.md",
            "ref_type": "md",
            "target_uri": "docs/reference/review/README.md"
          },
          {
            "from_locator": "line:110-114",
            "hint": "",
            "raw": "../howto/TROUBLESHOOTING.md",
            "ref_type": "md",
            "target_uri": "docs/howto/TROUBLESHOOTING.md"
          },
          {
            "from_locator": "line:225-227",
            "hint": "#step-5build向量化--upsert-入库建议用-profile-固化参数并可调-batch",
            "raw": "../howto/OPERATION_GUIDE.md",
            "ref_type": "md",
            "target_uri": "docs/howto/OPERATION_GUIDE.md"
          },
          {
            "from_locator": "line:545-545",
            "hint": "",
            "raw": "../explanation/HANDOFF.md",
            "ref_type": "md",
            "target_uri": "docs/explanation/HANDOFF.md"
          }
        ]
      },
      "path": "docs/reference/REFERENCE.md",
      "role": "reference",
      "role_hint": "path",
      "title": "参考与契约（REFERENCE）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "last_updated": "2026-01-23",
        "owner": "zhiz",
        "scope": "统一输出工程规则（schema_version=2）：报告/状态元数据/长跑任务（进度与 events）",
        "ssot": true,
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "报告输出契约（v2）与工程规则（SSOT）",
        "version": "1.1.3"
      },
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": true,
      "keyword_hits": {
        "index_state.json": [
          {
            "heading": "## 2. 适用范围",
            "line": 68,
            "snippet": "- 状态元数据：`data_processed/index_state/**/index_state.json`、`data_processed/index_state/db_build_stamp.json`（纳入 v2 envelope）"
          },
          {
            "heading": "### 9.1 统一原则",
            "line": 301,
            "snippet": "- `index_state.json` 与 `db_build_stamp.json` 属于“状态元数据报告”，必须满足 Report v2 的最小字段要求（`schema_version=2`、`generated_at`、`tool`、`root`、`summary`、`items`）。"
          }
        ],
        "index_state.stage.jsonl": [
          {
            "heading": "### 8.2 items-only 事件流（`*.events.jsonl`）",
            "line": 271,
            "snippet": "- `build_chroma_index_flagembedding` 为“写入 + 中断恢复”引入 `index_state.stage.jsonl`（WAL）。该文件是工具级恢复载体：每行是一个事件对象（含 `wal_version/ts/seq/event/run_id/...`），用于恢复 doc 提交边界。"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md",
      "role": "reference",
      "role_hint": "path",
      "title": "报告输出契约（v2）与工程规则（SSOT）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-20",
        "timezone": "America/Los_Angeles",
        "title": "tools/ README ↔ 源码对齐契约（Reference）",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/reference/TOOLS_README_CODE_ALIGNMENT_CONTRACT.md",
      "role": "reference",
      "role_hint": "path",
      "title": "tools/ README ↔ 源码对齐契约（Reference）"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/reference/TOOLS_README_CODE_SYNC_INDEX.md",
      "role": "reference",
      "role_hint": "path",
      "title": "tools/ README ↔ 入口脚本映射索引（Reference）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "last_updated": "2026-01-23",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "build_chroma_index_flagembedding CLI 与日志真相表（SSOT）",
        "version": "v1.0"
      },
      "git_last_commit_date": null,
      "has_front_matter": true,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "## 2. 组合语义（关键因果规则）",
            "line": 74,
            "snippet": "6) **strict-sync=true 的验收语义**：build 结束后要求 `collection.count == expected_chunks`，否则以 FAIL 退出（用于阻止 silent drift）。"
          },
          {
            "heading": "## 3. `--resume-status` 输出字段（只读预检）",
            "line": 85,
            "snippet": "- `collection_count`：当前 collection.count"
          },
          {
            "heading": "### 4.1 State 缺失但库非空（默认评估）",
            "line": 103,
            "snippet": "- 日志：`[WARN] index_state missing but collection.count=... policy=reset`"
          }
        ],
        "index_state.json": [
          {
            "heading": "### Sync/State",
            "line": 54,
            "snippet": "- `--write-state`：默认 `\"true\"`（成功完成后写 `index_state.json`）"
          },
          {
            "heading": "## 3. `--resume-status` 输出字段（只读预检）",
            "line": 86,
            "snippet": "- `state_file` + `state_present`：完成态 `index_state.json` 路径与是否存在"
          }
        ],
        "on-missing-state": [
          {
            "heading": "### Sync/State",
            "line": 50,
            "snippet": "- `--on-missing-state`：默认 `\"reset\"`；choices：`reset|fail|full-upsert`"
          },
          {
            "heading": "## 2. 组合语义（关键因果规则）",
            "line": 70,
            "snippet": "2) **State 缺失 + collection 非空**：会打印一条“默认评估”WARN：`index_state missing ... policy=<on-missing-state>`。"
          },
          {
            "heading": "## 2. 组合语义（关键因果规则）",
            "line": 71,
            "snippet": "3) **WAL 可续跑覆盖 reset**：若 WAL 表示可续跑（`resume_active=true`），会追加第二条 WARN：`WAL indicates resumable progress; ignore on-missing-state=reset and continue with resume.`，并进入 resume 路径。"
          },
          {
            "heading": "### 4.1 State 缺失但库非空（默认评估）",
            "line": 104,
            "snippet": "- 含义：这是在“无法定位多余 ids”的前提下，对 `--on-missing-state` 的默认分支评估；不是最终决策。"
          },
          {
            "heading": "### 4.2 WAL 覆盖 reset（最终生效）",
            "line": 107,
            "snippet": "- 日志：`[WARN] WAL indicates resumable progress; ignore on-missing-state=reset and continue with resume.`"
          }
        ],
        "resume-status": [
          {
            "heading": "# build_chroma_index_flagembedding CLI 与日志真相表（SSOT）",
            "line": 11,
            "snippet": "> 目的：以源码为基线，收敛 `build_chroma_index_flagembedding.py` 的参数默认值、组合语义、`--resume-status` 字段与关键日志解释，避免 README/howto 中出现漂移。"
          },
          {
            "heading": "## 目录",
            "line": 18,
            "snippet": "- [3. `--resume-status` 输出字段（只读预检）](#3---resume-status-输出字段只读预检)"
          },
          {
            "heading": "### WAL/Resume/Lock",
            "line": 59,
            "snippet": "- `--resume-status`：默认 `false`（只读预检并退出）"
          },
          {
            "heading": "## 2. 组合语义（关键因果规则）",
            "line": 69,
            "snippet": "1) **`--resume-status` 只读**：不会加载 embedding 模型，不写入 collection，不写 WAL，不创建 writer lock；用于低成本预检。"
          },
          {
            "heading": "## 3. `--resume-status` 输出字段（只读预检）",
            "line": 78,
            "snippet": "## 3. `--resume-status` 输出字段（只读预检）"
          },
          {
            "heading": "### 4.3 writer lock exists（互斥保护）",
            "line": 112,
            "snippet": "- 含义：检测到 state_dir 互斥锁；常见原因是上次中断遗留锁文件或并发运行。推荐先 `--resume-status` 读取 WAL/状态，再按 runbook 处置。"
          },
          {
            "heading": "## 5. 最小用法（Windows CMD）",
            "line": 120,
            "snippet": "python tools\\build_chroma_index_flagembedding.py build --collection rag_chunks --resume-status"
          }
        ],
        "schema_hash": [
          {
            "heading": "## 3. `--resume-status` 输出字段（只读预检）",
            "line": 84,
            "snippet": "- `schema_hash`：构建口径指纹（用于定位 state/WAL 路径）"
          }
        ],
        "strict-sync": [
          {
            "heading": "### Sync/State",
            "line": 53,
            "snippet": "- `--strict-sync`：默认 `\"true\"`（字符串；运行时按 bool 解析）"
          },
          {
            "heading": "## 2. 组合语义（关键因果规则）",
            "line": 74,
            "snippet": "6) **strict-sync=true 的验收语义**：build 结束后要求 `collection.count == expected_chunks`，否则以 FAIL 退出（用于阻止 silent drift）。"
          }
        ],
        "sync-mode": [
          {
            "heading": "### Sync/State",
            "line": 48,
            "snippet": "- `--sync-mode`：默认 `\"incremental\"`；choices：`none|delete-stale|incremental`"
          },
          {
            "heading": "## 5. 最小用法（Windows CMD）",
            "line": 125,
            "snippet": "python tools\\build_chroma_index_flagembedding.py build --collection rag_chunks --sync-mode incremental --wal on --resume auto"
          }
        ],
        "writer.lock": [
          {
            "heading": "### WAL/Resume/Lock",
            "line": 63,
            "snippet": "- `--writer-lock`：默认 `\"true\"`（创建 `writer.lock` 互斥锁）"
          },
          {
            "heading": "### 4.3 writer lock exists（互斥保护）",
            "line": 111,
            "snippet": "- 日志：`[FATAL] writer lock exists: .../writer.lock`"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/reference/build_chroma_cli_and_logs.md",
      "role": "reference",
      "role_hint": "path",
      "title": "build_chroma_index_flagembedding CLI 与日志真相表（SSOT）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-13",
        "title": "依赖策略（Dependency Policy）",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/reference/deps_policy.md",
      "role": "reference",
      "role_hint": "path",
      "title": "依赖策略（Dependency Policy）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "last_updated": "2026-01-23",
        "owner": "zhiz",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "Index State 与 Stamps 契约",
        "version": "v1.2"
      },
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": true,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "### 3.4 断点续跑 WAL（`index_state.stage.jsonl`）",
            "line": 166,
            "snippet": "> NOTE（与 CLI 行为对齐）：当 `index_state.json` 缺失且 `collection.count>0` 时，CLI 会先输出一条“policy=reset”的默认评估 WARN；若 WAL 表示可续跑（`resume_active=true`），最终决策会覆盖 reset 并进入 resume。详细规则以 `docs/refe..."
          },
          {
            "heading": "### 4.1 rag-check（强校验）",
            "line": 178,
            "snippet": "- 核心不变量：`collection.count == planned_chunks`"
          }
        ],
        "index_state.json": [
          {
            "heading": "## 1) 产物清单与职责边界",
            "line": 56,
            "snippet": "- **增量状态（index_state）**：`data_processed/index_state/<collection>/<schema_hash>/index_state.json`（以及 `LATEST` 指针）"
          },
          {
            "heading": "### 3.1 位置（path）",
            "line": 137,
            "snippet": "- 典型结构（示意）：`data_processed/index_state/<collection>/<schema_hash>/index_state.json`"
          },
          {
            "heading": "### 3.3 字段（最小集合）",
            "line": 146,
            "snippet": "`index_state.json` 是一个 `schema_version=2` 的**状态元数据报告**："
          },
          {
            "heading": "### 3.4 断点续跑 WAL（`index_state.stage.jsonl`）",
            "line": 162,
            "snippet": "- 与 `index_state.json` 的关系：`index_state.json` 是 only-on-success 的完成态 manifest；WAL 是运行期的旁路证据，允许在 manifest 缺失时仍能恢复。"
          },
          {
            "heading": "### 3.4 断点续跑 WAL（`index_state.stage.jsonl`）",
            "line": 166,
            "snippet": "> NOTE（与 CLI 行为对齐）：当 `index_state.json` 缺失且 `collection.count>0` 时，CLI 会先输出一条“policy=reset”的默认评估 WARN；若 WAL 表示可续跑（`resume_active=true`），最终决策会覆盖 reset 并进入 resume。详细规则以 `docs/refe..."
          }
        ],
        "index_state.stage.jsonl": [
          {
            "heading": "### 3.4 断点续跑 WAL（`index_state.stage.jsonl`）",
            "line": 159,
            "snippet": "### 3.4 断点续跑 WAL（`index_state.stage.jsonl`）"
          },
          {
            "heading": "### 3.4 断点续跑 WAL（`index_state.stage.jsonl`）",
            "line": 160,
            "snippet": "- 位置：`data_processed/index_state/<collection>/<schema_hash>/index_state.stage.jsonl`"
          }
        ],
        "on-missing-state": [
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 26,
            "snippet": "当你看到类似 `index_state missing ... policy=reset` 的 WARN 时，它表达的是对 `--on-missing-state=reset` 的**默认评估**分支，并不等价于“已经执行 reset”。"
          },
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 27,
            "snippet": "若同一轮启动还出现 `WAL indicates resumable progress; ignore on-missing-state=reset and continue with resume.`，则代表 WAL 判定可续跑，进入 resume 路径为**最终生效**决策，此时不会执行 reset（避免重复写入与无谓重置）。"
          }
        ],
        "resume-status": [
          {
            "heading": "### writer lock 的处置顺序（以只读预检为第一步）",
            "line": 211,
            "snippet": "1) 先运行 `--resume-status` 读取 WAL/状态，确认是否存在可续跑进度与当前决策（resume_active）。"
          }
        ],
        "schema_hash": [
          {
            "heading": "## 1) 产物清单与职责边界",
            "line": 56,
            "snippet": "- **增量状态（index_state）**：`data_processed/index_state/<collection>/<schema_hash>/index_state.json`（以及 `LATEST` 指针）"
          },
          {
            "heading": "### 2.3 字段（schema 最小集合）",
            "line": 98,
            "snippet": "\"detail\": {\"collection\": \"rag_chunks\", \"schema_hash\": \"...\"}"
          },
          {
            "heading": "### 2.3 字段（schema 最小集合）",
            "line": 106,
            "snippet": "\"schema_hash\": \"optional\","
          },
          {
            "heading": "### 3.1 位置（path）",
            "line": 137,
            "snippet": "- 典型结构（示意）：`data_processed/index_state/<collection>/<schema_hash>/index_state.json`"
          },
          {
            "heading": "### 3.2 生成时机（producer）",
            "line": 142,
            "snippet": "- schema 变化（embed_model/chunk_conf/include_media_stub）通常会触发 schema_hash 变化（建议视为“新索引版本”）。"
          },
          {
            "heading": "### 3.3 字段（最小集合）",
            "line": 148,
            "snippet": "- 同时携带实现态字段：`schema_hash/docs/last_build/...`（用于增量同步与复盘）。"
          },
          {
            "heading": "### 3.3 字段（最小集合）",
            "line": 151,
            "snippet": "- `schema_hash`：chunk_conf/include_media_stub/embed_model 的稳定指纹。"
          },
          {
            "heading": "### 3.4 断点续跑 WAL（`index_state.stage.jsonl`）",
            "line": 160,
            "snippet": "- 位置：`data_processed/index_state/<collection>/<schema_hash>/index_state.stage.jsonl`"
          },
          {
            "heading": "### 3.5 单写入者锁（`writer.lock`）",
            "line": 169,
            "snippet": "- 位置：`data_processed/index_state/<collection>/<schema_hash>/writer.lock`"
          }
        ],
        "writer.lock": [
          {
            "heading": "### 3.5 单写入者锁（`writer.lock`）",
            "line": 168,
            "snippet": "### 3.5 单写入者锁（`writer.lock`）"
          },
          {
            "heading": "### 3.5 单写入者锁（`writer.lock`）",
            "line": 169,
            "snippet": "- 位置：`data_processed/index_state/<collection>/<schema_hash>/writer.lock`"
          },
          {
            "heading": "### writer lock 的处置顺序（以只读预检为第一步）",
            "line": 213,
            "snippet": "3) 若确认无并发且锁为中断遗留，可移除 `writer.lock` 后重试；若希望完全绕过续跑，使用 `--resume off`。"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/reference/index_state_and_stamps.md",
      "role": "reference",
      "role_hint": "path",
      "title": "Index State 与 Stamps 契约"
    },
    {
      "action": "no_action",
      "front_matter": {
        "language": "zh-CN",
        "last_updated": "2026-01-06",
        "purpose": "给 ChatGPT 的复盘提示词模板：可审计、可复现、可迁移",
        "title": "Postmortem Prompt Template",
        "version": 2.1
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:301-301",
            "hint": "",
            "raw": "../explanation/LESSONS.md",
            "ref_type": "md",
            "target_uri": "docs/explanation/LESSONS.md"
          },
          {
            "from_locator": "line:301-301",
            "hint": "",
            "raw": "../howto/PREFLIGHT_CHECKLIST.md",
            "ref_type": "md",
            "target_uri": "docs/howto/PREFLIGHT_CHECKLIST.md"
          }
        ]
      },
      "path": "docs/reference/postmortem_prompt_template.md",
      "role": "reference",
      "role_hint": "path",
      "title": "Postmortem Prompt Template"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-12",
        "title": "审查规范（Review Spec）入口",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:20-20",
            "hint": "",
            "raw": "REVIEW_SPEC.md",
            "ref_type": "md",
            "target_uri": "docs/reference/review/REVIEW_SPEC.md"
          },
          {
            "from_locator": "line:21-21",
            "hint": "",
            "raw": "../../howto/review_workflow.md",
            "ref_type": "md",
            "target_uri": "docs/howto/review_workflow.md"
          }
        ]
      },
      "path": "docs/reference/review/README.md",
      "role": "reference",
      "role_hint": "path",
      "title": "审查规范（Review Spec）入口"
    },
    {
      "action": "no_action",
      "front_matter": {
        "generated_artifact": "docs/reference/review/REVIEW_SPEC.md",
        "last_updated": "2026-01-15",
        "source": "docs/reference/review/review_spec.v1.json",
        "timezone": "America/Los_Angeles",
        "title": "项目审查规范（Review Spec）",
        "version": "v1.0.1"
      },
      "git_last_commit_date": "2026-01-15",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/reference/review/REVIEW_SPEC.md",
      "role": "reference",
      "role_hint": "path",
      "title": "项目审查规范（Review Spec）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-15",
        "title": "审查报告模板（Review Report Template）",
        "version": "v1.0.1"
      },
      "git_last_commit_date": "2026-01-15",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "docs/reference/review/review_report_template.md",
      "role": "reference",
      "role_hint": "path",
      "title": "审查报告模板（Review Report Template）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-13",
        "title": "Getting Started（教程）：跑通 Stage-1 + PR/CI Lite 回归",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-18",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:22-22",
            "hint": "#step-0环境与依赖安装core-vs-embed避免在-python-313-及以上误装-stage-2",
            "raw": "../howto/OPERATION_GUIDE.md",
            "ref_type": "md",
            "target_uri": "docs/howto/OPERATION_GUIDE.md"
          },
          {
            "from_locator": "line:66-66",
            "hint": "",
            "raw": "../howto/rag_status.md",
            "ref_type": "md",
            "target_uri": "docs/howto/rag_status.md"
          },
          {
            "from_locator": "line:67-67",
            "hint": "",
            "raw": "../reference/index_state_and_stamps.md",
            "ref_type": "md",
            "target_uri": "docs/reference/index_state_and_stamps.md"
          },
          {
            "from_locator": "line:69-69",
            "hint": "",
            "raw": "../howto/TROUBLESHOOTING.md",
            "ref_type": "md",
            "target_uri": "docs/howto/TROUBLESHOOTING.md"
          },
          {
            "from_locator": "line:70-70",
            "hint": "",
            "raw": "../reference/REFERENCE.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REFERENCE.md"
          },
          {
            "from_locator": "line:71-71",
            "hint": "",
            "raw": "../reference/REPORT_OUTPUT_ENGINEERING_RULES.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
          }
        ]
      },
      "path": "docs/tutorials/01_getting_started.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Getting Started（教程）：跑通 Stage-1 + PR/CI Lite 回归"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-11",
        "title": "Policy（Conftest / Rego）使用说明（流程与配置不变量）",
        "version": "v1.1"
      },
      "git_last_commit_date": "2026-01-11",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:53-53",
            "hint": "",
            "raw": "../docs/howto/offline_conftest.md",
            "ref_type": "md",
            "target_uri": "docs/howto/offline_conftest.md"
          },
          {
            "from_locator": "line:156-156",
            "hint": "",
            "raw": "../tools/gate_README.md",
            "ref_type": "md",
            "target_uri": "tools/gate_README.md"
          },
          {
            "from_locator": "line:157-157",
            "hint": "",
            "raw": "../docs/howto/ci_pr_gates.md",
            "ref_type": "md",
            "target_uri": "docs/howto/ci_pr_gates.md"
          }
        ]
      },
      "path": "policy/README.md",
      "role": "README",
      "role_hint": "name",
      "title": "Policy（Conftest / Rego）使用说明（流程与配置不变量）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-11",
        "title": "third_party/conftest（离线 vendoring 目录）",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-11",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "third_party/conftest/README.md",
      "role": "README",
      "role_hint": "name",
      "title": "third_party/conftest（离线 vendoring 目录）"
    },
    {
      "action": "no_action",
      "front_matter": {},
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": false,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/CHECK_CLI_ENTRYPOINTS.md",
      "role": "guide",
      "role_hint": "default",
      "title": "check_cli_entrypoints 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-13",
        "title": "tools/ 目录说明（入口层 / 治理脚本）",
        "version": "v1.4"
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/README.md",
      "role": "README",
      "role_hint": "name",
      "title": "tools/ 目录说明（入口层 / 治理脚本）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-11",
        "title": "Public Release Hygiene Audit (v3) - 使用说明（索引）",
        "version": "v3.0"
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:25-25",
            "hint": "",
            "raw": "fix_public_release_hygiene_README.md",
            "ref_type": "md",
            "target_uri": "tools/fix_public_release_hygiene_README.md"
          },
          {
            "from_locator": "line:26-26",
            "hint": "",
            "raw": "check_public_release_hygiene_README.md",
            "ref_type": "md",
            "target_uri": "tools/check_public_release_hygiene_README.md"
          }
        ]
      },
      "path": "tools/USAGE_public_release_audit.md",
      "role": "guide",
      "role_hint": "default",
      "title": "Public Release Hygiene Audit (v3) - 使用说明（索引）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/audit_baseline_tools.py",
          "python -m mhy_ai_rag_data.tools.audit_baseline_tools"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.audit_baseline_tools",
          "wrapper": "tools/audit_baseline_tools.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "`audit_baseline_tools.py` 使用说明（全仓静态审计：查找基线/快照/哈希/报告工具，避免冗余）",
        "tool_id": "audit_baseline_tools",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/audit_baseline_tools_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "`audit_baseline_tools.py` 使用说明（全仓静态审计：查找基线/快照/哈希/报告工具，避免冗余）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/build_chroma_index_flagembedding.py",
          "python -m mhy_ai_rag_data.tools.build_chroma_index_flagembedding"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.build_chroma_index_flagembedding",
          "wrapper": "tools/build_chroma_index_flagembedding.py"
        },
        "last_updated": "2026-01-23",
        "mapping_status": "ok",
        "owner": "zhiz",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "build_chroma_index_flagembedding.py 使用说明（FlagEmbedding 构建 Chroma 索引）",
        "tool_id": "build_chroma_index_flagembedding",
        "version": "v1.2"
      },
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": true,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "# build_chroma_index_flagembedding.py 使用说明",
            "line": 31,
            "snippet": "> 目标：使用 FlagEmbedding (BGE-M3) 构建/更新 Chroma 向量索引，支持增量同步（incremental）、删除过期（delete-stale）等策略，并提供强一致验收（expected_chunks == collection.count）。"
          },
          {
            "heading": "## 目的",
            "line": 68,
            "snippet": "- **强一致验收**：构建后检查 `expected_chunks == collection.count()`，防止不可见错误"
          },
          {
            "heading": "## 自动生成参考（README↔源码对齐）",
            "line": 276,
            "snippet": "| `--strict-sync` | — | 'true' | true/false: fail if collection.count != expected_chunks after build. |"
          }
        ],
        "index_state.json": [
          {
            "heading": "## 目的",
            "line": 67,
            "snippet": "- **状态管理**：维护 index_state.json manifest，记录每个文档的 doc_id、content_sha256、n_chunks"
          },
          {
            "heading": "### 位置",
            "line": 130,
            "snippet": "data_processed/index_state/<collection>/<schema_hash>/index_state.json"
          },
          {
            "heading": "### 1.5) 断点续跑：写入过程中中断后如何恢复",
            "line": 200,
            "snippet": "**机制**：默认 `--resume auto` 会在 `index_state.json` 同目录写入 `index_state.stage.jsonl`（JSONL 事件流）。每个文档在完成 upsert + flush 后记录 `DOC_COMMITTED`；下次启动若检测到同一 `db_path + collection + schema_h..."
          },
          {
            "heading": "## 自动生成参考（README↔源码对齐）",
            "line": 283,
            "snippet": "| `--write-state` | — | 'true' | true/false: write index_state.json after successful build. |"
          },
          {
            "heading": "## 自动生成参考（README↔源码对齐）",
            "line": 296,
            "snippet": "- `data_processed/index_state/<collection>/<schema_hash>/index_state.json`"
          }
        ],
        "index_state.stage.jsonl": [
          {
            "heading": "### 位置",
            "line": 131,
            "snippet": "data_processed/index_state/<collection>/<schema_hash>/index_state.stage.jsonl  # 进度/WAL（默认成功+写 state 后清理；可用 --keep-wal 保留）"
          },
          {
            "heading": "### 1.5) 断点续跑：写入过程中中断后如何恢复",
            "line": 200,
            "snippet": "**机制**：默认 `--resume auto` 会在 `index_state.json` 同目录写入 `index_state.stage.jsonl`（JSONL 事件流）。每个文档在完成 upsert + flush 后记录 `DOC_COMMITTED`；下次启动若检测到同一 `db_path + collection + schema_h..."
          },
          {
            "heading": "## 自动生成参考（README↔源码对齐）",
            "line": 280,
            "snippet": "| `--wal` | — | 'on' | Write progress WAL (index_state.stage.jsonl) during build. |"
          }
        ],
        "on-missing-state": [
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 44,
            "snippet": "当你看到类似 `index_state missing ... policy=reset` 的 WARN 时，它表达的是对 `--on-missing-state=reset` 的**默认评估**分支，并不等价于“已经执行 reset”。"
          },
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 45,
            "snippet": "若同一轮启动还出现 `WAL indicates resumable progress; ignore on-missing-state=reset and continue with resume.`，则代表 WAL 判定可续跑，进入 resume 路径为**最终生效**决策，此时不会执行 reset（避免重复写入与无谓重置）。"
          },
          {
            "heading": "## 参数说明",
            "line": 114,
            "snippet": "- `--on-missing-state reset|fail|full-upsert`：state 缺失且库非空时的默认分支评估（WAL 可续跑时可能被覆盖进入 resume）"
          },
          {
            "heading": "### 1) 报错：`FAIL (sync mismatch; expected_chunks=100 got=95)`",
            "line": 193,
            "snippet": "python tools\\build_chroma_index_flagembedding.py build --root . --on-missing-state reset"
          },
          {
            "heading": "## 自动生成参考（README↔源码对齐）",
            "line": 267,
            "snippet": "| `--on-missing-state` | — | 'reset' | If state missing but collection is non-empty: reset collection / fail / proceed with full upsert (may keep stale). |"
          }
        ],
        "resume-status": [
          {
            "heading": "## 参数说明",
            "line": 112,
            "snippet": "- `--resume-status`：只读预检并退出"
          },
          {
            "heading": "## 自动生成参考（README↔源码对齐）",
            "line": 271,
            "snippet": "| `--resume-status` | — | — | action=store_true；Inspect state/WAL and exit (read-only). |"
          }
        ],
        "schema_hash": [
          {
            "heading": "## 目的",
            "line": 69,
            "snippet": "- **schema 版本化**：embed_model/chunk_conf/include_media_stub 变化时生成新 schema_hash，自动处理 schema 变更"
          },
          {
            "heading": "### 位置",
            "line": 130,
            "snippet": "data_processed/index_state/<collection>/<schema_hash>/index_state.json"
          },
          {
            "heading": "### 位置",
            "line": 131,
            "snippet": "data_processed/index_state/<collection>/<schema_hash>/index_state.stage.jsonl  # 进度/WAL（默认成功+写 state 后清理；可用 --keep-wal 保留）"
          },
          {
            "heading": "### 结构",
            "line": 139,
            "snippet": "\"schema_hash\": \"abc123...\","
          },
          {
            "heading": "### 4) Schema 变更（切换 embedding 模型）",
            "line": 182,
            "snippet": "rem schema_hash 会变化，自动重置 collection 后重建"
          },
          {
            "heading": "### 1.5) 断点续跑：写入过程中中断后如何恢复",
            "line": 200,
            "snippet": "**机制**：默认 `--resume auto` 会在 `index_state.json` 同目录写入 `index_state.stage.jsonl`（JSONL 事件流）。每个文档在完成 upsert + flush 后记录 `DOC_COMMITTED`；下次启动若检测到同一 `db_path + collection + schema_h..."
          },
          {
            "heading": "### 1.5) 断点续跑：写入过程中中断后如何恢复",
            "line": 215,
            "snippet": "- WAL 仅在同一 schema_hash 下安全复用；embed_model/chunk_conf/include_media_stub 变化会导致 schema_hash 变化，WAL 不会用于跳过。"
          },
          {
            "heading": "### 3) 切换 chunk_conf 后报 schema 不匹配",
            "line": 226,
            "snippet": "这是预期行为。chunk_conf 变化 → schema_hash 变化 → 需要重建索引"
          },
          {
            "heading": "## 自动生成参考（README↔源码对齐）",
            "line": 274,
            "snippet": "| `--schema-change` | — | 'reset' | If schema_hash differs from LATEST pointer: reset collection (recommended) or fail. |"
          },
          {
            "heading": "## 自动生成参考（README↔源码对齐）",
            "line": 296,
            "snippet": "- `data_processed/index_state/<collection>/<schema_hash>/index_state.json`"
          }
        ],
        "strict-sync": [
          {
            "heading": "## 参数说明",
            "line": 116,
            "snippet": "- `--strict-sync true|false`：构建后强一致验收开关"
          },
          {
            "heading": "## 退出码",
            "line": 158,
            "snippet": "- `0`：PASS（构建成功且通过 strict-sync 检查）"
          },
          {
            "heading": "## 退出码",
            "line": 159,
            "snippet": "- `2`：FAIL（输入文件缺失、schema 变更策略为 fail、strict-sync 不通过等）"
          },
          {
            "heading": "## 自动生成参考（README↔源码对齐）",
            "line": 276,
            "snippet": "| `--strict-sync` | — | 'true' | true/false: fail if collection.count != expected_chunks after build. |"
          }
        ],
        "sync-mode": [
          {
            "heading": "### 1) 首次构建（增量模式）",
            "line": 94,
            "snippet": "python tools\\build_chroma_index_flagembedding.py build --root . --units data_processed\\text_units.jsonl --db chroma_db --collection rag_chunks --embed-model BAAI/bge-m3 --device..."
          },
          {
            "heading": "## 自动生成参考（README↔源码对齐）",
            "line": 277,
            "snippet": "| `--sync-mode` | — | 'incremental' | Sync semantics: none/upsert-only; delete-stale=delete old per-doc then full upsert; incremental=delete old per-doc and only embed changed d..."
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:106-106",
            "hint": "",
            "raw": "../docs/reference/build_chroma_cli_and_logs.md",
            "ref_type": "md",
            "target_uri": "docs/reference/build_chroma_cli_and_logs.md"
          },
          {
            "from_locator": "line:107-107",
            "hint": "",
            "raw": "../docs/reference/GLOSSARY_WAL_RESUME.md",
            "ref_type": "md",
            "target_uri": "docs/reference/GLOSSARY_WAL_RESUME.md"
          },
          {
            "from_locator": "line:108-108",
            "hint": "",
            "raw": "../docs/reference/index_state_and_stamps.md",
            "ref_type": "md",
            "target_uri": "docs/reference/index_state_and_stamps.md"
          },
          {
            "from_locator": "line:236-236",
            "hint": "",
            "raw": "check_chroma_coverage_vs_units_README.md",
            "ref_type": "md",
            "target_uri": "tools/check_chroma_coverage_vs_units_README.md"
          },
          {
            "from_locator": "line:237-237",
            "hint": "",
            "raw": "index_state_README.md",
            "ref_type": "md",
            "target_uri": "tools/index_state_README.md"
          }
        ]
      },
      "path": "tools/build_chroma_index_flagembedding_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "build_chroma_index_flagembedding.py 使用说明（FlagEmbedding 构建 Chroma 索引）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/capture_rag_env.py",
          "python -m mhy_ai_rag_data.tools.capture_rag_env"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.capture_rag_env",
          "wrapper": "tools/capture_rag_env.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "capture_rag_env.py 使用说明（捕获 RAG 环境信息报告）",
        "tool_id": "capture_rag_env",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/capture_rag_env_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "capture_rag_env.py 使用说明（捕获 RAG 环境信息报告）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/check_all.py",
          "python -m mhy_ai_rag_data.tools.check_all"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.check_all",
          "wrapper": "tools/check_all.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "check_all.py 使用说明（一键自检/工程门禁脚本）",
        "tool_id": "check_all",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:195-195",
            "hint": "",
            "raw": "../docs/howto/PREFLIGHT_CHECKLIST.md",
            "ref_type": "md",
            "target_uri": "docs/howto/PREFLIGHT_CHECKLIST.md"
          },
          {
            "from_locator": "line:196-196",
            "hint": "",
            "raw": "check_docs_conventions_README.md",
            "ref_type": "md",
            "target_uri": "tools/check_docs_conventions_README.md"
          },
          {
            "from_locator": "line:197-197",
            "hint": "",
            "raw": "check_tools_layout_README.md",
            "ref_type": "md",
            "target_uri": "tools/check_tools_layout_README.md"
          }
        ]
      },
      "path": "tools/check_all_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_all.py 使用说明（一键自检/工程门禁脚本）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/check_chroma_coverage_vs_units.py",
          "python -m mhy_ai_rag_data.tools.check_chroma_coverage_vs_units"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.check_chroma_coverage_vs_units",
          "wrapper": "tools/check_chroma_coverage_vs_units.py"
        },
        "last_updated": "2026-01-23",
        "mapping_status": "ok",
        "owner": "zhiz",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "check_chroma_coverage_vs_units.py 使用说明（检查 Chroma 覆盖率）",
        "tool_id": "check_chroma_coverage_vs_units",
        "version": "v1.1"
      },
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": true,
      "keyword_hits": {
        "index_state.json": [
          {
            "heading": "# 查看构建时的参数（从 build 命令历史或 index_state.json）",
            "line": 180,
            "snippet": "# 查看构建时的参数（从 build 命令历史或 index_state.json）"
          },
          {
            "heading": "# 查看构建时的参数（从 build 命令历史或 index_state.json）",
            "line": 181,
            "snippet": "cat data_processed/index_state/rag_chunks/*/index_state.json"
          }
        ],
        "on-missing-state": [
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 44,
            "snippet": "当你看到类似 `index_state missing ... policy=reset` 的 WARN 时，它表达的是对 `--on-missing-state=reset` 的**默认评估**分支，并不等价于“已经执行 reset”。"
          },
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 45,
            "snippet": "若同一轮启动还出现 `WAL indicates resumable progress; ignore on-missing-state=reset and continue with resume.`，则代表 WAL 判定可续跑，进入 resume 路径为**最终生效**决策，此时不会执行 reset（避免重复写入与无谓重置）。"
          },
          {
            "heading": "### 3) 覆盖率很低（<50%），是否需要重跑？",
            "line": 201,
            "snippet": "- 或者 `--on-missing-state reset` 全量重建（如果时间允许）"
          }
        ],
        "resume-status": [
          {
            "heading": "## 与断点续跑（WAL）的分工",
            "line": 78,
            "snippet": "- build 工具的 `--resume-status`/WAL 侧重“**恢复决策**”：判断是否存在可续跑进度（`wal_docs_committed`）以及是否会启用 resume（`resume_active`）。"
          },
          {
            "heading": "## 与断点续跑（WAL）的分工",
            "line": 83,
            "snippet": "python tools\\build_chroma_index_flagembedding.py build --collection <name> --resume-status"
          }
        ],
        "sync-mode": [
          {
            "heading": "### 3) 覆盖率很低（<50%），是否需要重跑？",
            "line": 200,
            "snippet": "- 使用 `--sync-mode incremental` 增量补齐（只 embedding 缺失的部分）"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:211-211",
            "hint": "",
            "raw": "build_chroma_index_flagembedding_README.md",
            "ref_type": "md",
            "target_uri": "tools/build_chroma_index_flagembedding_README.md"
          },
          {
            "from_locator": "line:212-213",
            "hint": "",
            "raw": "check_chroma_embeddings_sample_README.md",
            "ref_type": "md",
            "target_uri": "tools/check_chroma_embeddings_sample_README.md"
          },
          {
            "from_locator": "line:212-213",
            "hint": "",
            "raw": "list_chroma_collections_README.md",
            "ref_type": "md",
            "target_uri": "tools/list_chroma_collections_README.md"
          }
        ]
      },
      "path": "tools/check_chroma_coverage_vs_units_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_chroma_coverage_vs_units.py 使用说明（检查 Chroma 覆盖率）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/check_chroma_embeddings_sample.py",
          "python -m mhy_ai_rag_data.tools.check_chroma_embeddings_sample"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.check_chroma_embeddings_sample",
          "wrapper": "tools/check_chroma_embeddings_sample.py"
        },
        "last_updated": "2026-01-23",
        "mapping_status": "ok",
        "owner": "zhiz",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "check_chroma_embeddings_sample.py 使用说明（检查 Chroma 嵌入向量质量）",
        "tool_id": "check_chroma_embeddings_sample",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": true,
      "keyword_hits": {
        "index_state.stage.jsonl": [
          {
            "heading": "# check_chroma_embeddings_sample.py 使用说明",
            "line": 30,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          }
        ],
        "on-missing-state": [
          {
            "heading": "# check_chroma_embeddings_sample.py 使用说明",
            "line": 30,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          },
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 46,
            "snippet": "当你看到类似 `index_state missing ... policy=reset` 的 WARN 时，它表达的是对 `--on-missing-state=reset` 的**默认评估**分支，并不等价于“已经执行 reset”。"
          },
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 47,
            "snippet": "若同一轮启动还出现 `WAL indicates resumable progress; ignore on-missing-state=reset and continue with resume.`，则代表 WAL 判定可续跑，进入 resume 路径为**最终生效**决策，此时不会执行 reset（避免重复写入与无谓重置）。"
          }
        ],
        "resume-status": [
          {
            "heading": "# check_chroma_embeddings_sample.py 使用说明",
            "line": 30,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_chroma_embeddings_sample_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_chroma_embeddings_sample.py 使用说明（检查 Chroma 嵌入向量质量）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "last_updated": "2026-01-23",
        "owner": "zhiz",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "check_doc_system_gate 使用说明",
        "version": "v0.1"
      },
      "git_last_commit_date": null,
      "has_front_matter": true,
      "keyword_hits": {
        "index_state.stage.jsonl": [
          {
            "heading": "## 规则与严重度",
            "line": 53,
            "snippet": "- **禁止术语**：`index_stage.json`、`index_state.stage.json`（应为 `index_state.stage.jsonl`）"
          }
        ],
        "on-missing-state": [
          {
            "heading": "## 规则与严重度",
            "line": 54,
            "snippet": "- **policy=reset 两阶段解释**：若出现 `policy=reset` 或 `on-missing-state`，文本中需同时覆盖“默认评估/最终生效”。"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_doc_system_gate_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_doc_system_gate 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/check_docs_conventions.py",
          "python -m mhy_ai_rag_data.tools.check_docs_conventions"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.check_docs_conventions",
          "wrapper": "tools/check_docs_conventions.py"
        },
        "last_updated": "2026-01-21",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "`check_docs_conventions.py` 使用说明（docs Markdown 工程约定门禁）",
        "tool_id": "check_docs_conventions",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-21",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_docs_conventions_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "`check_docs_conventions.py` 使用说明（docs Markdown 工程约定门禁）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/check_exit_code_contract.py"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "wrapper": "tools/check_exit_code_contract.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "check_exit_code_contract.py 使用说明（检查退出码契约）",
        "tool_id": "check_exit_code_contract",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_exit_code_contract_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_exit_code_contract.py 使用说明（检查退出码契约）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/check_inventory_build.py",
          "python -m mhy_ai_rag_data.tools.check_inventory_build"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.check_inventory_build",
          "wrapper": "tools/check_inventory_build.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "check_inventory_build_README",
        "tool_id": "check_inventory_build",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_inventory_build_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_inventory_build_README"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/check_md_refs_contract.py"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "wrapper": "tools/check_md_refs_contract.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "check_md_refs_contract.py 使用说明（检查 Markdown 引用契约）",
        "tool_id": "check_md_refs_contract",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_md_refs_contract_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_md_refs_contract.py 使用说明（检查 Markdown 引用契约）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/check_mypy.py"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "wrapper": "tools/check_mypy.py"
        },
        "last_updated": "2026-01-12",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "check_mypy.py 使用说明",
        "tool_id": "check_mypy",
        "version": "v1.1"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_mypy_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_mypy.py 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/check_public_release_hygiene.py"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "wrapper": "tools/check_public_release_hygiene.py"
        },
        "last_updated": "2026-01-11",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "check_public_release_hygiene.py 使用说明（Public Release Hygiene Audit v3）",
        "tool_id": "check_public_release_hygiene",
        "version": "v3.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_public_release_hygiene_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_public_release_hygiene.py 使用说明（Public Release Hygiene Audit v3）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/check_pyproject_preflight.py"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "wrapper": "tools/check_pyproject_preflight.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "check_pyproject_preflight.py 使用说明（pyproject.toml 预检）",
        "tool_id": "check_pyproject_preflight",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_pyproject_preflight_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_pyproject_preflight.py 使用说明（pyproject.toml 预检）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/check_readme_code_sync.py",
          "python -m mhy_ai_rag_data.tools.check_readme_code_sync"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.check_readme_code_sync",
          "wrapper": "tools/check_readme_code_sync.py"
        },
        "last_updated": "2026-01-21",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "check_readme_code_sync.py 使用说明（tools/ README ↔ 源码对齐门禁）",
        "tool_id": "check_readme_code_sync",
        "version": "v0.3"
      },
      "git_last_commit_date": "2026-01-21",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_readme_code_sync_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_readme_code_sync.py 使用说明（tools/ README ↔ 源码对齐门禁）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/check_repo_health_files.py",
          "python -m mhy_ai_rag_data.tools.check_repo_health_files"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.check_repo_health_files",
          "wrapper": "tools/check_repo_health_files.py"
        },
        "last_updated": "2026-01-11",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "check_repo_health_files.py 使用说明（Public Release Repo Health）",
        "tool_id": "check_repo_health_files",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_repo_health_files_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_repo_health_files.py 使用说明（Public Release Repo Health）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/check_report_tools_contract.py",
          "python -m mhy_ai_rag_data.tools.check_report_tools_contract"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.check_report_tools_contract",
          "wrapper": "tools/check_report_tools_contract.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "check_report_tools_contract.py 使用说明（report tools registry 合规性）",
        "tool_id": "check_report_tools_contract",
        "version": "v0.1"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_report_tools_contract_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_report_tools_contract.py 使用说明（report tools registry 合规性）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/check_ruff.py"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "wrapper": "tools/check_ruff.py"
        },
        "last_updated": "2026-01-14",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "check_ruff.py 使用说明",
        "tool_id": "check_ruff",
        "version": "v1.4"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_ruff_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_ruff.py 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/check_tools_layout.py",
          "python -m mhy_ai_rag_data.tools.check_tools_layout"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.check_tools_layout",
          "wrapper": "tools/check_tools_layout.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "check_tools_layout_README",
        "tool_id": "check_tools_layout",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/check_tools_layout_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "check_tools_layout_README"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/compare_stage1_baseline_snapshots.py",
          "python -m mhy_ai_rag_data.tools.compare_stage1_baseline_snapshots"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.compare_stage1_baseline_snapshots",
          "wrapper": "tools/compare_stage1_baseline_snapshots.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "`compare_stage1_baseline_snapshots.py` 使用说明（对比两份 Stage-1 基线快照）",
        "tool_id": "compare_stage1_baseline_snapshots",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/compare_stage1_baseline_snapshots_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "`compare_stage1_baseline_snapshots.py` 使用说明（对比两份 Stage-1 基线快照）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/diff_units_sources_vs_chroma_sources.py",
          "python -m mhy_ai_rag_data.tools.diff_units_sources_vs_chroma_sources"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.diff_units_sources_vs_chroma_sources",
          "wrapper": "tools/diff_units_sources_vs_chroma_sources.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "diff_units_sources_vs_chroma_sources.py 使用说明（对比文本单元与 Chroma 源）",
        "tool_id": "diff_units_sources_vs_chroma_sources",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/diff_units_sources_vs_chroma_sources_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "diff_units_sources_vs_chroma_sources.py 使用说明（对比文本单元与 Chroma 源）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/fix_public_release_hygiene.py"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "wrapper": "tools/fix_public_release_hygiene.py"
        },
        "last_updated": "2026-01-11",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "fix_public_release_hygiene.py 使用说明（Public Release Hygiene Fix）",
        "tool_id": "fix_public_release_hygiene",
        "version": "v2.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/fix_public_release_hygiene_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "fix_public_release_hygiene.py 使用说明（Public Release Hygiene Fix）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/gate.py",
          "python -m mhy_ai_rag_data.tools.gate"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.gate",
          "wrapper": "tools/gate.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "gate.py / rag-gate 使用说明（单入口 Gate：Schema + Policy + 可审计报告）",
        "tool_id": "gate",
        "version": "v1.3"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:215-215",
            "hint": "",
            "raw": "../docs/howto/ci_pr_gates.md",
            "ref_type": "md",
            "target_uri": "docs/howto/ci_pr_gates.md"
          },
          {
            "from_locator": "line:216-216",
            "hint": "",
            "raw": "view_gate_report_README.md",
            "ref_type": "md",
            "target_uri": "tools/view_gate_report_README.md"
          },
          {
            "from_locator": "line:217-217",
            "hint": "",
            "raw": "../docs/reference/REFERENCE.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REFERENCE.md"
          },
          {
            "from_locator": "line:220-220",
            "hint": "",
            "raw": "../policy/README.md",
            "ref_type": "md",
            "target_uri": "policy/README.md"
          }
        ]
      },
      "path": "tools/gate_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "gate.py / rag-gate 使用说明（单入口 Gate：Schema + Policy + 可审计报告）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-23",
        "owner": "zhiz",
        "status": "draft",
        "timezone": "America/Los_Angeles",
        "title": "gen_doc_inventory.py 使用说明",
        "version": "v0.1"
      },
      "git_last_commit_date": null,
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/gen_doc_inventory_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "gen_doc_inventory.py 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-10",
        "title": "tools/gen_tools_wrappers.py 使用说明",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-13",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/gen_tools_wrappers.md",
      "role": "guide",
      "role_hint": "default",
      "title": "tools/gen_tools_wrappers.py 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/generate_review_spec_docs.py"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "wrapper": "tools/generate_review_spec_docs.py"
        },
        "last_updated": "2026-01-12",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "generate_review_spec_docs 使用说明",
        "tool_id": "generate_review_spec_docs",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/generate_review_spec_docs_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "generate_review_spec_docs 使用说明"
    },
    {
      "action": "need_align",
      "front_matter": {
        "cli_framework": "other",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/index_state.py",
          "python -m mhy_ai_rag_data.tools.index_state"
        ],
        "entrypoints_note": "兼容/调试入口：用于 README↔源码对齐与开发自检；不保证提供稳定 CLI（运行通常等同导入）。",
        "generation": {
          "options": "help-snapshot",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.index_state",
          "wrapper": "tools/index_state.py"
        },
        "last_updated": "2026-01-23",
        "mapping_status": "ok",
        "owner": "zhiz",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "index_state.py 使用说明（索引状态管理模块）",
        "tool_id": "index_state",
        "version": "v1.3"
      },
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": true,
      "keyword_hits": {
        "index_state.json": [
          {
            "heading": "## 运行入口（entrypoints）说明（非稳定 CLI）",
            "line": 77,
            "snippet": "- **状态文件读写**：index_state.json 原子写入（tmp -> replace）"
          },
          {
            "heading": "## 与断点续跑（WAL）的关系",
            "line": 84,
            "snippet": "- 本模块管理 `index_state.json`（完成态 manifest）的读写与兼容；当前策略是 only-on-success 写入，因此中断时 `index_state.json` 可能缺失。"
          },
          {
            "heading": "## 目录布局",
            "line": 186,
            "snippet": "│   │   └── index_state.json"
          },
          {
            "heading": "## 目录布局",
            "line": 188,
            "snippet": "│       └── index_state.json"
          }
        ],
        "index_state.stage.jsonl": [
          {
            "heading": "## 与断点续跑（WAL）的关系",
            "line": 85,
            "snippet": "- build 工具为断点续跑引入了 `index_state.stage.jsonl`（WAL）与 `writer.lock`（互斥锁）；它们不由本模块负责写入，但与 manifest 存在协作关系。"
          }
        ],
        "resume-status": [
          {
            "heading": "## 与断点续跑（WAL）的关系",
            "line": 88,
            "snippet": "python tools\\build_chroma_index_flagembedding.py build --collection <name> --resume-status"
          }
        ],
        "schema_hash": [
          {
            "heading": "## 目录",
            "line": 40,
            "snippet": "- [1) compute_schema_hash](#1-compute_schema_hash)"
          },
          {
            "heading": "## 运行入口（entrypoints）说明（非稳定 CLI）",
            "line": 76,
            "snippet": "- **schema_hash 计算**：embed_model/chunk_conf/include_media_stub 变化时生成新 hash"
          },
          {
            "heading": "## 运行入口（entrypoints）说明（非稳定 CLI）",
            "line": 78,
            "snippet": "- **LATEST 指针管理**：跟踪最新 schema_hash"
          },
          {
            "heading": "### 1) compute_schema_hash",
            "line": 93,
            "snippet": "### 1) compute_schema_hash"
          },
          {
            "heading": "### 1) compute_schema_hash",
            "line": 95,
            "snippet": "from mhy_ai_rag_data.tools.index_state import compute_schema_hash"
          },
          {
            "heading": "### 1) compute_schema_hash",
            "line": 97,
            "snippet": "schema_hash = compute_schema_hash("
          },
          {
            "heading": "### 3) write_index_state_report（v2 写入推荐入口）",
            "line": 125,
            "snippet": "schema_hash=schema_hash,"
          },
          {
            "heading": "### 4) read_latest_pointer / write_latest_pointer",
            "line": 142,
            "snippet": "write_latest_pointer(state_root, collection, schema_hash)"
          },
          {
            "heading": "## 状态文件结构（v2 示例）",
            "line": 158,
            "snippet": "\"schema_hash\": \"abc123...\","
          },
          {
            "heading": "## 目录布局",
            "line": 184,
            "snippet": "│   ├── LATEST (指针文件，内容为最新 schema_hash)"
          }
        ],
        "writer.lock": [
          {
            "heading": "## 与断点续跑（WAL）的关系",
            "line": 85,
            "snippet": "- build 工具为断点续跑引入了 `index_state.stage.jsonl`（WAL）与 `writer.lock`（互斥锁）；它们不由本模块负责写入，但与 manifest 存在协作关系。"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/index_state_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "index_state.py 使用说明（索引状态管理模块）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/init_eval_cases.py",
          "python -m mhy_ai_rag_data.tools.init_eval_cases"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.init_eval_cases",
          "wrapper": "tools/init_eval_cases.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "`init_eval_cases.py` 使用说明（Stage-2：初始化评测用例集 JSONL）",
        "tool_id": "init_eval_cases",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/init_eval_cases_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "`init_eval_cases.py` 使用说明（Stage-2：初始化评测用例集 JSONL）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/list_chroma_collections.py",
          "python -m mhy_ai_rag_data.tools.list_chroma_collections"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.list_chroma_collections",
          "wrapper": "tools/list_chroma_collections.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "list_chroma_collections.py 使用说明（列出 Chroma 集合）",
        "tool_id": "list_chroma_collections",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/list_chroma_collections_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "list_chroma_collections.py 使用说明（列出 Chroma 集合）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "other",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/llm_http_client.py",
          "python -m mhy_ai_rag_data.tools.llm_http_client"
        ],
        "entrypoints_note": "兼容/调试入口：用于 README↔源码对齐与开发自检；不保证提供稳定 CLI（运行通常等同导入）。",
        "generation": {
          "options": "help-snapshot",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.llm_http_client",
          "wrapper": "tools/llm_http_client.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "tools/llm_http_client.py 使用说明（替代方案 B：统一 LLM HTTP Client）",
        "tool_id": "llm_http_client",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-22",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/llm_http_client_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "tools/llm_http_client.py 使用说明（替代方案 B：统一 LLM HTTP Client）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/plan_chunks_from_units.py",
          "python -m mhy_ai_rag_data.tools.plan_chunks_from_units"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.plan_chunks_from_units",
          "wrapper": "tools/plan_chunks_from_units.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "plan_chunks_from_units.py 使用说明（从文本单元规划分块）",
        "tool_id": "plan_chunks_from_units",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/plan_chunks_from_units_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "plan_chunks_from_units.py 使用说明（从文本单元规划分块）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/probe_llm_server.py",
          "python -m mhy_ai_rag_data.tools.probe_llm_server"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.probe_llm_server",
          "wrapper": "tools/probe_llm_server.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "probe_llm_server.py 使用说明（探测 LLM 服务器可用性）",
        "tool_id": "probe_llm_server",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:79-79",
            "hint": "",
            "raw": "../docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
          }
        ]
      },
      "path": "tools/probe_llm_server_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "probe_llm_server.py 使用说明（探测 LLM 服务器可用性）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/rag_accept.py",
          "python -m mhy_ai_rag_data.tools.rag_accept"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.rag_accept",
          "wrapper": "tools/rag_accept.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "rag_accept.py 使用说明（RAG 一键验收工具）",
        "tool_id": "rag_accept",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/rag_accept_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "rag_accept.py 使用说明（RAG 一键验收工具）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "last_updated": "2026-01-14",
        "title": "rag_python.py 作为 pre-commit 入口中转",
        "version": "1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:32-32",
            "hint": "",
            "raw": "../docs/howto/pre_commit.md",
            "ref_type": "md",
            "target_uri": "docs/howto/pre_commit.md"
          }
        ]
      },
      "path": "tools/rag_python.md",
      "role": "guide",
      "role_hint": "default",
      "title": "rag_python.py 作为 pre-commit 入口中转"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/rag_status.py",
          "python -m mhy_ai_rag_data.tools.rag_status"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.rag_status",
          "wrapper": "tools/rag_status.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "rag_status.py 使用说明（RAG 状态/新鲜度检查）",
        "tool_id": "rag_status",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/rag_status_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "rag_status.py 使用说明（RAG 状态/新鲜度检查）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "other",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/reporting.py",
          "python -m mhy_ai_rag_data.tools.reporting"
        ],
        "entrypoints_note": "兼容/调试入口：用于 README↔源码对齐与开发自检；不保证提供稳定 CLI（运行通常等同导入）。",
        "generation": {
          "options": "help-snapshot",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.reporting",
          "wrapper": "tools/reporting.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "reporting.py 使用说明（报告生成工具模块）",
        "tool_id": "reporting",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-22",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/reporting_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "reporting.py 使用说明（报告生成工具模块）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/reset_chroma_db.py",
          "python -m mhy_ai_rag_data.tools.reset_chroma_db"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.reset_chroma_db",
          "wrapper": "tools/reset_chroma_db.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "reset_chroma_db.py 使用说明（重置 Chroma 数据库）",
        "tool_id": "reset_chroma_db",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/reset_chroma_db_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "reset_chroma_db.py 使用说明（重置 Chroma 数据库）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/run_build_profile.py",
          "python -m mhy_ai_rag_data.tools.run_build_profile"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.run_build_profile",
          "wrapper": "tools/run_build_profile.py"
        },
        "last_updated": "2026-01-23",
        "mapping_status": "ok",
        "owner": "zhiz",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "run_build_profile.py 使用说明（运行构建性能分析）",
        "tool_id": "run_build_profile",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": true,
      "keyword_hits": {
        "index_state.stage.jsonl": [
          {
            "heading": "## 目录",
            "line": 41,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          }
        ],
        "on-missing-state": [
          {
            "heading": "## 目录",
            "line": 41,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          },
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 57,
            "snippet": "当你看到类似 `index_state missing ... policy=reset` 的 WARN 时，它表达的是对 `--on-missing-state=reset` 的**默认评估**分支，并不等价于“已经执行 reset”。"
          },
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 58,
            "snippet": "若同一轮启动还出现 `WAL indicates resumable progress; ignore on-missing-state=reset and continue with resume.`，则代表 WAL 判定可续跑，进入 resume 路径为**最终生效**决策，此时不会执行 reset（避免重复写入与无谓重置）。"
          }
        ],
        "resume-status": [
          {
            "heading": "## 目录",
            "line": 41,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/run_build_profile_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "run_build_profile.py 使用说明（运行构建性能分析）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "other",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "tools/run_ci_gates.cmd",
          "cmd /c tools/run_ci_gates.cmd"
        ],
        "generation": {
          "options": "help-snapshot",
          "output_contract": "none"
        },
        "impl": {
          "wrapper": "tools/run_ci_gates.cmd"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "run_ci_gates.cmd 使用说明",
        "tool_id": "run_ci_gates",
        "version": "v1.1"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:162-162",
            "hint": "",
            "raw": "../docs/howto/ci_pr_gates.md",
            "ref_type": "md",
            "target_uri": "docs/howto/ci_pr_gates.md"
          },
          {
            "from_locator": "line:163-163",
            "hint": "",
            "raw": "../docs/howto/OPERATION_GUIDE.md",
            "ref_type": "md",
            "target_uri": "docs/howto/OPERATION_GUIDE.md"
          },
          {
            "from_locator": "line:164-164",
            "hint": "",
            "raw": "../docs/reference/REFERENCE.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REFERENCE.md"
          }
        ]
      },
      "path": "tools/run_ci_gates_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "run_ci_gates.cmd 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/run_eval_rag.py",
          "python -m mhy_ai_rag_data.tools.run_eval_rag"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.run_eval_rag",
          "wrapper": "tools/run_eval_rag.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "`run_eval_rag.py` 使用说明（Stage-2：端到端 RAG 回归 must_include 断言）",
        "tool_id": "run_eval_rag",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-21",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": [
          {
            "from_locator": "line:135-135",
            "hint": "",
            "raw": "../docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md",
            "ref_type": "md",
            "target_uri": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
          }
        ]
      },
      "path": "tools/run_eval_rag_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "`run_eval_rag.py` 使用说明（Stage-2：端到端 RAG 回归 must_include 断言）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/run_eval_retrieval.py",
          "python -m mhy_ai_rag_data.tools.run_eval_retrieval"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.run_eval_retrieval",
          "wrapper": "tools/run_eval_retrieval.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "`run_eval_retrieval.py` 使用说明（Stage-2：检索侧回归 hit@k + 分桶回归）",
        "tool_id": "run_eval_retrieval",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-21",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/run_eval_retrieval_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "`run_eval_retrieval.py` 使用说明（Stage-2：检索侧回归 hit@k + 分桶回归）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/run_profile_with_timing.py",
          "python -m mhy_ai_rag_data.tools.run_profile_with_timing"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.run_profile_with_timing",
          "wrapper": "tools/run_profile_with_timing.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "run_profile_with_timing.py 使用说明（带时间统计的性能分析）",
        "tool_id": "run_profile_with_timing",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/run_profile_with_timing_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "run_profile_with_timing.py 使用说明（带时间统计的性能分析）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/run_rag_eval_batch.py",
          "python -m mhy_ai_rag_data.tools.run_rag_eval_batch"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.run_rag_eval_batch",
          "wrapper": "tools/run_rag_eval_batch.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "run_rag_eval_batch.py 使用说明（批量 RAG 评估）",
        "tool_id": "run_rag_eval_batch",
        "version": "v2.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/run_rag_eval_batch_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "run_rag_eval_batch.py 使用说明（批量 RAG 评估）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/schema_validate.py",
          "python -m mhy_ai_rag_data.tools.schema_validate"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.schema_validate",
          "wrapper": "tools/schema_validate.py"
        },
        "last_updated": "2026-01-11",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "schema_validate.py / rag-schema-validate 使用说明（JSON Schema 校验工具）",
        "tool_id": "schema_validate",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/schema_validate_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "schema_validate.py / rag-schema-validate 使用说明（JSON Schema 校验工具）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/smoke_test_pipeline.py",
          "python -m mhy_ai_rag_data.tools.smoke_test_pipeline"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.smoke_test_pipeline",
          "wrapper": "tools/smoke_test_pipeline.py"
        },
        "last_updated": "2026-01-23",
        "mapping_status": "ok",
        "owner": "zhiz",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "smoke_test_pipeline.py 使用说明（烟雾测试管道）",
        "tool_id": "smoke_test_pipeline",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-23",
      "has_front_matter": true,
      "keyword_hits": {
        "index_state.stage.jsonl": [
          {
            "heading": "## 目录",
            "line": 40,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          }
        ],
        "on-missing-state": [
          {
            "heading": "## 目录",
            "line": 40,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          },
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 56,
            "snippet": "当你看到类似 `index_state missing ... policy=reset` 的 WARN 时，它表达的是对 `--on-missing-state=reset` 的**默认评估**分支，并不等价于“已经执行 reset”。"
          },
          {
            "heading": "### 关于 `policy=reset` 的两阶段含义（默认评估 vs 最终生效）",
            "line": 57,
            "snippet": "若同一轮启动还出现 `WAL indicates resumable progress; ignore on-missing-state=reset and continue with resume.`，则代表 WAL 判定可续跑，进入 resume 路径为**最终生效**决策，此时不会执行 reset（避免重复写入与无谓重置）。"
          }
        ],
        "resume-status": [
          {
            "heading": "## 目录",
            "line": 40,
            "snippet": "> 注意（2026-01-23）：`build_chroma_index_flagembedding` 已引入断点续跑 WAL（`index_state.stage.jsonl`）与 `--resume-status`。因此当出现“state 缺失但库非空”的场景时，`on-missing-state=reset` 可能会被 WAL 的 resume ..."
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/smoke_test_pipeline_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "smoke_test_pipeline.py 使用说明（烟雾测试管道）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/snapshot_stage1_baseline.py",
          "python -m mhy_ai_rag_data.tools.snapshot_stage1_baseline"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.snapshot_stage1_baseline",
          "wrapper": "tools/snapshot_stage1_baseline.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "`snapshot_stage1_baseline.py` 使用说明（Stage-1 基线快照：产物指纹 + Chroma 落盘状态）",
        "tool_id": "snapshot_stage1_baseline",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/snapshot_stage1_baseline_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "`snapshot_stage1_baseline.py` 使用说明（Stage-1 基线快照：产物指纹 + Chroma 落盘状态）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/suggest_eval_case.py",
          "python -m mhy_ai_rag_data.tools.suggest_eval_case"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.suggest_eval_case",
          "wrapper": "tools/suggest_eval_case.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "`suggest_eval_case.py` 使用说明（半自动生成 eval case：expected_sources + must_include + bucket/pair_id）",
        "tool_id": "suggest_eval_case",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/suggest_eval_case_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "`suggest_eval_case.py` 使用说明（半自动生成 eval case：expected_sources + must_include + bucket/pair_id）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/suggest_expected_sources.py",
          "python -m mhy_ai_rag_data.tools.suggest_expected_sources"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.suggest_expected_sources",
          "wrapper": "tools/suggest_expected_sources.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "`suggest_expected_sources.py` 使用说明（expected_sources 取证与推荐：基于 Chroma topK）",
        "tool_id": "suggest_expected_sources",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/suggest_expected_sources_README_v2.md",
      "role": "README",
      "role_hint": "name",
      "title": "`suggest_expected_sources.py` 使用说明（expected_sources 取证与推荐：基于 Chroma topK）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/update_postmortems_index.py",
          "python -m mhy_ai_rag_data.tools.update_postmortems_index"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.update_postmortems_index",
          "wrapper": "tools/update_postmortems_index.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "update_postmortems_index_README",
        "tool_id": "update_postmortems_index",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/update_postmortems_index_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "update_postmortems_index_README"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/validate_eval_cases.py",
          "python -m mhy_ai_rag_data.tools.validate_eval_cases"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.validate_eval_cases",
          "wrapper": "tools/validate_eval_cases.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "`validate_eval_cases.py` 使用说明（校验 eval_cases.jsonl：结构 + 可执行性 + 分桶字段）",
        "tool_id": "validate_eval_cases",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/validate_eval_cases_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "`validate_eval_cases.py` 使用说明（校验 eval_cases.jsonl：结构 + 可执行性 + 分桶字段）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/validate_review_spec.py"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "wrapper": "tools/validate_review_spec.py"
        },
        "last_updated": "2026-01-12",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "validate_review_spec 使用说明",
        "tool_id": "validate_review_spec",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/validate_review_spec_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "validate_review_spec 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/verify_postmortems_and_troubleshooting.py",
          "python -m mhy_ai_rag_data.tools.verify_postmortems_and_troubleshooting"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.verify_postmortems_and_troubleshooting",
          "wrapper": "tools/verify_postmortems_and_troubleshooting.py"
        },
        "last_updated": "2026-01-07",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "verify_postmortems_and_troubleshooting 使用说明",
        "tool_id": "verify_postmortems_and_troubleshooting",
        "version": "v1"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/verify_postmortems_and_troubleshooting_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "verify_postmortems_and_troubleshooting 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/verify_reports_schema.py",
          "python -m mhy_ai_rag_data.tools.verify_reports_schema"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.verify_reports_schema",
          "wrapper": "tools/verify_reports_schema.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "verify_reports_schema.py 使用说明",
        "tool_id": "verify_reports_schema",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/verify_reports_schema_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "verify_reports_schema.py 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/verify_sentence_transformer_cuda.py",
          "python -m mhy_ai_rag_data.tools.verify_sentence_transformer_cuda"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.verify_sentence_transformer_cuda",
          "wrapper": "tools/verify_sentence_transformer_cuda.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "verify_sentence_transformer_cuda.py 使用说明",
        "tool_id": "verify_sentence_transformer_cuda",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/verify_sentence_transformer_cuda_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "verify_sentence_transformer_cuda.py 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/verify_single_report_output.py",
          "python -m mhy_ai_rag_data.tools.verify_single_report_output"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.verify_single_report_output",
          "wrapper": "tools/verify_single_report_output.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "verify_single_report_output.py 使用说明",
        "tool_id": "verify_single_report_output",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/verify_single_report_output_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "verify_single_report_output.py 使用说明"
    },
    {
      "action": "need_align",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/verify_stage1_pipeline.py",
          "python -m mhy_ai_rag_data.tools.verify_stage1_pipeline"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.verify_stage1_pipeline",
          "wrapper": "tools/verify_stage1_pipeline.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "owner": "zhiz",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "`verify_stage1_pipeline.py` 使用说明（Stage-1 一键验收/回归）",
        "tool_id": "verify_stage1_pipeline",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "## 目录",
            "line": 56,
            "snippet": "- [8.2 “planned_chunks == collection.count 是最小完整性约束”](#82-planned_chunks-collectioncount-是最小完整性约束)"
          },
          {
            "heading": "### 2.1 做什么（Checks）",
            "line": 113,
            "snippet": "- 读取 `<collection>`（默认 `rag_chunks`）并取 `collection.count()`"
          },
          {
            "heading": "### 2.1 做什么（Checks）",
            "line": 114,
            "snippet": "- 将 `collection.count()` 与 `chunk_plan.json` 的 planned_chunks 对比"
          },
          {
            "heading": "### 8.2 “planned_chunks == collection.count 是最小完整性约束”",
            "line": 295,
            "snippet": "### 8.2 “planned_chunks == collection.count 是最小完整性约束”"
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/verify_stage1_pipeline_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "`verify_stage1_pipeline.py` 使用说明（Stage-1 一键验收/回归）"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "other",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/verify_torch_cuda.py",
          "python -m mhy_ai_rag_data.tools.verify_torch_cuda"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.verify_torch_cuda",
          "wrapper": "tools/verify_torch_cuda.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "verify_torch_cuda.py 使用说明",
        "tool_id": "verify_torch_cuda",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/verify_torch_cuda_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "verify_torch_cuda.py 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/view_gate_report.py",
          "python -m mhy_ai_rag_data.tools.view_gate_report"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.view_gate_report",
          "wrapper": "tools/view_gate_report.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "view_gate_report.py 使用说明",
        "tool_id": "view_gate_report",
        "version": "v1.1"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/view_gate_report_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "view_gate_report.py 使用说明"
    },
    {
      "action": "no_action",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "none"
        },
        "entrypoints": [
          "python tools/view_stage2_reports.py",
          "python -m mhy_ai_rag_data.tools.view_stage2_reports"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "none"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.view_stage2_reports",
          "wrapper": "tools/view_stage2_reports.py"
        },
        "last_updated": "2026-01-20",
        "mapping_status": "ok",
        "timezone": "America/Los_Angeles",
        "title": "`view_stage2_reports.py` 使用说明（Stage-2 输出文件一键解读）",
        "tool_id": "view_stage2_reports",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {},
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/view_stage2_reports_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "`view_stage2_reports.py` 使用说明（Stage-2 输出文件一键解读）"
    },
    {
      "action": "need_align",
      "front_matter": {
        "cli_framework": "argparse",
        "contracts": {
          "output": "report-output-v2"
        },
        "entrypoints": [
          "python tools/write_db_build_stamp.py",
          "python -m mhy_ai_rag_data.tools.write_db_build_stamp"
        ],
        "generation": {
          "options": "static-ast",
          "output_contract": "ssot"
        },
        "impl": {
          "module": "mhy_ai_rag_data.tools.write_db_build_stamp",
          "wrapper": "tools/write_db_build_stamp.py"
        },
        "last_updated": "2026-01-16",
        "mapping_status": "ok",
        "owner": "zhiz",
        "status": "active",
        "timezone": "America/Los_Angeles",
        "title": "write_db_build_stamp.py 使用说明（写入数据库构建戳）",
        "tool_id": "write_db_build_stamp",
        "version": "v1.0"
      },
      "git_last_commit_date": "2026-01-20",
      "has_front_matter": true,
      "keyword_hits": {
        "collection.count": [
          {
            "heading": "## 自动生成区块（AUTO）",
            "line": 107,
            "snippet": "| `--collection-count` | — | None | optional: provide collection.count snapshot to avoid opening Chroma (int) |"
          }
        ],
        "schema_hash": [
          {
            "heading": "## 输出",
            "line": 92,
            "snippet": "\"schema_hash\": \"abc123...\","
          }
        ]
      },
      "links": {
        "assets": [],
        "docs": []
      },
      "path": "tools/write_db_build_stamp_README.md",
      "role": "README",
      "role_hint": "name",
      "title": "write_db_build_stamp.py 使用说明（写入数据库构建戳）"
    }
  ],
  "edges": [
    {
      "from": "README.md",
      "from_locator": "line:17-17",
      "hint": "",
      "raw": "docs/INDEX.md",
      "ref_type": "md",
      "to": "docs/INDEX.md"
    },
    {
      "from": "README.md",
      "from_locator": "line:80-80",
      "hint": "",
      "raw": "docs/archive/README_LEGACY_FULL.md",
      "ref_type": "md",
      "to": "docs/archive/README_LEGACY_FULL.md"
    },
    {
      "from": "README.md",
      "from_locator": "line:49-49",
      "hint": "#step-0环境与依赖安装core-vs-embed避免在-python-313-及以上误装-stage-2",
      "raw": "docs/howto/OPERATION_GUIDE.md",
      "ref_type": "md",
      "to": "docs/howto/OPERATION_GUIDE.md"
    },
    {
      "from": "README.md",
      "from_locator": "line:20-20",
      "hint": "",
      "raw": "docs/howto/review_workflow.md",
      "ref_type": "md",
      "to": "docs/howto/review_workflow.md"
    },
    {
      "from": "README.md",
      "from_locator": "line:19-19",
      "hint": "",
      "raw": "docs/reference/review/README.md",
      "ref_type": "md",
      "to": "docs/reference/review/README.md"
    },
    {
      "from": "README.md",
      "from_locator": "line:18-18",
      "hint": "",
      "raw": "tools/README.md",
      "ref_type": "md",
      "to": "tools/README.md"
    },
    {
      "from": "TROUBLESHOOTING.md",
      "from_locator": "line:6-6",
      "hint": "",
      "raw": "docs/INDEX.md",
      "ref_type": "md",
      "to": "docs/INDEX.md"
    },
    {
      "from": "TROUBLESHOOTING.md",
      "from_locator": "line:5-5",
      "hint": "",
      "raw": "docs/howto/TROUBLESHOOTING.md",
      "ref_type": "md",
      "to": "docs/howto/TROUBLESHOOTING.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:57-57",
      "hint": "",
      "raw": "../CHANGELOG.md",
      "ref_type": "md",
      "to": "CHANGELOG.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:59-59",
      "hint": "",
      "raw": "../CODE_OF_CONDUCT.md",
      "ref_type": "md",
      "to": "CODE_OF_CONDUCT.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:60-60",
      "hint": "",
      "raw": "../CONTRIBUTING.md",
      "ref_type": "md",
      "to": "CONTRIBUTING.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:61-61",
      "hint": "",
      "raw": "../SECURITY.md",
      "ref_type": "md",
      "to": "SECURITY.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:62-62",
      "hint": "",
      "raw": "../SUPPORT.md",
      "ref_type": "md",
      "to": "SUPPORT.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:69-69",
      "hint": "",
      "raw": "archive/PACKAGED_USAGE_GUIDE.md",
      "ref_type": "md",
      "to": "docs/archive/PACKAGED_USAGE_GUIDE.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:51-51",
      "hint": "",
      "raw": "explanation/2026-01-04_retrieval_evolution_summary.md",
      "ref_type": "md",
      "to": "docs/explanation/2026-01-04_retrieval_evolution_summary.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:53-53",
      "hint": "",
      "raw": "explanation/LESSONS.md",
      "ref_type": "md",
      "to": "docs/explanation/LESSONS.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:50-50",
      "hint": "",
      "raw": "explanation/documentation_principles.md",
      "ref_type": "md",
      "to": "docs/explanation/documentation_principles.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:25-25",
      "hint": "",
      "raw": "howto/OPERATION_GUIDE.md",
      "ref_type": "md",
      "to": "docs/howto/OPERATION_GUIDE.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:28-28",
      "hint": "",
      "raw": "howto/ORAL_OFFICIAL_RETRIEVAL_REGRESSION.md",
      "ref_type": "md",
      "to": "docs/howto/ORAL_OFFICIAL_RETRIEVAL_REGRESSION.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:34-34",
      "hint": "",
      "raw": "howto/POSTMORTEM_WORKFLOW.md",
      "ref_type": "md",
      "to": "docs/howto/POSTMORTEM_WORKFLOW.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:33-33",
      "hint": "",
      "raw": "howto/PREFLIGHT_CHECKLIST.md",
      "ref_type": "md",
      "to": "docs/howto/PREFLIGHT_CHECKLIST.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:35-35",
      "hint": "",
      "raw": "howto/TROUBLESHOOTING.md",
      "ref_type": "md",
      "to": "docs/howto/TROUBLESHOOTING.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:29-29",
      "hint": "",
      "raw": "howto/ci_pr_gates.md",
      "ref_type": "md",
      "to": "docs/howto/ci_pr_gates.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:32-32",
      "hint": "",
      "raw": "howto/offline_conftest.md",
      "ref_type": "md",
      "to": "docs/howto/offline_conftest.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:30-30",
      "hint": "",
      "raw": "howto/pre_commit.md",
      "ref_type": "md",
      "to": "docs/howto/pre_commit.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:27-27",
      "hint": "",
      "raw": "howto/rag_accept.md",
      "ref_type": "md",
      "to": "docs/howto/rag_accept.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:26-26",
      "hint": "",
      "raw": "howto/rag_status.md",
      "ref_type": "md",
      "to": "docs/howto/rag_status.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:31-31",
      "hint": "",
      "raw": "howto/review_workflow.md",
      "ref_type": "md",
      "to": "docs/howto/review_workflow.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:66-66",
      "hint": "",
      "raw": "postmortems/INDEX.md",
      "ref_type": "md",
      "to": "docs/postmortems/INDEX.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:45-45",
      "hint": "",
      "raw": "reference/EVAL_CASES_SCHEMA.md",
      "ref_type": "md",
      "to": "docs/reference/EVAL_CASES_SCHEMA.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:38-38",
      "hint": "",
      "raw": "reference/REFERENCE.md",
      "ref_type": "md",
      "to": "docs/reference/REFERENCE.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:39-39",
      "hint": "",
      "raw": "reference/REPORT_OUTPUT_ENGINEERING_RULES.md",
      "ref_type": "md",
      "to": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:40-40",
      "hint": "",
      "raw": "reference/TOOLS_README_CODE_ALIGNMENT_CONTRACT.md",
      "ref_type": "md",
      "to": "docs/reference/TOOLS_README_CODE_ALIGNMENT_CONTRACT.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:41-41",
      "hint": "",
      "raw": "reference/TOOLS_README_CODE_SYNC_INDEX.md",
      "ref_type": "md",
      "to": "docs/reference/TOOLS_README_CODE_SYNC_INDEX.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:46-46",
      "hint": "",
      "raw": "reference/index_state_and_stamps.md",
      "ref_type": "md",
      "to": "docs/reference/index_state_and_stamps.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:47-47",
      "hint": "",
      "raw": "reference/postmortem_prompt_template.md",
      "ref_type": "md",
      "to": "docs/reference/postmortem_prompt_template.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:42-42",
      "hint": "",
      "raw": "reference/review/README.md",
      "ref_type": "md",
      "to": "docs/reference/review/README.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:22-22",
      "hint": "",
      "raw": "tutorials/01_getting_started.md",
      "ref_type": "md",
      "to": "docs/tutorials/01_getting_started.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:44-44",
      "hint": "",
      "raw": "../policy/README.md",
      "ref_type": "md",
      "to": "policy/README.md"
    },
    {
      "from": "docs/INDEX.md",
      "from_locator": "line:43-43",
      "hint": "",
      "raw": "../tools/README.md",
      "ref_type": "md",
      "to": "tools/README.md"
    },
    {
      "from": "docs/OPERATION_GUIDE.md",
      "from_locator": "line:7-7",
      "hint": "",
      "raw": "INDEX.md",
      "ref_type": "md",
      "to": "docs/INDEX.md"
    },
    {
      "from": "docs/OPERATION_GUIDE.md",
      "from_locator": "line:6-6",
      "hint": "",
      "raw": "howto/OPERATION_GUIDE.md",
      "ref_type": "md",
      "to": "docs/howto/OPERATION_GUIDE.md"
    },
    {
      "from": "docs/PACKAGED_USAGE_GUIDE.md",
      "from_locator": "line:7-7",
      "hint": "",
      "raw": "INDEX.md",
      "ref_type": "md",
      "to": "docs/INDEX.md"
    },
    {
      "from": "docs/PACKAGED_USAGE_GUIDE.md",
      "from_locator": "line:6-6",
      "hint": "",
      "raw": "archive/PACKAGED_USAGE_GUIDE.md",
      "ref_type": "md",
      "to": "docs/archive/PACKAGED_USAGE_GUIDE.md"
    },
    {
      "from": "docs/README.md",
      "from_locator": "line:6-6",
      "hint": "",
      "raw": "INDEX.md",
      "ref_type": "md",
      "to": "docs/INDEX.md"
    },
    {
      "from": "docs/REFERENCE.md",
      "from_locator": "line:7-7",
      "hint": "",
      "raw": "INDEX.md",
      "ref_type": "md",
      "to": "docs/INDEX.md"
    },
    {
      "from": "docs/REFERENCE.md",
      "from_locator": "line:6-6",
      "hint": "",
      "raw": "reference/REFERENCE.md",
      "ref_type": "md",
      "to": "docs/reference/REFERENCE.md"
    },
    {
      "from": "docs/TROUBLESHOOTING.md",
      "from_locator": "line:7-7",
      "hint": "",
      "raw": "INDEX.md",
      "ref_type": "md",
      "to": "docs/INDEX.md"
    },
    {
      "from": "docs/TROUBLESHOOTING.md",
      "from_locator": "line:6-6",
      "hint": "",
      "raw": "howto/TROUBLESHOOTING.md",
      "ref_type": "md",
      "to": "docs/howto/TROUBLESHOOTING.md"
    },
    {
      "from": "docs/archive/PACKAGED_USAGE_GUIDE.md",
      "from_locator": "line:14-14",
      "hint": "",
      "raw": "../INDEX.md",
      "ref_type": "md",
      "to": "docs/INDEX.md"
    },
    {
      "from": "docs/archive/PACKAGED_USAGE_GUIDE.md",
      "from_locator": "line:16-16",
      "hint": "",
      "raw": "../howto/OPERATION_GUIDE.md",
      "ref_type": "md",
      "to": "docs/howto/OPERATION_GUIDE.md"
    },
    {
      "from": "docs/archive/PACKAGED_USAGE_GUIDE.md",
      "from_locator": "line:17-17",
      "hint": "",
      "raw": "../howto/TROUBLESHOOTING.md",
      "ref_type": "md",
      "to": "docs/howto/TROUBLESHOOTING.md"
    },
    {
      "from": "docs/archive/PACKAGED_USAGE_GUIDE.md",
      "from_locator": "line:18-18",
      "hint": "",
      "raw": "../reference/REFERENCE.md",
      "ref_type": "md",
      "to": "docs/reference/REFERENCE.md"
    },
    {
      "from": "docs/archive/PACKAGED_USAGE_GUIDE.md",
      "from_locator": "line:15-15",
      "hint": "",
      "raw": "../tutorials/01_getting_started.md",
      "ref_type": "md",
      "to": "docs/tutorials/01_getting_started.md"
    },
    {
      "from": "docs/archive/README_LEGACY_FULL.md",
      "from_locator": "line:208-208",
      "hint": "",
      "raw": "../../tools/check_docs_conventions_README.md",
      "ref_type": "md",
      "to": "tools/check_docs_conventions_README.md"
    },
    {
      "from": "docs/archive/README_LEGACY_FULL.md",
      "from_locator": "line:178-178",
      "hint": "",
      "raw": "../../tools/compare_stage1_baseline_snapshots_README.md",
      "ref_type": "md",
      "to": "tools/compare_stage1_baseline_snapshots_README.md"
    },
    {
      "from": "docs/archive/README_LEGACY_FULL.md",
      "from_locator": "line:186-186",
      "hint": "",
      "raw": "../../tools/init_eval_cases_README.md",
      "ref_type": "md",
      "to": "tools/init_eval_cases_README.md"
    },
    {
      "from": "docs/archive/README_LEGACY_FULL.md",
      "from_locator": "line:190-190",
      "hint": "",
      "raw": "../../tools/run_eval_rag_README.md",
      "ref_type": "md",
      "to": "tools/run_eval_rag_README.md"
    },
    {
      "from": "docs/archive/README_LEGACY_FULL.md",
      "from_locator": "line:189-189",
      "hint": "",
      "raw": "../../tools/run_eval_retrieval_README.md",
      "ref_type": "md",
      "to": "tools/run_eval_retrieval_README.md"
    },
    {
      "from": "docs/archive/README_LEGACY_FULL.md",
      "from_locator": "line:177-177",
      "hint": "",
      "raw": "../../tools/snapshot_stage1_baseline_README.md",
      "ref_type": "md",
      "to": "tools/snapshot_stage1_baseline_README.md"
    },
    {
      "from": "docs/archive/README_LEGACY_FULL.md",
      "from_locator": "line:187-187",
      "hint": "",
      "raw": "../../tools/suggest_expected_sources_README_v2.md",
      "ref_type": "md",
      "to": "tools/suggest_expected_sources_README_v2.md"
    },
    {
      "from": "docs/archive/README_LEGACY_FULL.md",
      "from_locator": "line:188-188",
      "hint": "",
      "raw": "../../tools/validate_eval_cases_README.md",
      "ref_type": "md",
      "to": "tools/validate_eval_cases_README.md"
    },
    {
      "from": "docs/archive/README_LEGACY_FULL.md",
      "from_locator": "line:169-169",
      "hint": "",
      "raw": "../../tools/verify_stage1_pipeline_README.md",
      "ref_type": "md",
      "to": "tools/verify_stage1_pipeline_README.md"
    },
    {
      "from": "docs/archive/README_LEGACY_FULL.md",
      "from_locator": "line:191-191",
      "hint": "",
      "raw": "../../tools/view_stage2_reports_README.md",
      "ref_type": "md",
      "to": "tools/view_stage2_reports_README.md"
    },
    {
      "from": "docs/explanation/HANDOFF.md",
      "from_locator": "line:33-33",
      "hint": "",
      "raw": "../reference/REFERENCE.md",
      "ref_type": "md",
      "to": "docs/reference/REFERENCE.md"
    },
    {
      "from": "docs/explanation/LESSONS.md",
      "from_locator": "line:71-71",
      "hint": "",
      "raw": "../howto/PREFLIGHT_CHECKLIST.md",
      "ref_type": "md",
      "to": "docs/howto/PREFLIGHT_CHECKLIST.md"
    },
    {
      "from": "docs/explanation/LESSONS.md",
      "from_locator": "line:72-72",
      "hint": "",
      "raw": "../howto/ci_pr_gates.md",
      "ref_type": "md",
      "to": "docs/howto/ci_pr_gates.md"
    },
    {
      "from": "docs/explanation/LESSONS.md",
      "from_locator": "line:257-257",
      "hint": "",
      "raw": "../postmortems/2026-01-07_postmortem_docs_code_alignment_and_doc_gates.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-07_postmortem_docs_code_alignment_and_doc_gates.md"
    },
    {
      "from": "docs/explanation/LESSONS.md",
      "from_locator": "line:239-239",
      "hint": "",
      "raw": "../postmortems/2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md"
    },
    {
      "from": "docs/explanation/LESSONS.md",
      "from_locator": "line:73-73",
      "hint": "",
      "raw": "../postmortems/INDEX.md",
      "ref_type": "md",
      "to": "docs/postmortems/INDEX.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:354-356",
      "hint": "",
      "raw": "rag_accept.md",
      "ref_type": "md",
      "to": "docs/howto/rag_accept.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:66-67",
      "hint": "",
      "raw": "../postmortems/2025-12-30_postmortem_pip_embed_py314_numpy_meson_fail.md",
      "ref_type": "md",
      "to": "docs/postmortems/2025-12-30_postmortem_pip_embed_py314_numpy_meson_fail.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:203-203",
      "hint": "",
      "raw": "../reference/DOC_SYSTEM_SSOT.md",
      "ref_type": "md",
      "to": "docs/reference/DOC_SYSTEM_SSOT.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:202-202",
      "hint": "",
      "raw": "../reference/GLOSSARY_WAL_RESUME.md",
      "ref_type": "md",
      "to": "docs/reference/GLOSSARY_WAL_RESUME.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:429-429",
      "hint": "",
      "raw": "../reference/REPORT_OUTPUT_ENGINEERING_RULES.md",
      "ref_type": "md",
      "to": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:200-200",
      "hint": "",
      "raw": "../reference/build_chroma_cli_and_logs.md",
      "ref_type": "md",
      "to": "docs/reference/build_chroma_cli_and_logs.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:201-201",
      "hint": "",
      "raw": "../reference/index_state_and_stamps.md",
      "ref_type": "md",
      "to": "docs/reference/index_state_and_stamps.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:352-352",
      "hint": "",
      "raw": "../../tools/compare_stage1_baseline_snapshots_README.md",
      "ref_type": "md",
      "to": "tools/compare_stage1_baseline_snapshots_README.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:390-390",
      "hint": "",
      "raw": "../../tools/init_eval_cases_README.md",
      "ref_type": "md",
      "to": "tools/init_eval_cases_README.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:394-394",
      "hint": "",
      "raw": "../../tools/run_eval_rag_README.md",
      "ref_type": "md",
      "to": "tools/run_eval_rag_README.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:393-393",
      "hint": "",
      "raw": "../../tools/run_eval_retrieval_README.md",
      "ref_type": "md",
      "to": "tools/run_eval_retrieval_README.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:352-352",
      "hint": "",
      "raw": "../../tools/snapshot_stage1_baseline_README.md",
      "ref_type": "md",
      "to": "tools/snapshot_stage1_baseline_README.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:391-391",
      "hint": "",
      "raw": "../../tools/suggest_expected_sources_README_v2.md",
      "ref_type": "md",
      "to": "tools/suggest_expected_sources_README_v2.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:392-392",
      "hint": "",
      "raw": "../../tools/validate_eval_cases_README.md",
      "ref_type": "md",
      "to": "tools/validate_eval_cases_README.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:334-334",
      "hint": "",
      "raw": "../../tools/verify_stage1_pipeline_README.md",
      "ref_type": "md",
      "to": "tools/verify_stage1_pipeline_README.md"
    },
    {
      "from": "docs/howto/OPERATION_GUIDE.md",
      "from_locator": "line:395-395",
      "hint": "",
      "raw": "../../tools/view_stage2_reports_README.md",
      "ref_type": "md",
      "to": "tools/view_stage2_reports_README.md"
    },
    {
      "from": "docs/howto/ORAL_OFFICIAL_RETRIEVAL_REGRESSION.md",
      "from_locator": "line:73-73",
      "hint": "",
      "raw": "../../tools/run_eval_retrieval_README.md",
      "ref_type": "md",
      "to": "tools/run_eval_retrieval_README.md"
    },
    {
      "from": "docs/howto/ORAL_OFFICIAL_RETRIEVAL_REGRESSION.md",
      "from_locator": "line:39-40",
      "hint": "",
      "raw": "../../tools/suggest_eval_case_README.md",
      "ref_type": "md",
      "to": "tools/suggest_eval_case_README.md"
    },
    {
      "from": "docs/howto/ORAL_OFFICIAL_RETRIEVAL_REGRESSION.md",
      "from_locator": "line:59-59",
      "hint": "",
      "raw": "../../tools/validate_eval_cases_README.md",
      "ref_type": "md",
      "to": "tools/validate_eval_cases_README.md"
    },
    {
      "from": "docs/howto/PREFLIGHT_CHECKLIST.md",
      "from_locator": "line:293-293",
      "hint": "",
      "raw": "../../CHANGELOG.md",
      "ref_type": "md",
      "to": "CHANGELOG.md"
    },
    {
      "from": "docs/howto/PREFLIGHT_CHECKLIST.md",
      "from_locator": "line:296-296",
      "hint": "",
      "raw": "../../CODE_OF_CONDUCT.md",
      "ref_type": "md",
      "to": "CODE_OF_CONDUCT.md"
    },
    {
      "from": "docs/howto/PREFLIGHT_CHECKLIST.md",
      "from_locator": "line:302-302",
      "hint": "",
      "raw": "TROUBLESHOOTING.md",
      "ref_type": "md",
      "to": "docs/howto/TROUBLESHOOTING.md"
    },
    {
      "from": "docs/howto/PREFLIGHT_CHECKLIST.md",
      "from_locator": "line:302-302",
      "hint": "",
      "raw": "ci_pr_gates.md",
      "ref_type": "md",
      "to": "docs/howto/ci_pr_gates.md"
    },
    {
      "from": "docs/howto/PREFLIGHT_CHECKLIST.md",
      "from_locator": "line:156-156",
      "hint": "",
      "raw": "pre_commit.md",
      "ref_type": "md",
      "to": "docs/howto/pre_commit.md"
    },
    {
      "from": "docs/howto/PREFLIGHT_CHECKLIST.md",
      "from_locator": "line:304-304",
      "hint": "",
      "raw": "../postmortems/2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md"
    },
    {
      "from": "docs/howto/TROUBLESHOOTING.md",
      "from_locator": "line:115-115",
      "hint": "",
      "raw": "../postmortems/2025-12-26_chroma_build_postmortem.md",
      "ref_type": "md",
      "to": "docs/postmortems/2025-12-26_chroma_build_postmortem.md"
    },
    {
      "from": "docs/howto/ci_pr_gates.md",
      "from_locator": "line:116-116",
      "hint": "",
      "raw": "pre_commit.md",
      "ref_type": "md",
      "to": "docs/howto/pre_commit.md"
    },
    {
      "from": "docs/howto/ci_pr_gates.md",
      "from_locator": "line:55-55",
      "hint": "",
      "raw": "../../policy/README.md",
      "ref_type": "md",
      "to": "policy/README.md"
    },
    {
      "from": "docs/howto/ci_pr_gates.md",
      "from_locator": "line:52-52",
      "hint": "",
      "raw": "../../tools/gate_README.md",
      "ref_type": "md",
      "to": "tools/gate_README.md"
    },
    {
      "from": "docs/howto/ci_pr_gates.md",
      "from_locator": "line:53-53",
      "hint": "",
      "raw": "../../tools/view_gate_report_README.md",
      "ref_type": "md",
      "to": "tools/view_gate_report_README.md"
    },
    {
      "from": "docs/howto/pre_commit.md",
      "from_locator": "line:159-159",
      "hint": "",
      "raw": "PREFLIGHT_CHECKLIST.md",
      "ref_type": "md",
      "to": "docs/howto/PREFLIGHT_CHECKLIST.md"
    },
    {
      "from": "docs/howto/pre_commit.md",
      "from_locator": "line:158-158",
      "hint": "",
      "raw": "ci_pr_gates.md",
      "ref_type": "md",
      "to": "docs/howto/ci_pr_gates.md"
    },
    {
      "from": "docs/howto/pre_commit.md",
      "from_locator": "line:160-160",
      "hint": "",
      "raw": "../../tools/rag_python.md",
      "ref_type": "md",
      "to": "tools/rag_python.md"
    },
    {
      "from": "docs/howto/rag_status.md",
      "from_locator": "line:25-25",
      "hint": "",
      "raw": "OPERATION_GUIDE.md",
      "ref_type": "md",
      "to": "docs/howto/OPERATION_GUIDE.md"
    },
    {
      "from": "docs/howto/rag_status.md",
      "from_locator": "line:28-28",
      "hint": "",
      "raw": "TROUBLESHOOTING.md",
      "ref_type": "md",
      "to": "docs/howto/TROUBLESHOOTING.md"
    },
    {
      "from": "docs/howto/rag_status.md",
      "from_locator": "line:26-26",
      "hint": "",
      "raw": "rag_accept.md",
      "ref_type": "md",
      "to": "docs/howto/rag_accept.md"
    },
    {
      "from": "docs/howto/rag_status.md",
      "from_locator": "line:27-27",
      "hint": "",
      "raw": "../reference/index_state_and_stamps.md",
      "ref_type": "md",
      "to": "docs/reference/index_state_and_stamps.md"
    },
    {
      "from": "docs/old_postmortem_prompt_template.md",
      "from_locator": "line:7-7",
      "hint": "",
      "raw": "INDEX.md",
      "ref_type": "md",
      "to": "docs/INDEX.md"
    },
    {
      "from": "docs/old_postmortem_prompt_template.md",
      "from_locator": "line:6-6",
      "hint": "",
      "raw": "reference/postmortem_prompt_template.md",
      "ref_type": "md",
      "to": "docs/reference/postmortem_prompt_template.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:9-9",
      "hint": "",
      "raw": "../explanation/LESSONS.md",
      "ref_type": "md",
      "to": "docs/explanation/LESSONS.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:10-10",
      "hint": "",
      "raw": "../howto/PREFLIGHT_CHECKLIST.md",
      "ref_type": "md",
      "to": "docs/howto/PREFLIGHT_CHECKLIST.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:108-108",
      "hint": "",
      "raw": "2025-12-26_chroma_build_postmortem.md",
      "ref_type": "md",
      "to": "docs/postmortems/2025-12-26_chroma_build_postmortem.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:100-100",
      "hint": "",
      "raw": "2025-12-27_postmortem_llm_timeout_lmstudio.md",
      "ref_type": "md",
      "to": "docs/postmortems/2025-12-27_postmortem_llm_timeout_lmstudio.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:95-95",
      "hint": "",
      "raw": "2025-12-28_postmortem_llm_proxy_timeout_7890.md",
      "ref_type": "md",
      "to": "docs/postmortems/2025-12-28_postmortem_llm_proxy_timeout_7890.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:87-87",
      "hint": "",
      "raw": "2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md",
      "ref_type": "md",
      "to": "docs/postmortems/2025-12-29_chroma_build_postmortem_count_mismatch_3728_vs_4433.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:90-90",
      "hint": "",
      "raw": "2025-12-29_units_pipeline_postmortem_inventory_units_mismatch_and_extract_units_typeerror.md",
      "ref_type": "md",
      "to": "docs/postmortems/2025-12-29_units_pipeline_postmortem_inventory_units_mismatch_and_extract_units_typeerror.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:76-76",
      "hint": "",
      "raw": "2025-12-30_postmortem_ci_optional_dependency_chromadb.md",
      "ref_type": "md",
      "to": "docs/postmortems/2025-12-30_postmortem_ci_optional_dependency_chromadb.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:79-79",
      "hint": "",
      "raw": "2025-12-30_postmortem_pip_embed_py314_numpy_meson_fail.md",
      "ref_type": "md",
      "to": "docs/postmortems/2025-12-30_postmortem_pip_embed_py314_numpy_meson_fail.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:82-82",
      "hint": "",
      "raw": "2025-12-30_units_pipeline_postmortem_import_contract_cli_entrypoints_rg.md",
      "ref_type": "md",
      "to": "docs/postmortems/2025-12-30_units_pipeline_postmortem_import_contract_cli_entrypoints_rg.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:71-71",
      "hint": "",
      "raw": "2026-01-02-18h_status_step6_check_json_stale_false_positive.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-02-18h_status_step6_check_json_stale_false_positive.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:63-63",
      "hint": "",
      "raw": "2026-01-03-21h_rag_accept_cli_missing_and_doc_encoding_mismatch.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-03-21h_rag_accept_cli_missing_and_doc_encoding_mismatch.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:66-66",
      "hint": "",
      "raw": "2026-01-03_issue1_postmortem.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-03_issue1_postmortem.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:58-58",
      "hint": "",
      "raw": "2026-01-05_postmortem_llm_http_observability_and_model_identity.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-05_postmortem_llm_http_observability_and_model_identity.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:53-53",
      "hint": "",
      "raw": "2026-01-07_postmortem_docs_code_alignment_and_doc_gates.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-07_postmortem_docs_code_alignment_and_doc_gates.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:45-45",
      "hint": "",
      "raw": "2026-01-08_postmortem_public_release_preflight.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-08_postmortem_public_release_preflight.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:48-48",
      "hint": "",
      "raw": "2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-08_tools_layout_wrapper_gen_exitcode_contract.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:40-40",
      "hint": "",
      "raw": "2026-01-09_postmortem_open_source_repo_health_files.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-09_postmortem_open_source_repo_health_files.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:32-32",
      "hint": "",
      "raw": "2026-01-11_postmortem_public_release_hygiene_rc2_and_report_written_signal.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-11_postmortem_public_release_hygiene_rc2_and_report_written_signal.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:35-35",
      "hint": "",
      "raw": "2026-01-11_postmortem_ssot_gate_schema_policy_single_entrypoint.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-11_postmortem_ssot_gate_schema_policy_single_entrypoint.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:27-27",
      "hint": "",
      "raw": "2026-01-13_postmortem_review_spec_priority_coverage_gate_and_handoff.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-13_postmortem_review_spec_priority_coverage_gate_and_handoff.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:15-15",
      "hint": "",
      "raw": "2026-01-15_postmortem_file_report_ordering.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-15_postmortem_file_report_ordering.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:19-19",
      "hint": "",
      "raw": "2026-01-15_postmortem_report_output_contract_paths.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-15_postmortem_report_output_contract_paths.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:23-23",
      "hint": "",
      "raw": "2026-01-15_postmortem_vscode_clickable_loc_uri.md",
      "ref_type": "md",
      "to": "docs/postmortems/2026-01-15_postmortem_vscode_clickable_loc_uri.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:103-103",
      "hint": "",
      "raw": "25-12-27_CPU-only_chroma-build_postmoretm.md",
      "ref_type": "md",
      "to": "docs/postmortems/25-12-27_CPU-only_chroma-build_postmoretm.md"
    },
    {
      "from": "docs/postmortems/INDEX.md",
      "from_locator": "line:8-8",
      "hint": "",
      "raw": "../reference/postmortem_prompt_template.md",
      "ref_type": "md",
      "to": "docs/reference/postmortem_prompt_template.md"
    },
    {
      "from": "docs/reference/EVAL_CASES_SCHEMA.md",
      "from_locator": "line:21-21",
      "hint": "",
      "raw": "REPORT_OUTPUT_ENGINEERING_RULES.md",
      "ref_type": "md",
      "to": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
    },
    {
      "from": "docs/reference/REFERENCE.md",
      "from_locator": "line:545-545",
      "hint": "",
      "raw": "../explanation/HANDOFF.md",
      "ref_type": "md",
      "to": "docs/explanation/HANDOFF.md"
    },
    {
      "from": "docs/reference/REFERENCE.md",
      "from_locator": "line:225-227",
      "hint": "#step-5build向量化--upsert-入库建议用-profile-固化参数并可调-batch",
      "raw": "../howto/OPERATION_GUIDE.md",
      "ref_type": "md",
      "to": "docs/howto/OPERATION_GUIDE.md"
    },
    {
      "from": "docs/reference/REFERENCE.md",
      "from_locator": "line:110-114",
      "hint": "",
      "raw": "../howto/TROUBLESHOOTING.md",
      "ref_type": "md",
      "to": "docs/howto/TROUBLESHOOTING.md"
    },
    {
      "from": "docs/reference/REFERENCE.md",
      "from_locator": "line:54-54",
      "hint": "",
      "raw": "EVAL_CASES_SCHEMA.md",
      "ref_type": "md",
      "to": "docs/reference/EVAL_CASES_SCHEMA.md"
    },
    {
      "from": "docs/reference/REFERENCE.md",
      "from_locator": "line:48-48",
      "hint": "",
      "raw": "REPORT_OUTPUT_CONTRACT.md",
      "ref_type": "md",
      "to": "docs/reference/REPORT_OUTPUT_CONTRACT.md"
    },
    {
      "from": "docs/reference/REFERENCE.md",
      "from_locator": "line:47-47",
      "hint": "",
      "raw": "REPORT_OUTPUT_ENGINEERING_RULES.md",
      "ref_type": "md",
      "to": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
    },
    {
      "from": "docs/reference/REFERENCE.md",
      "from_locator": "line:49-49",
      "hint": "",
      "raw": "TOOLS_README_CODE_ALIGNMENT_CONTRACT.md",
      "ref_type": "md",
      "to": "docs/reference/TOOLS_README_CODE_ALIGNMENT_CONTRACT.md"
    },
    {
      "from": "docs/reference/REFERENCE.md",
      "from_locator": "line:50-50",
      "hint": "",
      "raw": "TOOLS_README_CODE_SYNC_INDEX.md",
      "ref_type": "md",
      "to": "docs/reference/TOOLS_README_CODE_SYNC_INDEX.md"
    },
    {
      "from": "docs/reference/REFERENCE.md",
      "from_locator": "line:52-52",
      "hint": "",
      "raw": "deps_policy.md",
      "ref_type": "md",
      "to": "docs/reference/deps_policy.md"
    },
    {
      "from": "docs/reference/REFERENCE.md",
      "from_locator": "line:53-53",
      "hint": "",
      "raw": "index_state_and_stamps.md",
      "ref_type": "md",
      "to": "docs/reference/index_state_and_stamps.md"
    },
    {
      "from": "docs/reference/REFERENCE.md",
      "from_locator": "line:55-55",
      "hint": "",
      "raw": "postmortem_prompt_template.md",
      "ref_type": "md",
      "to": "docs/reference/postmortem_prompt_template.md"
    },
    {
      "from": "docs/reference/REFERENCE.md",
      "from_locator": "line:56-56",
      "hint": "",
      "raw": "review/README.md",
      "ref_type": "md",
      "to": "docs/reference/review/README.md"
    },
    {
      "from": "docs/reference/postmortem_prompt_template.md",
      "from_locator": "line:301-301",
      "hint": "",
      "raw": "../explanation/LESSONS.md",
      "ref_type": "md",
      "to": "docs/explanation/LESSONS.md"
    },
    {
      "from": "docs/reference/postmortem_prompt_template.md",
      "from_locator": "line:301-301",
      "hint": "",
      "raw": "../howto/PREFLIGHT_CHECKLIST.md",
      "ref_type": "md",
      "to": "docs/howto/PREFLIGHT_CHECKLIST.md"
    },
    {
      "from": "docs/reference/review/README.md",
      "from_locator": "line:21-21",
      "hint": "",
      "raw": "../../howto/review_workflow.md",
      "ref_type": "md",
      "to": "docs/howto/review_workflow.md"
    },
    {
      "from": "docs/reference/review/README.md",
      "from_locator": "line:20-20",
      "hint": "",
      "raw": "REVIEW_SPEC.md",
      "ref_type": "md",
      "to": "docs/reference/review/REVIEW_SPEC.md"
    },
    {
      "from": "docs/tutorials/01_getting_started.md",
      "from_locator": "line:22-22",
      "hint": "#step-0环境与依赖安装core-vs-embed避免在-python-313-及以上误装-stage-2",
      "raw": "../howto/OPERATION_GUIDE.md",
      "ref_type": "md",
      "to": "docs/howto/OPERATION_GUIDE.md"
    },
    {
      "from": "docs/tutorials/01_getting_started.md",
      "from_locator": "line:69-69",
      "hint": "",
      "raw": "../howto/TROUBLESHOOTING.md",
      "ref_type": "md",
      "to": "docs/howto/TROUBLESHOOTING.md"
    },
    {
      "from": "docs/tutorials/01_getting_started.md",
      "from_locator": "line:66-66",
      "hint": "",
      "raw": "../howto/rag_status.md",
      "ref_type": "md",
      "to": "docs/howto/rag_status.md"
    },
    {
      "from": "docs/tutorials/01_getting_started.md",
      "from_locator": "line:70-70",
      "hint": "",
      "raw": "../reference/REFERENCE.md",
      "ref_type": "md",
      "to": "docs/reference/REFERENCE.md"
    },
    {
      "from": "docs/tutorials/01_getting_started.md",
      "from_locator": "line:71-71",
      "hint": "",
      "raw": "../reference/REPORT_OUTPUT_ENGINEERING_RULES.md",
      "ref_type": "md",
      "to": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
    },
    {
      "from": "docs/tutorials/01_getting_started.md",
      "from_locator": "line:67-67",
      "hint": "",
      "raw": "../reference/index_state_and_stamps.md",
      "ref_type": "md",
      "to": "docs/reference/index_state_and_stamps.md"
    },
    {
      "from": "policy/README.md",
      "from_locator": "line:157-157",
      "hint": "",
      "raw": "../docs/howto/ci_pr_gates.md",
      "ref_type": "md",
      "to": "docs/howto/ci_pr_gates.md"
    },
    {
      "from": "policy/README.md",
      "from_locator": "line:53-53",
      "hint": "",
      "raw": "../docs/howto/offline_conftest.md",
      "ref_type": "md",
      "to": "docs/howto/offline_conftest.md"
    },
    {
      "from": "policy/README.md",
      "from_locator": "line:156-156",
      "hint": "",
      "raw": "../tools/gate_README.md",
      "ref_type": "md",
      "to": "tools/gate_README.md"
    },
    {
      "from": "tools/USAGE_public_release_audit.md",
      "from_locator": "line:26-26",
      "hint": "",
      "raw": "check_public_release_hygiene_README.md",
      "ref_type": "md",
      "to": "tools/check_public_release_hygiene_README.md"
    },
    {
      "from": "tools/USAGE_public_release_audit.md",
      "from_locator": "line:25-25",
      "hint": "",
      "raw": "fix_public_release_hygiene_README.md",
      "ref_type": "md",
      "to": "tools/fix_public_release_hygiene_README.md"
    },
    {
      "from": "tools/build_chroma_index_flagembedding_README.md",
      "from_locator": "line:107-107",
      "hint": "",
      "raw": "../docs/reference/GLOSSARY_WAL_RESUME.md",
      "ref_type": "md",
      "to": "docs/reference/GLOSSARY_WAL_RESUME.md"
    },
    {
      "from": "tools/build_chroma_index_flagembedding_README.md",
      "from_locator": "line:106-106",
      "hint": "",
      "raw": "../docs/reference/build_chroma_cli_and_logs.md",
      "ref_type": "md",
      "to": "docs/reference/build_chroma_cli_and_logs.md"
    },
    {
      "from": "tools/build_chroma_index_flagembedding_README.md",
      "from_locator": "line:108-108",
      "hint": "",
      "raw": "../docs/reference/index_state_and_stamps.md",
      "ref_type": "md",
      "to": "docs/reference/index_state_and_stamps.md"
    },
    {
      "from": "tools/build_chroma_index_flagembedding_README.md",
      "from_locator": "line:236-236",
      "hint": "",
      "raw": "check_chroma_coverage_vs_units_README.md",
      "ref_type": "md",
      "to": "tools/check_chroma_coverage_vs_units_README.md"
    },
    {
      "from": "tools/build_chroma_index_flagembedding_README.md",
      "from_locator": "line:237-237",
      "hint": "",
      "raw": "index_state_README.md",
      "ref_type": "md",
      "to": "tools/index_state_README.md"
    },
    {
      "from": "tools/check_all_README.md",
      "from_locator": "line:195-195",
      "hint": "",
      "raw": "../docs/howto/PREFLIGHT_CHECKLIST.md",
      "ref_type": "md",
      "to": "docs/howto/PREFLIGHT_CHECKLIST.md"
    },
    {
      "from": "tools/check_all_README.md",
      "from_locator": "line:196-196",
      "hint": "",
      "raw": "check_docs_conventions_README.md",
      "ref_type": "md",
      "to": "tools/check_docs_conventions_README.md"
    },
    {
      "from": "tools/check_all_README.md",
      "from_locator": "line:197-197",
      "hint": "",
      "raw": "check_tools_layout_README.md",
      "ref_type": "md",
      "to": "tools/check_tools_layout_README.md"
    },
    {
      "from": "tools/check_chroma_coverage_vs_units_README.md",
      "from_locator": "line:211-211",
      "hint": "",
      "raw": "build_chroma_index_flagembedding_README.md",
      "ref_type": "md",
      "to": "tools/build_chroma_index_flagembedding_README.md"
    },
    {
      "from": "tools/check_chroma_coverage_vs_units_README.md",
      "from_locator": "line:212-213",
      "hint": "",
      "raw": "check_chroma_embeddings_sample_README.md",
      "ref_type": "md",
      "to": "tools/check_chroma_embeddings_sample_README.md"
    },
    {
      "from": "tools/check_chroma_coverage_vs_units_README.md",
      "from_locator": "line:212-213",
      "hint": "",
      "raw": "list_chroma_collections_README.md",
      "ref_type": "md",
      "to": "tools/list_chroma_collections_README.md"
    },
    {
      "from": "tools/gate_README.md",
      "from_locator": "line:215-215",
      "hint": "",
      "raw": "../docs/howto/ci_pr_gates.md",
      "ref_type": "md",
      "to": "docs/howto/ci_pr_gates.md"
    },
    {
      "from": "tools/gate_README.md",
      "from_locator": "line:217-217",
      "hint": "",
      "raw": "../docs/reference/REFERENCE.md",
      "ref_type": "md",
      "to": "docs/reference/REFERENCE.md"
    },
    {
      "from": "tools/gate_README.md",
      "from_locator": "line:220-220",
      "hint": "",
      "raw": "../policy/README.md",
      "ref_type": "md",
      "to": "policy/README.md"
    },
    {
      "from": "tools/gate_README.md",
      "from_locator": "line:216-216",
      "hint": "",
      "raw": "view_gate_report_README.md",
      "ref_type": "md",
      "to": "tools/view_gate_report_README.md"
    },
    {
      "from": "tools/probe_llm_server_README.md",
      "from_locator": "line:79-79",
      "hint": "",
      "raw": "../docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md",
      "ref_type": "md",
      "to": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
    },
    {
      "from": "tools/rag_python.md",
      "from_locator": "line:32-32",
      "hint": "",
      "raw": "../docs/howto/pre_commit.md",
      "ref_type": "md",
      "to": "docs/howto/pre_commit.md"
    },
    {
      "from": "tools/run_ci_gates_README.md",
      "from_locator": "line:163-163",
      "hint": "",
      "raw": "../docs/howto/OPERATION_GUIDE.md",
      "ref_type": "md",
      "to": "docs/howto/OPERATION_GUIDE.md"
    },
    {
      "from": "tools/run_ci_gates_README.md",
      "from_locator": "line:162-162",
      "hint": "",
      "raw": "../docs/howto/ci_pr_gates.md",
      "ref_type": "md",
      "to": "docs/howto/ci_pr_gates.md"
    },
    {
      "from": "tools/run_ci_gates_README.md",
      "from_locator": "line:164-164",
      "hint": "",
      "raw": "../docs/reference/REFERENCE.md",
      "ref_type": "md",
      "to": "docs/reference/REFERENCE.md"
    },
    {
      "from": "tools/run_eval_rag_README.md",
      "from_locator": "line:135-135",
      "hint": "",
      "raw": "../docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md",
      "ref_type": "md",
      "to": "docs/reference/REPORT_OUTPUT_ENGINEERING_RULES.md"
    }
  ],
  "meta": {
    "command": "python tools/gen_doc_inventory.py --root . --write",
    "generated_at": "2026-01-23T16:27:57+0800",
    "git_head": "794c24bbfcf14cb08e6de16d8d7ec2b6aae7caf7",
    "include_untracked": true,
    "keywords": [
      "index_state.json",
      "index_state.stage.jsonl",
      "resume-status",
      "on-missing-state",
      "writer.lock",
      "strict-sync",
      "sync-mode",
      "collection.count",
      "schema_hash"
    ],
    "root": "F:/zhiz-c++/zhiz-llm-rag",
    "scanned_md_files_total": 146,
    "schema_version": 1,
    "tracked_md_files_total": 147
  }
}
